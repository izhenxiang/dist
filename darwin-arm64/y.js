import{i as s}from"./1.js";var h=(e,a)=>{var r;return r=9437184/(e*a),r<1&&(e=parseInt(e*r),a=parseInt(a*r)),[e,a]},c;({recbar:c}=s);var v=async()=>{var e,a,r,t,o,i,d;({width:d,height:r}=screen),[i,a]=h(d*2,r*2),localStorage.ppi=i/d,o={audio:!1,video:{mandatory:{maxFrameRate:30,minWidth:i,minHeight:a,maxWidth:i,maxHeight:a,chromeMediaSourceId:await c.screen_source(),chromeMediaSource:"desktop"}}},e=()=>navigator.mediaDevices.getUserMedia(o);try{t=await e()}catch{delete o.audio,t=await e()}return t};export{v};
