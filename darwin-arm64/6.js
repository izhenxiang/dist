import{s as v,r as M,o as W,k as j,M as b,l as q,a as w,F as E,P as O,f as G,e as n,h as P,t as R,m as c,p as J,i as K,b as Q,d as g,_ as U}from"./_.js";import{i as _}from"./-.js";import{b as k}from"./.js";import{O as X}from"./$.js";import{d as Y}from"./8.js";/* empty css        */import{c as d}from"./j.js";import{D as Z}from"./o.js";import{z as x,f as V}from"./f.js";import{H as ee}from"./e.js";import"./5.js";import"./i.js";var I;I=e=>(e+"").padStart(2,"0");var ae=()=>{var e,a,t,r,i;return e=v("00"),a=v("00"),t=v(0),[i,r]=(()=>{var u,o;return o=0,u=void 0,[()=>{u=setInterval(()=>{++o,e.value=I(parseInt(o/60)),a.value=I(o%60),t.value=o},1e3)},()=>{clearInterval(u)}]})(),[t,e,a,i,r]},m,B,$,C,F,l,f,H,L,S,T,z,p;({recbar:f}=_);[L,F,H,z,T]=ae();S=e=>{var a,t,r;t=e.split(`
`),r=[];for(a of t)r.push(a.split(" "));return r};setInterval(async()=>{await V()},5*60*1e3);l=v(!1);m=!1;$=v();B=e=>{[z,T][e-0]()};p=()=>{var e;({value:e}=l),e=!e,k.pause(l.value=e),m&&B(e)};C={pause:async()=>{l.value&&await V(),p()},reset:()=>{m&&(l.value||p(),b(async()=>await _.confirm.show("reset")?k.reset():p()))},cancel:async()=>{if(!m){await f.cancel();return}l.value||p(),b(async()=>await _.confirm.show("cancel")?k.cancel():p())},stop:()=>{k.stop(),T()}};X.start=()=>{z(),m=!0,$.value.className=""};d.src!=="camera"&&q(()=>import("./d.js"),["d.js","k.js","$.js","z.js","-.js","j.js","5.js",".js","i.js","_.js","8.css","e.js","7.js","$..js","u.js"]);var re={components:{zAudio:x},setup:()=>{var e,a,t,r,i,u,o,y,A,D;for(i=S("video 摄像头"),A=M(S(`pause 暂停
stop 结束录制
reset 重新录制
cancel 取消录制`)),D=s=>()=>{d[s]=d[s]?"":localStorage[s],!l.value&&!d.video&&!d.audio&&d.src==="camera"&&C.pause()},y=["audio","video"],r=0,u=y.length;r<u;r++)t=y[r],C[t]=D(t);return a=v(),o=v(),W(()=>{Y(o.value)}),e=s=>{s>=d.max_duration&&m&&(l.value||p(),b(async()=>(await _.confirm.show("pay"),_.open(ee+"?pay=true&user_token="+localStorage.uid),p())))},j(()=>{e(L.value)}),{go:async s=>{var h;if(["pen","rect","txt","arrow"].indexOf(s)+1){if({value:h}=a,h!==s){if(Z.shape=a.value=s,h)return}else{a.value="",await f.draw_x();return}await f.draw();return}(C[s]||f[s])()},expand:()=>{window.innerWidth<200&&f.expand()},left:i,nav:o,right:A,code:$,minute:F,second:H,pause:l,config:d,draw:a}}};const N=e=>(J("data-v-0ede2839"),e=e(),K(),e),te=["title","onClick"],oe=N(()=>n("b",null,null,-1)),se=N(()=>n("span",null,":",-1)),ne=["title","onClick"],ie={class:"draw"},le=N(()=>n("b",null,null,-1));function ue(e,a){const t=Q("z-audio");return g(),w("nav",{class:c({pause:e.pause}),ref:"nav"},[(g(!0),w(E,null,O(e.left,([r,i],u)=>(g(),w("a",{class:c([r,e.config[r]?"":"x"]),title:i,onClick:o=>e.go(r)},null,10,te))),256)),G(t,{onClick:a[0]||(a[0]=r=>e.go("audio"))}),oe,n("code",{class:"pause",ref:"code",onClick:a[1]||(a[1]=(...r)=>e.expand&&e.expand(...r))},[P(R(e.minute),1),se,P(R(e.second),1)],512),(g(!0),w(E,null,O(e.right,([r,i],u)=>(g(),w("a",{class:c([r]),title:i,onClick:o=>e.go(r)},null,10,ne))),256)),n("div",ie,[le,n("a",{class:c(["pen",{now:e.draw=="pen"}]),onClick:a[2]||(a[2]=r=>e.go("pen")),title:"画笔"},null,2),n("a",{class:c(["rect",{now:e.draw=="rect"}]),onClick:a[3]||(a[3]=r=>e.go("rect")),title:"画框"},null,2),n("a",{class:c(["txt",{now:e.draw=="txt"}]),onClick:a[4]||(a[4]=r=>e.go("txt")),title:"文字"},null,2),n("a",{class:c(["arrow",{now:e.draw=="arrow"}]),onClick:a[5]||(a[5]=r=>e.go("arrow")),title:"箭头"},null,2)]),n("a",{class:"down",onClick:a[6]||(a[6]=r=>e.go("down")),title:"收起"})],2)}var he=U(re,[["render",ue],["__scopeId","data-v-0ede2839"]]);export{he as default};
