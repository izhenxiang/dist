import{i as Yo}from"./2.js";import"./1.js";import{D as ht}from"./w.js";import{g as Wo}from"./s.js";import{s as _n,o as No,k as Qn,a as Lo,m as Uo,d as Vo,_ as qo}from"./k.js";import"./_.js";import"./0.js";var ci={exports:{}};(function(W,le){(function(Z){W.exports=Z()})(function(){var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=void 0,Z.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.init=Y,X.getWindow=function(e){return(0,Z.default)(e)?e:(e.ownerDocument||e).defaultView||j.window},X.window=X.realWindow=void 0;var G=void 0;X.realWindow=G;var j=void 0;function Y(e){X.realWindow=G=e;var n=e.document.createTextNode("");n.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(n)===n&&(e=e.wrap(e)),X.window=j=e}X.window=j,typeof window<"u"&&window&&Y(window);var x={};function V(e){return(V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var re=function(e){return!!e&&V(e)==="object"},pe=function(e){return typeof e=="function"},ce={window:function(e){return e===X.window||(0,Z.default)(e)},docFrag:function(e){return re(e)&&e.nodeType===11},object:re,func:pe,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||V(e)!=="object")return!1;var n=X.getWindow(e)||X.window;return/object|function/.test(V(n.Element))?e instanceof n.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return re(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return re(e)&&e.length!==void 0&&pe(e.splice)}};x.default=ce;var ie={};function be(e){var n=e.interaction;if(n.prepared.name==="drag"){var r=n.prepared.axis;r==="x"?(n.coords.cur.page.y=n.coords.start.page.y,n.coords.cur.client.y=n.coords.start.client.y,n.coords.velocity.client.y=0,n.coords.velocity.page.y=0):r==="y"&&(n.coords.cur.page.x=n.coords.start.page.x,n.coords.cur.client.x=n.coords.start.client.x,n.coords.velocity.client.x=0,n.coords.velocity.page.x=0)}}function ge(e){var n=e.iEvent,r=e.interaction;if(r.prepared.name==="drag"){var i=r.prepared.axis;if(i==="x"||i==="y"){var o=i==="x"?"y":"x";n.page[o]=r.coords.start.page[o],n.client[o]=r.coords.start.client[o],n.delta[o]=0}}}Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=void 0;var ze={id:"actions/drag",install:function(e){var n=e.actions,r=e.Interactable,i=e.defaults;r.prototype.draggable=ze.draggable,n.map.drag=ze,n.methodDict.drag="draggable",i.actions.drag=ze.defaults},listeners:{"interactions:before-action-move":be,"interactions:action-resume":be,"interactions:action-move":ge,"auto-start:check":function(e){var n=e.interaction,r=e.interactable,i=e.buttons,o=r.options.drag;if(o&&o.enabled&&(!n.pointerIsDown||!/mouse|pointer/.test(n.pointerType)||(i&r.options.drag.mouseButtons)!=0))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(e){return x.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):x.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:be,move:ge,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},Ce=ze;ie.default=Ce;var oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=void 0;var I={init:function(e){var n=e;I.document=n.document,I.DocumentFragment=n.DocumentFragment||$,I.SVGElement=n.SVGElement||$,I.SVGSVGElement=n.SVGSVGElement||$,I.SVGElementInstance=n.SVGElementInstance||$,I.Element=n.Element||$,I.HTMLElement=n.HTMLElement||I.Element,I.Event=n.Event,I.Touch=n.Touch||$,I.PointerEvent=n.PointerEvent||n.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function $(){}var T=I;oe.default=T;var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var C={init:function(e){var n=oe.default.Element,r=e.navigator||{};C.supportsTouch="ontouchstart"in e||x.default.func(e.DocumentTouch)&&oe.default.document instanceof e.DocumentTouch,C.supportsPointerEvent=r.pointerEnabled!==!1&&!!oe.default.PointerEvent,C.isIOS=/iP(hone|od|ad)/.test(r.platform),C.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),C.isIe9=/MSIE 9/.test(r.userAgent),C.isOperaMobile=r.appName==="Opera"&&C.supportsTouch&&/Presto/.test(r.userAgent),C.prefixedMatchesSelector="matches"in n.prototype?"matches":"webkitMatchesSelector"in n.prototype?"webkitMatchesSelector":"mozMatchesSelector"in n.prototype?"mozMatchesSelector":"oMatchesSelector"in n.prototype?"oMatchesSelector":"msMatchesSelector",C.pEventTypes=C.supportsPointerEvent?oe.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,C.wheelEvent=oe.default.document&&"onmousewheel"in oe.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},xe=C;B.default=xe;var R={};function Pe(e){var n=e.parentNode;if(x.default.docFrag(n)){for(;(n=n.host)&&x.default.docFrag(n););return n}return n}function Oe(e,n){return X.window!==X.realWindow&&(n=n.replace(/\/deep\//g," ")),e[B.default.prefixedMatchesSelector](n)}Object.defineProperty(R,"__esModule",{value:!0}),R.nodeContains=function(e,n){if(e.contains)return e.contains(n);for(;n;){if(n===e)return!0;n=n.parentNode}return!1},R.closest=function(e,n){for(;x.default.element(e);){if(Oe(e,n))return e;e=Pe(e)}return null},R.parentNode=Pe,R.matchesSelector=Oe,R.indexOfDeepestElement=function(e){for(var n,r=[],i=0;i<e.length;i++){var o=e[i],a=e[n];if(o&&i!==n)if(a){var u=Se(o),s=Se(a);if(u!==o.ownerDocument)if(s!==o.ownerDocument)if(u!==s){r=r.length?r:_e(a);var c=void 0;if(a instanceof oe.default.HTMLElement&&o instanceof oe.default.SVGElement&&!(o instanceof oe.default.SVGSVGElement)){if(o===s)continue;c=o.ownerSVGElement}else c=o;for(var p=_e(c,a.ownerDocument),h=0;p[h]&&p[h]===r[h];)h++;var b=[p[h-1],p[h],r[h]];if(b[0])for(var E=b[0].lastChild;E;){if(E===b[1]){n=i,r=p;break}if(E===b[2])break;E=E.previousSibling}}else S=o,w=a,(parseInt(X.getWindow(S).getComputedStyle(S).zIndex,10)||0)>=(parseInt(X.getWindow(w).getComputedStyle(w).zIndex,10)||0)&&(n=i);else n=i}else n=i}var S,w;return n},R.matchesUpTo=function(e,n,r){for(;x.default.element(e);){if(Oe(e,n))return!0;if((e=Pe(e))===r)return Oe(e,n)}return!1},R.getActualElement=function(e){return e.correspondingUseElement||e},R.getScrollXY=Ie,R.getElementClientRect=te,R.getElementRect=function(e){var n=te(e);if(!B.default.isIOS7&&n){var r=Ie(X.getWindow(e));n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n},R.getPath=function(e){for(var n=[];e;)n.push(e),e=Pe(e);return n},R.trySelector=function(e){return!!x.default.string(e)&&(oe.default.document.querySelector(e),!0)};var Se=function(e){return e.parentNode||e.host};function _e(e,n){for(var r,i=[],o=e;(r=Se(o))&&o!==n&&r!==o.ownerDocument;)i.unshift(o),o=r;return i}function Ie(e){return{x:(e=e||X.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function te(e){var n=e instanceof oe.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return n&&{left:n.left,right:n.right,top:n.top,bottom:n.bottom,width:n.width||n.right-n.left,height:n.height||n.bottom-n.top}}var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(e,n){for(var r in n)e[r]=n[r];return e};var l={};function f(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function d(e,n,r){return e==="parent"?(0,R.parentNode)(r):e==="self"?n.getRect(r):(0,R.closest)(r,e)}Object.defineProperty(l,"__esModule",{value:!0}),l.getStringOptionResult=d,l.resolveRectLike=function(e,n,r,i){var o,a=e;return x.default.string(a)?a=d(a,n,r):x.default.func(a)&&(a=a.apply(void 0,function(u){if(Array.isArray(u))return f(u)}(o=i)||function(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}(o)||function(u,s){if(u){if(typeof u=="string")return f(u,s);var c=Object.prototype.toString.call(u).slice(8,-1);return c==="Object"&&u.constructor&&(c=u.constructor.name),c==="Map"||c==="Set"?Array.from(u):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?f(u,s):void 0}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),x.default.element(a)&&(a=(0,R.getElementRect)(a)),a},l.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},l.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,v.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},l.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,v.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},l.addEdges=function(e,n,r){e.left&&(n.left+=r.x),e.right&&(n.right+=r.x),e.top&&(n.top+=r.y),e.bottom&&(n.bottom+=r.y),n.width=n.right-n.left,n.height=n.bottom-n.top};var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e,n,r){var i=e.options[r],o=i&&i.origin||e.options.origin,a=(0,l.resolveRectLike)(o,e,n,[e&&n]);return(0,l.rectToXY)(a)||{x:0,y:0}};var m={};function g(e){return e.trim().split(/ +/)}Object.defineProperty(m,"__esModule",{value:!0}),m.default=function e(n,r,i){if(i=i||{},x.default.string(n)&&n.search(" ")!==-1&&(n=g(n)),x.default.array(n))return n.reduce(function(c,p){return(0,v.default)(c,e(p,r,i))},i);if(x.default.object(n)&&(r=n,n=""),x.default.func(r))i[n]=i[n]||[],i[n].push(r);else if(x.default.array(r))for(var o=0;o<r.length;o++){var a;a=r[o],e(n,a,i)}else if(x.default.object(r))for(var u in r){var s=g(u).map(function(c){return"".concat(n).concat(c)});e(s,r[u],i)}return i};var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,_.default=function(e,n){return Math.sqrt(e*e+n*n)};var P={};function M(e,n){for(var r in n){var i=M.prefixedPropREs,o=!1;for(var a in i)if(r.indexOf(a)===0&&i[a].test(r)){o=!0;break}o||typeof n[r]=="function"||(e[r]=n[r])}return e}Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0,M.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var A=M;P.default=A;var O={};function U(e){return e instanceof oe.default.Event||e instanceof oe.default.Touch}function L(e,n,r){return e=e||"page",(r=r||{}).x=n[e+"X"],r.y=n[e+"Y"],r}function ne(e,n){return n=n||{x:0,y:0},B.default.isOperaMobile&&U(e)?(L("screen",e,n),n.x+=window.scrollX,n.y+=window.scrollY):L("page",e,n),n}function fe(e,n){return n=n||{},B.default.isOperaMobile&&U(e)?L("screen",e,n):L("client",e,n),n}function De(e){var n=[];return x.default.array(e)?(n[0]=e[0],n[1]=e[1]):e.type==="touchend"?e.touches.length===1?(n[0]=e.touches[0],n[1]=e.changedTouches[0]):e.touches.length===0&&(n[0]=e.changedTouches[0],n[1]=e.changedTouches[1]):(n[0]=e.touches[0],n[1]=e.touches[1]),n}function Be(e){for(var n={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++){var i=e[r];for(var o in n)n[o]+=i[o]}for(var a in n)n[a]/=e.length;return n}Object.defineProperty(O,"__esModule",{value:!0}),O.copyCoords=function(e,n){e.page=e.page||{},e.page.x=n.page.x,e.page.y=n.page.y,e.client=e.client||{},e.client.x=n.client.x,e.client.y=n.client.y,e.timeStamp=n.timeStamp},O.setCoordDeltas=function(e,n,r){e.page.x=r.page.x-n.page.x,e.page.y=r.page.y-n.page.y,e.client.x=r.client.x-n.client.x,e.client.y=r.client.y-n.client.y,e.timeStamp=r.timeStamp-n.timeStamp},O.setCoordVelocity=function(e,n){var r=Math.max(n.timeStamp/1e3,.001);e.page.x=n.page.x/r,e.page.y=n.page.y/r,e.client.x=n.client.x/r,e.client.y=n.client.y/r,e.timeStamp=r},O.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},O.isNativePointer=U,O.getXY=L,O.getPageXY=ne,O.getClientXY=fe,O.getPointerId=function(e){return x.default.number(e.pointerId)?e.pointerId:e.identifier},O.setCoords=function(e,n,r){var i=n.length>1?Be(n):n[0];ne(i,e.page),fe(i,e.client),e.timeStamp=r},O.getTouchPair=De,O.pointerAverage=Be,O.touchBBox=function(e){if(!e.length)return null;var n=De(e),r=Math.min(n[0].pageX,n[1].pageX),i=Math.min(n[0].pageY,n[1].pageY),o=Math.max(n[0].pageX,n[1].pageX),a=Math.max(n[0].pageY,n[1].pageY);return{x:r,y:i,left:r,top:i,right:o,bottom:a,width:o-r,height:a-i}},O.touchDistance=function(e,n){var r=n+"X",i=n+"Y",o=De(e),a=o[0][r]-o[1][r],u=o[0][i]-o[1][i];return(0,_.default)(a,u)},O.touchAngle=function(e,n){var r=n+"X",i=n+"Y",o=De(e),a=o[1][r]-o[0][r],u=o[1][i]-o[0][i];return 180*Math.atan2(u,a)/Math.PI},O.getPointerType=function(e){return x.default.string(e.pointerType)?e.pointerType:x.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof oe.default.Touch?"touch":"mouse"},O.getEventTargets=function(e){var n=x.default.func(e.composedPath)?e.composedPath():e.path;return[R.getActualElement(n?n[0]:e.target),R.getActualElement(e.currentTarget)]},O.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},O.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(O,"pointerExtend",{enumerable:!0,get:function(){return P.default}});var Re={};function de(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Te(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(Re,"__esModule",{value:!0}),Re.BaseEvent=void 0;var Q=function(){function e(i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),Te(this,"type",void 0),Te(this,"target",void 0),Te(this,"currentTarget",void 0),Te(this,"interactable",void 0),Te(this,"_interaction",void 0),Te(this,"timeStamp",void 0),Te(this,"immediatePropagationStopped",!1),Te(this,"propagationStopped",!1),this._interaction=i}var n,r;return n=e,(r=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&de(n.prototype,r),e}();Re.BaseEvent=Q,Object.defineProperty(Q.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.find=F.findIndex=F.from=F.merge=F.remove=F.contains=void 0,F.contains=function(e,n){return e.indexOf(n)!==-1},F.remove=function(e,n){return e.splice(e.indexOf(n),1)};var ae=function(e,n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i)}return e};F.merge=ae,F.from=function(e){return ae([],e)};var J=function(e,n){for(var r=0;r<e.length;r++)if(n(e[r],r,e))return r;return-1};F.findIndex=J,F.find=function(e,n){return e[J(e,n)]};var ye={};function Ee(e){return(Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function He(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tt(e,n){return(tt=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(e,n)}function gt(e,n){return!n||Ee(n)!=="object"&&typeof n!="function"?Ue(e):n}function Ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function nt(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(ye,"__esModule",{value:!0}),ye.DropEvent=void 0;var pi=function(e){(function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),c&&tt(s,c)})(u,e);var n,r,i,o,a=(i=u,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var s,c=Tt(i);if(o){var p=Tt(this).constructor;s=Reflect.construct(c,arguments,p)}else s=c.apply(this,arguments);return gt(this,s)});function u(s,c,p){var h;(function(w,z){if(!(w instanceof z))throw new TypeError("Cannot call a class as a function")})(this,u),nt(Ue(h=a.call(this,c._interaction)),"target",void 0),nt(Ue(h),"dropzone",void 0),nt(Ue(h),"dragEvent",void 0),nt(Ue(h),"relatedTarget",void 0),nt(Ue(h),"draggable",void 0),nt(Ue(h),"timeStamp",void 0),nt(Ue(h),"propagationStopped",!1),nt(Ue(h),"immediatePropagationStopped",!1);var b=p==="dragleave"?s.prev:s.cur,E=b.element,S=b.dropzone;return h.type=p,h.target=E,h.currentTarget=E,h.dropzone=S,h.dragEvent=c,h.relatedTarget=c.target,h.draggable=c.interactable,h.timeStamp=c.timeStamp,h}return n=u,(r=[{key:"reject",value:function(){var s=this,c=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&c.cur.dropzone===this.dropzone&&c.cur.element===this.target)if(c.prev.dropzone=this.dropzone,c.prev.element=this.target,c.rejected=!0,c.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var p=c.activeDrops,h=F.findIndex(p,function(E){var S=E.dropzone,w=E.element;return S===s.dropzone&&w===s.target});c.activeDrops.splice(h,1);var b=new u(c,this.dragEvent,"dropdeactivate");b.dropzone=this.dropzone,b.target=this.target,this.dropzone.fire(b)}else this.dropzone.fire(new u(c,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&He(n.prototype,r),u}(Re.BaseEvent);ye.DropEvent=pi;var Nt={};function tr(e,n){for(var r=0;r<e.slice().length;r++){var i=e.slice()[r],o=i.dropzone,a=i.element;n.dropzone=o,n.target=a,o.fire(n),n.propagationStopped=n.immediatePropagationStopped=!1}}function En(e,n){for(var r=function(a,u){for(var s=a.interactables,c=[],p=0;p<s.list.length;p++){var h=s.list[p];if(h.options.drop.enabled){var b=h.options.drop.accept;if(!(x.default.element(b)&&b!==u||x.default.string(b)&&!R.matchesSelector(u,b)||x.default.func(b)&&!b({dropzone:h,draggableElement:u})))for(var E=x.default.string(h.target)?h._context.querySelectorAll(h.target):x.default.array(h.target)?h.target:[h.target],S=0;S<E.length;S++){var w=E[S];w!==u&&c.push({dropzone:h,element:w,rect:h.getRect(w)})}}}return c}(e,n),i=0;i<r.length;i++){var o=r[i];o.rect=o.dropzone.getRect(o.element)}return r}function nr(e,n,r){for(var i=e.dropState,o=e.interactable,a=e.element,u=[],s=0;s<i.activeDrops.length;s++){var c=i.activeDrops[s],p=c.dropzone,h=c.element,b=c.rect;u.push(p.dropCheck(n,r,o,a,h,b)?h:null)}var E=R.indexOfDeepestElement(u);return i.activeDrops[E]||null}function On(e,n,r){var i=e.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return r.type==="dragstart"&&(o.activate=new ye.DropEvent(i,r,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),r.type==="dragend"&&(o.deactivate=new ye.DropEvent(i,r,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(o.leave=new ye.DropEvent(i,r,"dragleave"),r.dragLeave=o.leave.target=i.prev.element,r.prevDropzone=o.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(o.enter=new ye.DropEvent(i,r,"dragenter"),r.dragEnter=i.cur.element,r.dropzone=i.cur.dropzone)),r.type==="dragend"&&i.cur.dropzone&&(o.drop=new ye.DropEvent(i,r,"drop"),r.dropzone=i.cur.dropzone,r.relatedTarget=i.cur.element),r.type==="dragmove"&&i.cur.dropzone&&(o.move=new ye.DropEvent(i,r,"dropmove"),o.move.dragmove=r,r.dropzone=i.cur.dropzone)),o}function Sn(e,n){var r=e.dropState,i=r.activeDrops,o=r.cur,a=r.prev;n.leave&&a.dropzone.fire(n.leave),n.enter&&o.dropzone.fire(n.enter),n.move&&o.dropzone.fire(n.move),n.drop&&o.dropzone.fire(n.drop),n.deactivate&&tr(i,n.deactivate),r.prev.dropzone=o.dropzone,r.prev.element=o.element}function rr(e,n){var r=e.interaction,i=e.iEvent,o=e.event;if(i.type==="dragmove"||i.type==="dragend"){var a=r.dropState;n.dynamicDrop&&(a.activeDrops=En(n,r.element));var u=i,s=nr(r,u,o);a.rejected=a.rejected&&!!s&&s.dropzone===a.cur.dropzone&&s.element===a.cur.element,a.cur.dropzone=s&&s.dropzone,a.cur.element=s&&s.element,a.events=On(r,0,u)}}Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.default=void 0;var ir={id:"actions/drop",install:function(e){var n=e.actions,r=e.interactStatic,i=e.Interactable,o=e.defaults;e.usePlugin(ie.default),i.prototype.dropzone=function(a){return function(u,s){if(x.default.object(s)){if(u.options.drop.enabled=s.enabled!==!1,s.listeners){var c=(0,m.default)(s.listeners),p=Object.keys(c).reduce(function(h,b){return h[/^(enter|leave)/.test(b)?"drag".concat(b):/^(activate|deactivate|move)/.test(b)?"drop".concat(b):b]=c[b],h},{});u.off(u.options.drop.listeners),u.on(p),u.options.drop.listeners=p}return x.default.func(s.ondrop)&&u.on("drop",s.ondrop),x.default.func(s.ondropactivate)&&u.on("dropactivate",s.ondropactivate),x.default.func(s.ondropdeactivate)&&u.on("dropdeactivate",s.ondropdeactivate),x.default.func(s.ondragenter)&&u.on("dragenter",s.ondragenter),x.default.func(s.ondragleave)&&u.on("dragleave",s.ondragleave),x.default.func(s.ondropmove)&&u.on("dropmove",s.ondropmove),/^(pointer|center)$/.test(s.overlap)?u.options.drop.overlap=s.overlap:x.default.number(s.overlap)&&(u.options.drop.overlap=Math.max(Math.min(1,s.overlap),0)),"accept"in s&&(u.options.drop.accept=s.accept),"checker"in s&&(u.options.drop.checker=s.checker),u}return x.default.bool(s)?(u.options.drop.enabled=s,u):u.options.drop}(this,a)},i.prototype.dropCheck=function(a,u,s,c,p,h){return function(b,E,S,w,z,D,k){var N=!1;if(!(k=k||b.getRect(D)))return!!b.options.drop.checker&&b.options.drop.checker(E,S,N,b,D,w,z);var q=b.options.drop.overlap;if(q==="pointer"){var K=(0,y.default)(w,z,"drag"),se=O.getPageXY(E);se.x+=K.x,se.y+=K.y;var me=se.x>k.left&&se.x<k.right,ee=se.y>k.top&&se.y<k.bottom;N=me&&ee}var he=w.getRect(z);if(he&&q==="center"){var Le=he.left+he.width/2,et=he.top+he.height/2;N=Le>=k.left&&Le<=k.right&&et>=k.top&&et<=k.bottom}return he&&x.default.number(q)&&(N=Math.max(0,Math.min(k.right,he.right)-Math.max(k.left,he.left))*Math.max(0,Math.min(k.bottom,he.bottom)-Math.max(k.top,he.top))/(he.width*he.height)>=q),b.options.drop.checker&&(N=b.options.drop.checker(E,S,N,b,D,w,z)),N}(this,a,u,s,c,p,h)},r.dynamicDrop=function(a){return x.default.bool(a)?(e.dynamicDrop=a,r):e.dynamicDrop},(0,v.default)(n.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),n.methodDict.drop="dropzone",e.dynamicDrop=!1,o.actions.drop=ir.defaults},listeners:{"interactions:before-action-start":function(e){var n=e.interaction;n.prepared.name==="drag"&&(n.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,n){var r=e.interaction,i=(e.event,e.iEvent);if(r.prepared.name==="drag"){var o=r.dropState;o.activeDrops=null,o.events=null,o.activeDrops=En(n,r.element),o.events=On(r,0,i),o.events.activate&&(tr(o.activeDrops,o.events.activate),n.fire("actions/drop:start",{interaction:r,dragEvent:i}))}},"interactions:action-move":rr,"interactions:after-action-move":function(e,n){var r=e.interaction,i=e.iEvent;r.prepared.name==="drag"&&(Sn(r,r.dropState.events),n.fire("actions/drop:move",{interaction:r,dragEvent:i}),r.dropState.events={})},"interactions:action-end":function(e,n){if(e.interaction.prepared.name==="drag"){var r=e.interaction,i=e.iEvent;rr(e,n),Sn(r,r.dropState.events),n.fire("actions/drop:end",{interaction:r,dragEvent:i})}},"interactions:stop":function(e){var n=e.interaction;if(n.prepared.name==="drag"){var r=n.dropState;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}}},getActiveDrops:En,getDrop:nr,getDropEvents:On,fireDropEvents:Sn,defaults:{enabled:!1,accept:null,overlap:"pointer"}},vi=ir;Nt.default=vi;var Lt={};function Tn(e){var n=e.interaction,r=e.iEvent,i=e.phase;if(n.prepared.name==="gesture"){var o=n.pointers.map(function(p){return p.pointer}),a=i==="start",u=i==="end",s=n.interactable.options.deltaSource;if(r.touches=[o[0],o[1]],a)r.distance=O.touchDistance(o,s),r.box=O.touchBBox(o),r.scale=1,r.ds=0,r.angle=O.touchAngle(o,s),r.da=0,n.gesture.startDistance=r.distance,n.gesture.startAngle=r.angle;else if(u){var c=n.prevEvent;r.distance=c.distance,r.box=c.box,r.scale=c.scale,r.ds=0,r.angle=c.angle,r.da=0}else r.distance=O.touchDistance(o,s),r.box=O.touchBBox(o),r.scale=r.distance/n.gesture.startDistance,r.angle=O.touchAngle(o,s),r.ds=r.scale-n.gesture.scale,r.da=r.angle-n.gesture.angle;n.gesture.distance=r.distance,n.gesture.angle=r.angle,x.default.number(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(n.gesture.scale=r.scale)}}Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0;var Mn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var n=e.actions,r=e.Interactable,i=e.defaults;r.prototype.gesturable=function(o){return x.default.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):x.default.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},n.map.gesture=Mn,n.methodDict.gesture="gesturable",i.actions.gesture=Mn.defaults},listeners:{"interactions:action-start":Tn,"interactions:action-move":Tn,"interactions:action-end":Tn,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var n=e.interactable.options.gesture;if(n&&n.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},hi=Mn;Lt.default=hi;var Ut={};function yi(e,n,r,i,o,a,u){if(!n)return!1;if(n===!0){var s=x.default.number(a.width)?a.width:a.right-a.left,c=x.default.number(a.height)?a.height:a.bottom-a.top;if(u=Math.min(u,Math.abs((e==="left"||e==="right"?s:c)/2)),s<0&&(e==="left"?e="right":e==="right"&&(e="left")),c<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left")return r.x<(s>=0?a.left:a.right)+u;if(e==="top")return r.y<(c>=0?a.top:a.bottom)+u;if(e==="right")return r.x>(s>=0?a.right:a.left)-u;if(e==="bottom")return r.y>(c>=0?a.bottom:a.top)-u}return!!x.default.element(i)&&(x.default.element(n)?n===i:R.matchesUpTo(i,n,o))}function or(e){var n=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.resizeAxes){var i=n;r.interactable.options.resize.square?(r.resizeAxes==="y"?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=r.resizeAxes,r.resizeAxes==="x"?i.delta.y=0:r.resizeAxes==="y"&&(i.delta.x=0))}}Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.default=void 0;var Ke={id:"actions/resize",before:["actions/drag"],install:function(e){var n=e.actions,r=e.browser,i=e.Interactable,o=e.defaults;Ke.cursors=function(a){return a.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(r),Ke.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,i.prototype.resizable=function(a){return function(u,s,c){return x.default.object(s)?(u.options.resize.enabled=s.enabled!==!1,u.setPerAction("resize",s),u.setOnEvents("resize",s),x.default.string(s.axis)&&/^x$|^y$|^xy$/.test(s.axis)?u.options.resize.axis=s.axis:s.axis===null&&(u.options.resize.axis=c.defaults.actions.resize.axis),x.default.bool(s.preserveAspectRatio)?u.options.resize.preserveAspectRatio=s.preserveAspectRatio:x.default.bool(s.square)&&(u.options.resize.square=s.square),u):x.default.bool(s)?(u.options.resize.enabled=s,u):u.options.resize}(this,a,e)},n.map.resize=Ke,n.methodDict.resize="resizable",o.actions.resize=Ke.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(n){var r=n.iEvent,i=n.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var o=r,a=i.rect;i._rects={start:(0,v.default)({},a),corrected:(0,v.default)({},a),previous:(0,v.default)({},a),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},o.edges=i.prepared.edges,o.rect=i._rects.corrected,o.deltaRect=i._rects.delta}})(e),or(e)},"interactions:action-move":function(e){(function(n){var r=n.iEvent,i=n.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var o=r,a=i.interactable.options.resize.invert,u=a==="reposition"||a==="negate",s=i.rect,c=i._rects,p=c.start,h=c.corrected,b=c.delta,E=c.previous;if((0,v.default)(E,h),u){if((0,v.default)(h,s),a==="reposition"){if(h.top>h.bottom){var S=h.top;h.top=h.bottom,h.bottom=S}if(h.left>h.right){var w=h.left;h.left=h.right,h.right=w}}}else h.top=Math.min(s.top,p.bottom),h.bottom=Math.max(s.bottom,p.top),h.left=Math.min(s.left,p.right),h.right=Math.max(s.right,p.left);for(var z in h.width=h.right-h.left,h.height=h.bottom-h.top,h)b[z]=h[z]-E[z];o.edges=i.prepared.edges,o.rect=h,o.deltaRect=b}})(e),or(e)},"interactions:action-end":function(e){var n=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var i=n;i.edges=r.prepared.edges,i.rect=r._rects.corrected,i.deltaRect=r._rects.delta}},"auto-start:check":function(e){var n=e.interaction,r=e.interactable,i=e.element,o=e.rect,a=e.buttons;if(o){var u=(0,v.default)({},n.coords.cur.page),s=r.options.resize;if(s&&s.enabled&&(!n.pointerIsDown||!/mouse|pointer/.test(n.pointerType)||(a&s.mouseButtons)!=0)){if(x.default.object(s.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var p in c)c[p]=yi(p,s.edges[p],u,n._latestPointer.eventTarget,i,o,s.margin||Ke.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{var h=s.axis!=="y"&&u.x>o.right-Ke.defaultMargin,b=s.axis!=="x"&&u.y>o.bottom-Ke.defaultMargin;(h||b)&&(e.action={name:"resize",axes:(h?"x":"")+(b?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var n=e.edges,r=e.axis,i=e.name,o=Ke.cursors,a=null;if(r)a=o[i+r];else if(n){for(var u="",s=["top","bottom","left","right"],c=0;c<s.length;c++){var p=s[c];n[p]&&(u+=p)}a=o[u]}return a},defaultMargin:null},gi=Ke;Ut.default=gi;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=void 0;var mi={id:"actions",install:function(e){e.usePlugin(Lt.default),e.usePlugin(Ut.default),e.usePlugin(ie.default),e.usePlugin(Nt.default)}};Vt.default=mi;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var Ze,st,ar=0,bi={request:function(e){return Ze(e)},cancel:function(e){return st(e)},init:function(e){if(Ze=e.requestAnimationFrame,st=e.cancelAnimationFrame,!Ze)for(var n=["ms","moz","webkit","o"],r=0;r<n.length;r++){var i=n[r];Ze=e["".concat(i,"RequestAnimationFrame")],st=e["".concat(i,"CancelAnimationFrame")]||e["".concat(i,"CancelRequestAnimationFrame")]}Ze=Ze&&Ze.bind(e),st=st&&st.bind(e),Ze||(Ze=function(o){var a=Date.now(),u=Math.max(0,16-(a-ar)),s=e.setTimeout(function(){o(a+u)},u);return ar=a+u,s},st=function(o){return clearTimeout(o)})}};Ve.default=bi;var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.getContainer=qt,rt.getScroll=Mt,rt.getScrollSize=function(e){return x.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},rt.getScrollSizeDelta=function(e,n){var r=e.interaction,i=e.element,o=r&&r.interactable.options[r.prepared.name].autoScroll;if(!o||!o.enabled)return n(),{x:0,y:0};var a=qt(o.container,r.interactable,i),u=Mt(a);n();var s=Mt(a);return{x:s.x-u.x,y:s.y-u.y}},rt.default=void 0;var H={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){H.isScrolling=!0,Ve.default.cancel(H.i),e.autoScroll=H,H.interaction=e,H.prevTime=H.now(),H.i=Ve.default.request(H.scroll)},stop:function(){H.isScrolling=!1,H.interaction&&(H.interaction.autoScroll=null),Ve.default.cancel(H.i)},scroll:function(){var e=H.interaction,n=e.interactable,r=e.element,i=e.prepared.name,o=n.options[i].autoScroll,a=qt(o.container,n,r),u=H.now(),s=(u-H.prevTime)/1e3,c=o.speed*s;if(c>=1){var p={x:H.x*c,y:H.y*c};if(p.x||p.y){var h=Mt(a);x.default.window(a)?a.scrollBy(p.x,p.y):a&&(a.scrollLeft+=p.x,a.scrollTop+=p.y);var b=Mt(a),E={x:b.x-h.x,y:b.y-h.y};(E.x||E.y)&&n.fire({type:"autoscroll",target:r,interactable:n,delta:E,interaction:e,container:a})}H.prevTime=u}H.isScrolling&&(Ve.default.cancel(H.i),H.i=Ve.default.request(H.scroll))},check:function(e,n){var r;return(r=e.options[n].autoScroll)==null?void 0:r.enabled},onInteractionMove:function(e){var n=e.interaction,r=e.pointer;if(n.interacting()&&H.check(n.interactable,n.prepared.name))if(n.simulation)H.x=H.y=0;else{var i,o,a,u,s=n.interactable,c=n.element,p=n.prepared.name,h=s.options[p].autoScroll,b=qt(h.container,s,c);if(x.default.window(b))u=r.clientX<H.margin,i=r.clientY<H.margin,o=r.clientX>b.innerWidth-H.margin,a=r.clientY>b.innerHeight-H.margin;else{var E=R.getElementClientRect(b);u=r.clientX<E.left+H.margin,i=r.clientY<E.top+H.margin,o=r.clientX>E.right-H.margin,a=r.clientY>E.bottom-H.margin}H.x=o?1:u?-1:0,H.y=a?1:i?-1:0,H.isScrolling||(H.margin=h.margin,H.speed=h.speed,H.start(n))}}};function qt(e,n,r){return(x.default.string(e)?(0,l.getStringOptionResult)(e,n,r):e)||(0,X.getWindow)(r)}function Mt(e){return x.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var xi={id:"auto-scroll",install:function(e){var n=e.defaults,r=e.actions;e.autoScroll=H,H.now=function(){return e.now()},r.phaselessTypes.autoscroll=!0,n.perAction.autoScroll=H.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,H.stop(),H.interaction&&(H.interaction=null)},"interactions:stop":H.stop,"interactions:action-move":function(e){return H.onInteractionMove(e)}}};rt.default=xi;var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.warnOnce=function(e,n){var r=!1;return function(){return r||(X.window.console.warn(n),r=!0),e.apply(this,arguments)}},We.copyAction=function(e,n){return e.name=n.name,e.axis=n.axis,e.edges=n.edges,e},We.sign=void 0,We.sign=function(e){return e>=0?1:-1};var Ht={};function wi(e){return x.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function _i(e){return x.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var Pi={id:"auto-start/interactableMethods",install:function(e){var n=e.Interactable;n.prototype.getAction=function(r,i,o,a){var u=function(s,c,p,h,b){var E=s.getRect(h),S={action:null,interactable:s,interaction:p,element:h,rect:E,buttons:c.buttons||{0:1,1:4,3:8,4:16}[c.button]};return b.fire("auto-start:check",S),S.action}(this,i,o,a,e);return this.options.actionChecker?this.options.actionChecker(r,i,u,this,a,o):u},n.prototype.ignoreFrom=(0,We.warnOnce)(function(r){return this._backCompatOption("ignoreFrom",r)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),n.prototype.allowFrom=(0,We.warnOnce)(function(r){return this._backCompatOption("allowFrom",r)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),n.prototype.actionChecker=_i,n.prototype.styleCursor=wi}};Ht.default=Pi;var mt={};function sr(e,n,r,i,o){return n.testIgnoreAllow(n.options[e.name],r,i)&&n.options[e.name].enabled&&Gt(n,r,e,o)?e:null}function Ei(e,n,r,i,o,a,u){for(var s=0,c=i.length;s<c;s++){var p=i[s],h=o[s],b=p.getAction(n,r,e,h);if(b){var E=sr(b,p,h,a,u);if(E)return{action:E,interactable:p,element:h}}}return{action:null,interactable:null,element:null}}function lr(e,n,r,i,o){var a=[],u=[],s=i;function c(h){a.push(h),u.push(s)}for(;x.default.element(s);){a=[],u=[],o.interactables.forEachMatch(s,c);var p=Ei(e,n,r,a,u,i,o);if(p.action&&!p.interactable.options[p.action.name].manualStart)return p;s=R.parentNode(s)}return{action:null,interactable:null,element:null}}function ur(e,n,r){var i=n.action,o=n.interactable,a=n.element;i=i||{name:null},e.interactable=o,e.element=a,(0,We.copyAction)(e.prepared,i),e.rect=o&&i.name?o.getRect(a):null,fr(e,r),r.fire("autoStart:prepared",{interaction:e})}function Gt(e,n,r,i){var o=e.options,a=o[r.name].max,u=o[r.name].maxPerElement,s=i.autoStart.maxInteractions,c=0,p=0,h=0;if(!(a&&u&&s))return!1;for(var b=0;b<i.interactions.list.length;b++){var E=i.interactions.list[b],S=E.prepared.name;if(E.interacting()&&(++c>=s||E.interactable===e&&((p+=S===r.name?1:0)>=a||E.element===n&&(h++,S===r.name&&h>=u))))return!1}return s>0}function cr(e,n){return x.default.number(e)?(n.autoStart.maxInteractions=e,this):n.autoStart.maxInteractions}function zn(e,n,r){var i=r.autoStart.cursorElement;i&&i!==e&&(i.style.cursor=""),e.ownerDocument.documentElement.style.cursor=n,e.style.cursor=n,r.autoStart.cursorElement=n?e:null}function fr(e,n){var r=e.interactable,i=e.element,o=e.prepared;if(e.pointerType==="mouse"&&r&&r.options.styleCursor){var a="";if(o.name){var u=r.options[o.name].cursorChecker;a=x.default.func(u)?u(o,r,i,e._interacting):n.actions.map[o.name].getCursor(o)}zn(e.element,a||"",n)}else n.autoStart.cursorElement&&zn(n.autoStart.cursorElement,"",n)}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var Oi={id:"auto-start/base",before:["actions"],install:function(e){var n=e.interactStatic,r=e.defaults;e.usePlugin(Ht.default),r.base.actionChecker=null,r.base.styleCursor=!0,(0,v.default)(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),n.maxInteractions=function(i){return cr(i,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Gt,cursorElement:null}},listeners:{"interactions:down":function(e,n){var r=e.interaction,i=e.pointer,o=e.event,a=e.eventTarget;r.interacting()||ur(r,lr(r,i,o,a,n),n)},"interactions:move":function(e,n){(function(r,i){var o=r.interaction,a=r.pointer,u=r.event,s=r.eventTarget;o.pointerType!=="mouse"||o.pointerIsDown||o.interacting()||ur(o,lr(o,a,u,s,i),i)})(e,n),function(r,i){var o=r.interaction;if(o.pointerIsDown&&!o.interacting()&&o.pointerWasMoved&&o.prepared.name){i.fire("autoStart:before-start",r);var a=o.interactable,u=o.prepared.name;u&&a&&(a.options[u].manualStart||!Gt(a,o.element,o.prepared,i)?o.stop():(o.start(o.prepared,a,o.element),fr(o,i)))}}(e,n)},"interactions:stop":function(e,n){var r=e.interaction,i=r.interactable;i&&i.options.styleCursor&&zn(r.element,"",n)}},maxInteractions:cr,withinInteractionLimit:Gt,validateAction:sr};mt.default=Oi;var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.default=void 0;var Si={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,n){var r=e.interaction,i=e.eventTarget,o=e.dx,a=e.dy;if(r.prepared.name==="drag"){var u=Math.abs(o),s=Math.abs(a),c=r.interactable.options.drag,p=c.startAxis,h=u>s?"x":u<s?"y":"xy";if(r.prepared.axis=c.lockAxis==="start"?h[0]:c.lockAxis,h!=="xy"&&p!=="xy"&&p!==h){r.prepared.name=null;for(var b=i,E=function(w){if(w!==r.interactable){var z=r.interactable.options.drag;if(!z.manualStart&&w.testIgnoreAllow(z,b,i)){var D=w.getAction(r.downPointer,r.downEvent,r,b);if(D&&D.name==="drag"&&function(k,N){if(!N)return!1;var q=N.options.drag.startAxis;return k==="xy"||q==="xy"||q===k}(h,w)&&mt.default.validateAction(D,w,b,i,n))return w}}};x.default.element(b);){var S=n.interactables.forEachMatch(b,E);if(S){r.prepared.name="drag",r.interactable=S,r.element=b;break}b=(0,R.parentNode)(b)}}}}}};$t.default=Si;var Kt={};function kn(e){var n=e.prepared&&e.prepared.name;if(!n)return null;var r=e.interactable.options;return r[n].hold||r[n].delay}Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=void 0;var Ti={id:"auto-start/hold",install:function(e){var n=e.defaults;e.usePlugin(mt.default),n.perAction.hold=0,n.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var n=e.interaction,r=kn(n);r>0&&(n.autoStartHoldTimer=setTimeout(function(){n.start(n.prepared,n.interactable,n.element)},r))},"interactions:move":function(e){var n=e.interaction,r=e.duplicate;n.autoStartHoldTimer&&n.pointerWasMoved&&!r&&(clearTimeout(n.autoStartHoldTimer),n.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var n=e.interaction;kn(n)>0&&(n.prepared.name=null)}},getHoldDuration:kn};Kt.default=Ti;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.default=void 0;var Mi={id:"auto-start",install:function(e){e.usePlugin(mt.default),e.usePlugin(Kt.default),e.usePlugin($t.default)}};Zt.default=Mi;var bt={};function zi(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):x.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function ki(e){var n=e.interaction,r=e.event;n.interactable&&n.interactable.checkAndPreventDefault(r)}function dr(e){var n=e.Interactable;n.prototype.preventDefault=zi,n.prototype.checkAndPreventDefault=function(r){return function(i,o,a){var u=i.options.preventDefault;if(u!=="never")if(u!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(a.type)){var s=(0,X.getWindow)(a.target).document,c=o.getDocOptions(s);if(!c||!c.events||c.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(a.type)||x.default.element(a.target)&&(0,R.matchesSelector)(a.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||a.preventDefault()}else a.preventDefault()}(this,e,r)},e.interactions.docEvents.push({type:"dragstart",listener:function(r){for(var i=0;i<e.interactions.list.length;i++){var o=e.interactions.list[i];if(o.element&&(o.element===r.target||(0,R.nodeContains)(o.element,r.target)))return void o.interactable.checkAndPreventDefault(r)}}})}Object.defineProperty(bt,"__esModule",{value:!0}),bt.install=dr,bt.default=void 0;var ji={id:"core/interactablePreventDefault",install:dr,listeners:["down","move","up","cancel"].reduce(function(e,n){return e["interactions:".concat(n)]=ki,e},{})};bt.default=ji;var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.default=void 0,jn.default={};var zt,In={};Object.defineProperty(In,"__esModule",{value:!0}),In.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(zt||(zt={})),zt.touchAction,zt.boxSizing,zt.noListeners;var Ii={id:"dev-tools",install:function(){}};In.default=Ii;var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=function e(n){var r={};for(var i in n){var o=n[i];x.default.plainObject(o)?r[i]=e(o):x.default.array(o)?r[i]=F.from(o):r[i]=o}return r};var ut={};function pr(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(r)){var o=[],a=!0,u=!1,s=void 0;try{for(var c,p=r[Symbol.iterator]();!(a=(c=p.next()).done)&&(o.push(c.value),!i||o.length!==i);a=!0);}catch(h){u=!0,s=h}finally{try{a||p.return==null||p.return()}finally{if(u)throw s}}return o}}(e,n)||function(r,i){if(r){if(typeof r=="string")return vr(r,i);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?vr(r,i):void 0}}(e,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function Di(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ct(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(ut,"__esModule",{value:!0}),ut.getRectOffset=hr,ut.default=void 0;var Ai=function(){function e(i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),ct(this,"states",[]),ct(this,"startOffset",{left:0,right:0,top:0,bottom:0}),ct(this,"startDelta",void 0),ct(this,"result",void 0),ct(this,"endResult",void 0),ct(this,"edges",void 0),ct(this,"interaction",void 0),this.interaction=i,this.result=Jt()}var n,r;return n=e,(r=[{key:"start",value:function(i,o){var a=i.phase,u=this.interaction,s=function(p){var h=p.interactable.options[p.prepared.name],b=h.modifiers;return b&&b.length?b:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(E){var S=h[E];return S&&S.enabled&&{options:S,methods:S._methods}}).filter(function(E){return!!E})}(u);this.prepareStates(s),this.edges=(0,v.default)({},u.edges),this.startOffset=hr(u.rect,o),this.startDelta={x:0,y:0};var c=this.fillArg({phase:a,pageCoords:o,preEnd:!1});return this.result=Jt(),this.startAll(c),this.result=this.setAll(c)}},{key:"fillArg",value:function(i){var o=this.interaction;return i.interaction=o,i.interactable=o.interactable,i.element=o.element,i.rect=i.rect||o.rect,i.edges=this.edges,i.startOffset=this.startOffset,i}},{key:"startAll",value:function(i){for(var o=0;o<this.states.length;o++){var a=this.states[o];a.methods.start&&(i.state=a,a.methods.start(i))}}},{key:"setAll",value:function(i){var o=i.phase,a=i.preEnd,u=i.skipModifiers,s=i.rect;i.coords=(0,v.default)({},i.pageCoords),i.rect=(0,v.default)({},s);for(var c=u?this.states.slice(u):this.states,p=Jt(i.coords,i.rect),h=0;h<c.length;h++){var b,E=c[h],S=E.options,w=(0,v.default)({},i.coords),z=null;(b=E.methods)!=null&&b.set&&this.shouldDo(S,a,o)&&(i.state=E,z=E.methods.set(i),l.addEdges(this.interaction.edges,i.rect,{x:i.coords.x-w.x,y:i.coords.y-w.y})),p.eventProps.push(z)}p.delta.x=i.coords.x-i.pageCoords.x,p.delta.y=i.coords.y-i.pageCoords.y,p.rectDelta.left=i.rect.left-s.left,p.rectDelta.right=i.rect.right-s.right,p.rectDelta.top=i.rect.top-s.top,p.rectDelta.bottom=i.rect.bottom-s.bottom;var D=this.result.coords,k=this.result.rect;if(D&&k){var N=p.rect.left!==k.left||p.rect.right!==k.right||p.rect.top!==k.top||p.rect.bottom!==k.bottom;p.changed=N||D.x!==p.coords.x||D.y!==p.coords.y}return p}},{key:"applyToInteraction",value:function(i){var o=this.interaction,a=i.phase,u=o.coords.cur,s=o.coords.start,c=this.result,p=this.startDelta,h=c.delta;a==="start"&&(0,v.default)(this.startDelta,c.delta);for(var b=0;b<[[s,p],[u,h]].length;b++){var E=pr([[s,p],[u,h]][b],2),S=E[0],w=E[1];S.page.x+=w.x,S.page.y+=w.y,S.client.x+=w.x,S.client.y+=w.y}var z=this.result.rectDelta,D=i.rect||o.rect;D.left+=z.left,D.right+=z.right,D.top+=z.top,D.bottom+=z.bottom,D.width=D.right-D.left,D.height=D.bottom-D.top}},{key:"setAndApply",value:function(i){var o=this.interaction,a=i.phase,u=i.preEnd,s=i.skipModifiers,c=this.setAll(this.fillArg({preEnd:u,phase:a,pageCoords:i.modifiedCoords||o.coords.cur.page}));if(this.result=c,!c.changed&&(!s||s<this.states.length)&&o.interacting())return!1;if(i.modifiedCoords){var p=o.coords.cur.page,h={x:i.modifiedCoords.x-p.x,y:i.modifiedCoords.y-p.y};c.coords.x+=h.x,c.coords.y+=h.y,c.delta.x+=h.x,c.delta.y+=h.y}this.applyToInteraction(i)}},{key:"beforeEnd",value:function(i){var o=i.interaction,a=i.event,u=this.states;if(u&&u.length){for(var s=!1,c=0;c<u.length;c++){var p=u[c];i.state=p;var h=p.options,b=p.methods,E=b.beforeEnd&&b.beforeEnd(i);if(E)return this.endResult=E,!1;s=s||!s&&this.shouldDo(h,!0,i.phase,!0)}s&&o.move({event:a,preEnd:!0})}}},{key:"stop",value:function(i){var o=i.interaction;if(this.states&&this.states.length){var a=(0,v.default)({states:this.states,interactable:o.interactable,element:o.element,rect:null},i);this.fillArg(a);for(var u=0;u<this.states.length;u++){var s=this.states[u];a.state=s,s.methods.stop&&s.methods.stop(a)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(i){this.states=[];for(var o=0;o<i.length;o++){var a=i[o],u=a.options,s=a.methods,c=a.name;this.states.push({options:u,methods:s,index:o,name:c})}return this.states}},{key:"restoreInteractionCoords",value:function(i){var o=i.interaction,a=o.coords,u=o.rect,s=o.modification;if(s.result){for(var c=s.startDelta,p=s.result,h=p.delta,b=p.rectDelta,E=[[a.start,c],[a.cur,h]],S=0;S<E.length;S++){var w=pr(E[S],2),z=w[0],D=w[1];z.page.x-=D.x,z.page.y-=D.y,z.client.x-=D.x,z.client.y-=D.y}u.left-=b.left,u.right-=b.right,u.top-=b.top,u.bottom-=b.bottom}}},{key:"shouldDo",value:function(i,o,a,u){return!(!i||i.enabled===!1||u&&!i.endOnly||i.endOnly&&!o||a==="start"&&!i.setStart)}},{key:"copyFrom",value:function(i){this.startOffset=i.startOffset,this.startDelta=i.startDelta,this.edges=i.edges,this.states=i.states.map(function(o){return(0,lt.default)(o)}),this.result=Jt((0,v.default)({},i.result.coords),(0,v.default)({},i.result.rect))}},{key:"destroy",value:function(){for(var i in this)this[i]=null}}])&&Di(n.prototype,r),e}();function Jt(e,n){return{rect:n,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function hr(e,n){return e?{left:n.x-e.left,top:n.y-e.top,right:e.right-n.x,bottom:e.bottom-n.y}:{left:0,top:0,right:0,bottom:0}}ut.default=Ai;var ke={};function Qt(e){var n=e.iEvent,r=e.interaction.modification.result;r&&(n.modifiers=r.eventProps)}Object.defineProperty(ke,"__esModule",{value:!0}),ke.makeModifier=function(e,n){var r=e.defaults,i={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=function(a){var u=a||{};for(var s in u.enabled=u.enabled!==!1,r)s in u||(u[s]=r[s]);var c={options:u,methods:i,name:n,enable:function(){return u.enabled=!0,c},disable:function(){return u.enabled=!1,c}};return c};return n&&typeof n=="string"&&(o._defaults=r,o._methods=i),o},ke.addEventModifiers=Qt,ke.default=void 0;var Ci={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var n=e.interaction;n.modification=new ut.default(n)},"interactions:before-action-start":function(e){var n=e.interaction.modification;n.start(e,e.interaction.coords.start.page),e.interaction.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":Qt,"interactions:action-move":Qt,"interactions:action-end":Qt,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}};ke.default=Ci;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.defaults=void 0,kt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var jt={};function yr(e){return(yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function Ri(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gr(e,n){return(gr=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(e,n)}function Fi(e,n){return!n||yr(n)!=="object"&&typeof n!="function"?ue(e):n}function ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function ve(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(jt,"__esModule",{value:!0}),jt.InteractEvent=void 0;var mr=function(e){(function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),c&&gr(s,c)})(u,e);var n,r,i,o,a=(i=u,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var s,c=Dn(i);if(o){var p=Dn(this).constructor;s=Reflect.construct(c,arguments,p)}else s=c.apply(this,arguments);return Fi(this,s)});function u(s,c,p,h,b,E,S){var w;(function(me,ee){if(!(me instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,u),ve(ue(w=a.call(this,s)),"target",void 0),ve(ue(w),"currentTarget",void 0),ve(ue(w),"relatedTarget",null),ve(ue(w),"screenX",void 0),ve(ue(w),"screenY",void 0),ve(ue(w),"button",void 0),ve(ue(w),"buttons",void 0),ve(ue(w),"ctrlKey",void 0),ve(ue(w),"shiftKey",void 0),ve(ue(w),"altKey",void 0),ve(ue(w),"metaKey",void 0),ve(ue(w),"page",void 0),ve(ue(w),"client",void 0),ve(ue(w),"delta",void 0),ve(ue(w),"rect",void 0),ve(ue(w),"x0",void 0),ve(ue(w),"y0",void 0),ve(ue(w),"t0",void 0),ve(ue(w),"dt",void 0),ve(ue(w),"duration",void 0),ve(ue(w),"clientX0",void 0),ve(ue(w),"clientY0",void 0),ve(ue(w),"velocity",void 0),ve(ue(w),"speed",void 0),ve(ue(w),"swipe",void 0),ve(ue(w),"timeStamp",void 0),ve(ue(w),"axes",void 0),ve(ue(w),"preEnd",void 0),b=b||s.element;var z=s.interactable,D=(z&&z.options||kt.defaults).deltaSource,k=(0,y.default)(z,b,p),N=h==="start",q=h==="end",K=N?ue(w):s.prevEvent,se=N?s.coords.start:q?{page:K.page,client:K.client,timeStamp:s.coords.cur.timeStamp}:s.coords.cur;return w.page=(0,v.default)({},se.page),w.client=(0,v.default)({},se.client),w.rect=(0,v.default)({},s.rect),w.timeStamp=se.timeStamp,q||(w.page.x-=k.x,w.page.y-=k.y,w.client.x-=k.x,w.client.y-=k.y),w.ctrlKey=c.ctrlKey,w.altKey=c.altKey,w.shiftKey=c.shiftKey,w.metaKey=c.metaKey,w.button=c.button,w.buttons=c.buttons,w.target=b,w.currentTarget=b,w.preEnd=E,w.type=S||p+(h||""),w.interactable=z,w.t0=N?s.pointers[s.pointers.length-1].downTime:K.t0,w.x0=s.coords.start.page.x-k.x,w.y0=s.coords.start.page.y-k.y,w.clientX0=s.coords.start.client.x-k.x,w.clientY0=s.coords.start.client.y-k.y,w.delta=N||q?{x:0,y:0}:{x:w[D].x-K[D].x,y:w[D].y-K[D].y},w.dt=s.coords.delta.timeStamp,w.duration=w.timeStamp-w.t0,w.velocity=(0,v.default)({},s.coords.velocity[D]),w.speed=(0,_.default)(w.velocity.x,w.velocity.y),w.swipe=q||h==="inertiastart"?w.getSwipe():null,w}return n=u,(r=[{key:"getSwipe",value:function(){var s=this._interaction;if(s.prevEvent.speed<600||this.timeStamp-s.prevEvent.timeStamp>150)return null;var c=180*Math.atan2(s.prevEvent.velocityY,s.prevEvent.velocityX)/Math.PI;c<0&&(c+=360);var p=112.5<=c&&c<247.5,h=202.5<=c&&c<337.5;return{up:h,down:!h&&22.5<=c&&c<157.5,left:p,right:!p&&(292.5<=c||c<67.5),angle:c,speed:s.prevEvent.speed,velocity:{x:s.prevEvent.velocityX,y:s.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Ri(n.prototype,r),u}(Re.BaseEvent);jt.InteractEvent=mr,Object.defineProperties(mr.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var It={};function Dt(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(It,"__esModule",{value:!0}),It.PointerInfo=void 0,It.PointerInfo=function e(n,r,i,o,a){(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),Dt(this,"id",void 0),Dt(this,"pointer",void 0),Dt(this,"event",void 0),Dt(this,"downTime",void 0),Dt(this,"downTarget",void 0),this.id=n,this.pointer=r,this.event=i,this.downTime=o,this.downTarget=a};var en,tn,Xe={};function Bi(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function we(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(Xe,"__esModule",{value:!0}),Object.defineProperty(Xe,"PointerInfo",{enumerable:!0,get:function(){return It.PointerInfo}}),Xe.default=Xe.Interaction=Xe._ProxyMethods=Xe._ProxyValues=void 0,Xe._ProxyValues=en,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(en||(Xe._ProxyValues=en={})),Xe._ProxyMethods=tn,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(tn||(Xe._ProxyMethods=tn={}));var Xi=0,br=function(){function e(i){var o=this,a=i.pointerType,u=i.scopeFire;(function(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")})(this,e),we(this,"interactable",null),we(this,"element",null),we(this,"rect",void 0),we(this,"_rects",void 0),we(this,"edges",void 0),we(this,"_scopeFire",void 0),we(this,"prepared",{name:null,axis:null,edges:null}),we(this,"pointerType",void 0),we(this,"pointers",[]),we(this,"downEvent",null),we(this,"downPointer",{}),we(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),we(this,"prevEvent",null),we(this,"pointerIsDown",!1),we(this,"pointerWasMoved",!1),we(this,"_interacting",!1),we(this,"_ending",!1),we(this,"_stopped",!0),we(this,"_proxy",null),we(this,"simulation",null),we(this,"doMove",(0,We.warnOnce)(function(E){this.move(E)},"The interaction.doMove() method has been renamed to interaction.move()")),we(this,"coords",{start:O.newCoords(),prev:O.newCoords(),cur:O.newCoords(),delta:O.newCoords(),velocity:O.newCoords()}),we(this,"_id",Xi++),this._scopeFire=u,this.pointerType=a;var s=this;this._proxy={};var c=function(E){Object.defineProperty(o._proxy,E,{get:function(){return s[E]}})};for(var p in en)c(p);var h=function(E){Object.defineProperty(o._proxy,E,{value:function(){return s[E].apply(s,arguments)}})};for(var b in tn)h(b);this._scopeFire("interactions:new",{interaction:this})}var n,r;return n=e,(r=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(i,o,a){var u=this.updatePointer(i,o,a,!0),s=this.pointers[u];this._scopeFire("interactions:down",{pointer:i,event:o,eventTarget:a,pointerIndex:u,pointerInfo:s,type:"down",interaction:this})}},{key:"start",value:function(i,o,a){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(i.name==="gesture"?2:1)||!o.options[i.name].enabled)&&((0,We.copyAction)(this.prepared,i),this.interactable=o,this.element=a,this.rect=o.getRect(a),this.edges=this.prepared.edges?(0,v.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(i,o,a){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(i,o,a,!1);var u,s,c=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(u=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,_.default)(u,s)>this.pointerMoveTolerance);var p=this.getPointerIndex(i),h={pointer:i,pointerIndex:p,pointerInfo:this.pointers[p],event:o,type:"move",eventTarget:a,dx:u,dy:s,duplicate:c,interaction:this};c||O.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",h),c||this.simulation||(this.interacting()&&(h.type=null,this.move(h)),this.pointerWasMoved&&O.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(i){i&&i.event||O.setZeroCoords(this.coords.delta),(i=(0,v.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},i||{})).phase="move",this._doPhase(i)}},{key:"pointerUp",value:function(i,o,a,u){var s=this.getPointerIndex(i);s===-1&&(s=this.updatePointer(i,o,a,!1));var c=/cancel$/i.test(o.type)?"cancel":"up";this._scopeFire("interactions:".concat(c),{pointer:i,pointerIndex:s,pointerInfo:this.pointers[s],event:o,eventTarget:a,type:c,curEventTarget:u,interaction:this}),this.simulation||this.end(o),this.removePointer(i,o)}},{key:"documentBlur",value:function(i){this.end(i),this._scopeFire("interactions:blur",{event:i,type:"blur",interaction:this})}},{key:"end",value:function(i){var o;this._ending=!0,i=i||this._latestPointer.event,this.interacting()&&(o=this._doPhase({event:i,interaction:this,phase:"end"})),this._ending=!1,o===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(i){var o=O.getPointerId(i);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:F.findIndex(this.pointers,function(a){return a.id===o})}},{key:"getPointerInfo",value:function(i){return this.pointers[this.getPointerIndex(i)]}},{key:"updatePointer",value:function(i,o,a,u){var s=O.getPointerId(i),c=this.getPointerIndex(i),p=this.pointers[c];return u=u!==!1&&(u||/(down|start)$/i.test(o.type)),p?p.pointer=i:(p=new It.PointerInfo(s,i,o,null,null),c=this.pointers.length,this.pointers.push(p)),O.setCoords(this.coords.cur,this.pointers.map(function(h){return h.pointer}),this._now()),O.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),u&&(this.pointerIsDown=!0,p.downTime=this.coords.cur.timeStamp,p.downTarget=a,O.pointerExtend(this.downPointer,i),this.interacting()||(O.copyCoords(this.coords.start,this.coords.cur),O.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=o,this.pointerWasMoved=!1)),this._updateLatestPointer(i,o,a),this._scopeFire("interactions:update-pointer",{pointer:i,event:o,eventTarget:a,down:u,pointerInfo:p,pointerIndex:c,interaction:this}),c}},{key:"removePointer",value:function(i,o){var a=this.getPointerIndex(i);if(a!==-1){var u=this.pointers[a];this._scopeFire("interactions:remove-pointer",{pointer:i,event:o,eventTarget:null,pointerIndex:a,pointerInfo:u,interaction:this}),this.pointers.splice(a,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(i,o,a){this._latestPointer.pointer=i,this._latestPointer.event=o,this._latestPointer.eventTarget=a}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(i,o,a,u){return new jt.InteractEvent(this,i,this.prepared.name,o,this.element,a,u)}},{key:"_fireEvent",value:function(i){this.interactable.fire(i),(!this.prevEvent||i.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=i)}},{key:"_doPhase",value:function(i){var o=i.event,a=i.phase,u=i.preEnd,s=i.type,c=this.rect;if(c&&a==="move"&&(l.addEdges(this.edges,c,this.coords.delta[this.interactable.options.deltaSource]),c.width=c.right-c.left,c.height=c.bottom-c.top),this._scopeFire("interactions:before-action-".concat(a),i)===!1)return!1;var p=i.iEvent=this._createPreparedEvent(o,a,u,s);return this._scopeFire("interactions:action-".concat(a),i),a==="start"&&(this.prevEvent=p),this._fireEvent(p),this._scopeFire("interactions:after-action-".concat(a),i),!0}},{key:"_now",value:function(){return Date.now()}}])&&Bi(n.prototype,r),e}();Xe.Interaction=br;var Yi=br;Xe.default=Yi;var ft={};function xr(e){e.pointerIsDown&&(Cn(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function wr(e){An(e.interaction)}function An(e){if(!function(r){return!(!r.offset.pending.x&&!r.offset.pending.y)}(e))return!1;var n=e.offset.pending;return Cn(e.coords.cur,n),Cn(e.coords.delta,n),l.addEdges(e.edges,e.rect,n),n.x=0,n.y=0,!0}function Wi(e){var n=e.x,r=e.y;this.offset.pending.x+=n,this.offset.pending.y+=r,this.offset.total.x+=n,this.offset.total.y+=r}function Cn(e,n){var r=e.page,i=e.client,o=n.x,a=n.y;r.x+=o,r.y+=a,i.x+=o,i.y+=a}Object.defineProperty(ft,"__esModule",{value:!0}),ft.addTotal=xr,ft.applyPending=An,ft.default=void 0,Xe._ProxyMethods.offsetBy="";var Ni={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Wi},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return xr(e.interaction)},"interactions:before-action-start":wr,"interactions:before-action-move":wr,"interactions:before-action-end":function(e){var n=e.interaction;if(An(n))return n.move({offset:!0}),n.end(),!1},"interactions:stop":function(e){var n=e.interaction;n.offset.total.x=0,n.offset.total.y=0,n.offset.pending.x=0,n.offset.pending.y=0}}};ft.default=Ni;var xt={};function Li(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Me(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(xt,"__esModule",{value:!0}),xt.default=xt.InertiaState=void 0;var _r=function(){function e(i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),Me(this,"active",!1),Me(this,"isModified",!1),Me(this,"smoothEnd",!1),Me(this,"allowResume",!1),Me(this,"modification",void 0),Me(this,"modifierCount",0),Me(this,"modifierArg",void 0),Me(this,"startCoords",void 0),Me(this,"t0",0),Me(this,"v0",0),Me(this,"te",0),Me(this,"targetOffset",void 0),Me(this,"modifiedOffset",void 0),Me(this,"currentOffset",void 0),Me(this,"lambda_v0",0),Me(this,"one_ve_v0",0),Me(this,"timeout",void 0),Me(this,"interaction",void 0),this.interaction=i}var n,r;return n=e,(r=[{key:"start",value:function(i){var o=this.interaction,a=nn(o);if(!a||!a.enabled)return!1;var u=o.coords.velocity.client,s=(0,_.default)(u.x,u.y),c=this.modification||(this.modification=new ut.default(o));if(c.copyFrom(o.modification),this.t0=o._now(),this.allowResume=a.allowResume,this.v0=s,this.currentOffset={x:0,y:0},this.startCoords=o.coords.cur.page,this.modifierArg=c.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-o.coords.cur.timeStamp<50&&s>a.minSpeed&&s>a.endSpeed)this.startInertia();else{if(c.result=c.setAll(this.modifierArg),!c.result.changed)return!1;this.startSmoothEnd()}return o.modification.result.rect=null,o.offsetBy(this.targetOffset),o._doPhase({interaction:o,event:i,phase:"inertiastart"}),o.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),o.modification.result.rect=null,this.active=!0,o.simulation=this,!0}},{key:"startInertia",value:function(){var i=this,o=this.interaction.coords.velocity.client,a=nn(this.interaction),u=a.resistance,s=-Math.log(a.endSpeed/this.v0)/u;this.targetOffset={x:(o.x-s)/u,y:(o.y-s)/u},this.te=s,this.lambda_v0=u/this.v0,this.one_ve_v0=1-a.endSpeed/this.v0;var c=this.modification,p=this.modifierArg;p.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},c.result=c.setAll(p),c.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+c.result.delta.x,y:this.targetOffset.y+c.result.delta.y}),this.onNextFrame(function(){return i.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var i=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return i.smoothEndTick()})}},{key:"onNextFrame",value:function(i){var o=this;this.timeout=Ve.default.request(function(){o.active&&i()})}},{key:"inertiaTick",value:function(){var i,o,a,u,s,c=this,p=this.interaction,h=nn(p).resistance,b=(p._now()-this.t0)/1e3;if(b<this.te){var E,S=1-(Math.exp(-h*b)-this.lambda_v0)/this.one_ve_v0;this.isModified?(i=this.targetOffset.x,o=this.targetOffset.y,a=this.modifiedOffset.x,u=this.modifiedOffset.y,E={x:Pr(s=S,0,i,a),y:Pr(s,0,o,u)}):E={x:this.targetOffset.x*S,y:this.targetOffset.y*S};var w={x:E.x-this.currentOffset.x,y:E.y-this.currentOffset.y};this.currentOffset.x+=w.x,this.currentOffset.y+=w.y,p.offsetBy(w),p.move(),this.onNextFrame(function(){return c.inertiaTick()})}else p.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var i=this,o=this.interaction,a=o._now()-this.t0,u=nn(o).smoothEndDuration;if(a<u){var s={x:Er(a,0,this.targetOffset.x,u),y:Er(a,0,this.targetOffset.y,u)},c={x:s.x-this.currentOffset.x,y:s.y-this.currentOffset.y};this.currentOffset.x+=c.x,this.currentOffset.y+=c.y,o.offsetBy(c),o.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return i.smoothEndTick()})}else o.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(i){var o=i.pointer,a=i.event,u=i.eventTarget,s=this.interaction;s.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),s.updatePointer(o,a,u,!0),s._doPhase({interaction:s,event:a,phase:"resume"}),(0,O.copyCoords)(s.coords.prev,s.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ve.default.cancel(this.timeout)}}])&&Li(n.prototype,r),e}();function nn(e){var n=e.interactable,r=e.prepared;return n&&n.options&&r.name&&n.options[r.name].inertia}function Pr(e,n,r,i){var o=1-e;return o*o*n+2*o*e*r+e*e*i}function Er(e,n,r,i){return-r*(e/=i)*(e-2)+n}xt.InertiaState=_r;var Ui={id:"inertia",before:["modifiers","actions"],install:function(e){var n=e.defaults;e.usePlugin(ft.default),e.usePlugin(ke.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,n.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var n=e.interaction;n.inertia=new _r(n)},"interactions:before-action-end":function(e){var n=e.interaction,r=e.event;return(!n._interacting||n.simulation||!n.inertia.start(r))&&null},"interactions:down":function(e){var n=e.interaction,r=e.eventTarget,i=n.inertia;if(i.active)for(var o=r;x.default.element(o);){if(o===n.element){i.resume(e);break}o=R.parentNode(o)}},"interactions:stop":function(e){var n=e.interaction.inertia;n.active&&n.stop()},"interactions:before-action-resume":function(e){var n=e.interaction.modification;n.stop(e),n.start(e,e.interaction.coords.cur.page),n.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":ke.addEventModifiers,"interactions:action-inertiastart":ke.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};xt.default=Ui;var At={};function Vi(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ct(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Or(e,n){for(var r=0;r<n.length;r++){var i=n[r];if(e.immediatePropagationStopped)break;i(e)}}Object.defineProperty(At,"__esModule",{value:!0}),At.Eventable=void 0;var qi=function(){function e(i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),Ct(this,"options",void 0),Ct(this,"types",{}),Ct(this,"propagationStopped",!1),Ct(this,"immediatePropagationStopped",!1),Ct(this,"global",void 0),this.options=(0,v.default)({},i||{})}var n,r;return n=e,(r=[{key:"fire",value:function(i){var o,a=this.global;(o=this.types[i.type])&&Or(i,o),!i.propagationStopped&&a&&(o=a[i.type])&&Or(i,o)}},{key:"on",value:function(i,o){var a=(0,m.default)(i,o);for(i in a)this.types[i]=F.merge(this.types[i]||[],a[i])}},{key:"off",value:function(i,o){var a=(0,m.default)(i,o);for(i in a){var u=this.types[i];if(u&&u.length)for(var s=0;s<a[i].length;s++){var c=a[i][s],p=u.indexOf(c);p!==-1&&u.splice(p,1)}}}},{key:"getRect",value:function(i){return null}}])&&Vi(n.prototype,r),e}();At.Eventable=qi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=function(e,n){if(n.phaselessTypes[e])return!0;for(var r in n.map)if(e.indexOf(r)===0&&e.substr(r.length)in n.phases)return!0;return!1};var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.createInteractStatic=function(e){var n=function r(i,o){var a=e.interactables.get(i,o);return a||((a=e.interactables.new(i,o)).events.global=r.globalEvents),a};return n.getPointerAverage=O.pointerAverage,n.getTouchBBox=O.touchBBox,n.getTouchDistance=O.touchDistance,n.getTouchAngle=O.touchAngle,n.getElementRect=R.getElementRect,n.getElementClientRect=R.getElementClientRect,n.matchesSelector=R.matchesSelector,n.closest=R.closest,n.globalEvents={},n.version="1.10.11",n.scope=e,n.use=function(r,i){return this.scope.usePlugin(r,i),this},n.isSet=function(r,i){return!!this.scope.interactables.get(r,i&&i.context)},n.on=(0,We.warnOnce)(function(r,i,o){if(x.default.string(r)&&r.search(" ")!==-1&&(r=r.trim().split(/ +/)),x.default.array(r)){for(var a=0;a<r.length;a++){var u=r[a];this.on(u,i,o)}return this}if(x.default.object(r)){for(var s in r)this.on(s,r[s],i);return this}return(0,Rt.default)(r,this.scope.actions)?this.globalEvents[r]?this.globalEvents[r].push(i):this.globalEvents[r]=[i]:this.scope.events.add(this.scope.document,r,i,{options:o}),this},"The interact.on() method is being deprecated"),n.off=(0,We.warnOnce)(function(r,i,o){if(x.default.string(r)&&r.search(" ")!==-1&&(r=r.trim().split(/ +/)),x.default.array(r)){for(var a=0;a<r.length;a++){var u=r[a];this.off(u,i,o)}return this}if(x.default.object(r)){for(var s in r)this.off(s,r[s],i);return this}var c;return(0,Rt.default)(r,this.scope.actions)?r in this.globalEvents&&(c=this.globalEvents[r].indexOf(i))!==-1&&this.globalEvents[r].splice(c,1):this.scope.events.remove(this.scope.document,r,i,o),this},"The interact.off() method is being deprecated"),n.debug=function(){return this.scope},n.supportsTouch=function(){return B.default.supportsTouch},n.supportsPointerEvent=function(){return B.default.supportsPointerEvent},n.stop=function(){for(var r=0;r<this.scope.interactions.list.length;r++)this.scope.interactions.list[r].stop();return this},n.pointerMoveTolerance=function(r){return x.default.number(r)?(this.scope.interactions.pointerMoveTolerance=r,this):this.scope.interactions.pointerMoveTolerance},n.addDocument=function(r,i){this.scope.addDocument(r,i)},n.removeDocument=function(r){this.scope.removeDocument(r)},n};var rn={};function Hi(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Je(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(rn,"__esModule",{value:!0}),rn.Interactable=void 0;var Gi=function(){function e(i,o,a,u){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),Je(this,"options",void 0),Je(this,"_actions",void 0),Je(this,"target",void 0),Je(this,"events",new At.Eventable),Je(this,"_context",void 0),Je(this,"_win",void 0),Je(this,"_doc",void 0),Je(this,"_scopeEvents",void 0),Je(this,"_rectChecker",void 0),this._actions=o.actions,this.target=i,this._context=o.context||a,this._win=(0,X.getWindow)((0,R.trySelector)(i)?this._context:i),this._doc=this._win.document,this._scopeEvents=u,this.set(o)}var n,r;return n=e,(r=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(i,o){return x.default.func(o.onstart)&&this.on("".concat(i,"start"),o.onstart),x.default.func(o.onmove)&&this.on("".concat(i,"move"),o.onmove),x.default.func(o.onend)&&this.on("".concat(i,"end"),o.onend),x.default.func(o.oninertiastart)&&this.on("".concat(i,"inertiastart"),o.oninertiastart),this}},{key:"updatePerActionListeners",value:function(i,o,a){(x.default.array(o)||x.default.object(o))&&this.off(i,o),(x.default.array(a)||x.default.object(a))&&this.on(i,a)}},{key:"setPerAction",value:function(i,o){var a=this._defaults;for(var u in o){var s=u,c=this.options[i],p=o[s];s==="listeners"&&this.updatePerActionListeners(i,c.listeners,p),x.default.array(p)?c[s]=F.from(p):x.default.plainObject(p)?(c[s]=(0,v.default)(c[s]||{},(0,lt.default)(p)),x.default.object(a.perAction[s])&&"enabled"in a.perAction[s]&&(c[s].enabled=p.enabled!==!1)):x.default.bool(p)&&x.default.object(a.perAction[s])?c[s].enabled=p:c[s]=p}}},{key:"getRect",value:function(i){return i=i||(x.default.element(this.target)?this.target:null),x.default.string(this.target)&&(i=i||this._context.querySelector(this.target)),(0,R.getElementRect)(i)}},{key:"rectChecker",value:function(i){var o=this;return x.default.func(i)?(this._rectChecker=i,this.getRect=function(a){var u=(0,v.default)({},o._rectChecker(a));return"width"in u||(u.width=u.right-u.left,u.height=u.bottom-u.top),u},this):i===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(i,o){if((0,R.trySelector)(o)||x.default.object(o)){for(var a in this.options[i]=o,this._actions.map)this.options[a][i]=o;return this}return this.options[i]}},{key:"origin",value:function(i){return this._backCompatOption("origin",i)}},{key:"deltaSource",value:function(i){return i==="page"||i==="client"?(this.options.deltaSource=i,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(i){return this._context===i.ownerDocument||(0,R.nodeContains)(this._context,i)}},{key:"testIgnoreAllow",value:function(i,o,a){return!this.testIgnore(i.ignoreFrom,o,a)&&this.testAllow(i.allowFrom,o,a)}},{key:"testAllow",value:function(i,o,a){return!i||!!x.default.element(a)&&(x.default.string(i)?(0,R.matchesUpTo)(a,i,o):!!x.default.element(i)&&(0,R.nodeContains)(i,a))}},{key:"testIgnore",value:function(i,o,a){return!(!i||!x.default.element(a))&&(x.default.string(i)?(0,R.matchesUpTo)(a,i,o):!!x.default.element(i)&&(0,R.nodeContains)(i,a))}},{key:"fire",value:function(i){return this.events.fire(i),this}},{key:"_onOff",value:function(i,o,a,u){x.default.object(o)&&!x.default.array(o)&&(u=a,a=null);var s=i==="on"?"add":"remove",c=(0,m.default)(o,a);for(var p in c){p==="wheel"&&(p=B.default.wheelEvent);for(var h=0;h<c[p].length;h++){var b=c[p][h];(0,Rt.default)(p,this._actions)?this.events[i](p,b):x.default.string(this.target)?this._scopeEvents["".concat(s,"Delegate")](this.target,this._context,p,b,u):this._scopeEvents[s](this.target,p,b,u)}}return this}},{key:"on",value:function(i,o,a){return this._onOff("on",i,o,a)}},{key:"off",value:function(i,o,a){return this._onOff("off",i,o,a)}},{key:"set",value:function(i){var o=this._defaults;for(var a in x.default.object(i)||(i={}),this.options=(0,lt.default)(o.base),this._actions.methodDict){var u=a,s=this._actions.methodDict[u];this.options[u]={},this.setPerAction(u,(0,v.default)((0,v.default)({},o.perAction),o.actions[u])),this[s](i[u])}for(var c in i)x.default.func(this[c])&&this[c](i[c]);return this}},{key:"unset",value:function(){if(x.default.string(this.target))for(var i in this._scopeEvents.delegatedEvents)for(var o=this._scopeEvents.delegatedEvents[i],a=o.length-1;a>=0;a--){var u=o[a],s=u.selector,c=u.context,p=u.listeners;s===this.target&&c===this._context&&o.splice(a,1);for(var h=p.length-1;h>=0;h--)this._scopeEvents.removeDelegate(this.target,this._context,i,p[h][0],p[h][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Hi(n.prototype,r),e}();rn.Interactable=Gi;var on={};function $i(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Fn(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(on,"__esModule",{value:!0}),on.InteractableSet=void 0;var Ki=function(){function e(i){var o=this;(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Fn(this,"list",[]),Fn(this,"selectorMap",{}),Fn(this,"scope",void 0),this.scope=i,i.addListeners({"interactable:unset":function(a){var u=a.interactable,s=u.target,c=u._context,p=x.default.string(s)?o.selectorMap[s]:s[o.scope.id],h=F.findIndex(p,function(b){return b.context===c});p[h]&&(p[h].context=null,p[h].interactable=null),p.splice(h,1)}})}var n,r;return n=e,(r=[{key:"new",value:function(i,o){o=(0,v.default)(o||{},{actions:this.scope.actions});var a=new this.scope.Interactable(i,o,this.scope.document,this.scope.events),u={context:a._context,interactable:a};return this.scope.addDocument(a._doc),this.list.push(a),x.default.string(i)?(this.selectorMap[i]||(this.selectorMap[i]=[]),this.selectorMap[i].push(u)):(a.target[this.scope.id]||Object.defineProperty(i,this.scope.id,{value:[],configurable:!0}),i[this.scope.id].push(u)),this.scope.fire("interactable:new",{target:i,options:o,interactable:a,win:this.scope._win}),a}},{key:"get",value:function(i,o){var a=o&&o.context||this.scope.document,u=x.default.string(i),s=u?this.selectorMap[i]:i[this.scope.id];if(!s)return null;var c=F.find(s,function(p){return p.context===a&&(u||p.interactable.inContext(i))});return c&&c.interactable}},{key:"forEachMatch",value:function(i,o){for(var a=0;a<this.list.length;a++){var u=this.list[a],s=void 0;if((x.default.string(u.target)?x.default.element(i)&&R.matchesSelector(i,u.target):i===u.target)&&u.inContext(i)&&(s=o(u)),s!==void 0)return s}}}])&&$i(n.prototype,r),e}();on.InteractableSet=Ki;var an={};function Zi(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bn(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Xn(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(r)){var o=[],a=!0,u=!1,s=void 0;try{for(var c,p=r[Symbol.iterator]();!(a=(c=p.next()).done)&&(o.push(c.value),!i||o.length!==i);a=!0);}catch(h){u=!0,s=h}finally{try{a||p.return==null||p.return()}finally{if(u)throw s}}return o}}(e,n)||function(r,i){if(r){if(typeof r=="string")return Sr(r,i);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Sr(r,i):void 0}}(e,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}Object.defineProperty(an,"__esModule",{value:!0}),an.default=void 0;var Ji=function(){function e(i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),Bn(this,"currentTarget",void 0),Bn(this,"originalEvent",void 0),Bn(this,"type",void 0),this.originalEvent=i,(0,P.default)(this,i)}var n,r;return n=e,(r=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Zi(n.prototype,r),e}();function Ft(e){if(!x.default.object(e))return{capture:!!e,passive:!1};var n=(0,v.default)({},e);return n.capture=!!e.capture,n.passive=!!e.passive,n}var Qi={id:"events",install:function(e){var n,r=[],i={},o=[],a={add:u,remove:s,addDelegate:function(h,b,E,S,w){var z=Ft(w);if(!i[E]){i[E]=[];for(var D=0;D<o.length;D++){var k=o[D];u(k,E,c),u(k,E,p,!0)}}var N=i[E],q=F.find(N,function(K){return K.selector===h&&K.context===b});q||(q={selector:h,context:b,listeners:[]},N.push(q)),q.listeners.push([S,z])},removeDelegate:function(h,b,E,S,w){var z,D=Ft(w),k=i[E],N=!1;if(k)for(z=k.length-1;z>=0;z--){var q=k[z];if(q.selector===h&&q.context===b){for(var K=q.listeners,se=K.length-1;se>=0;se--){var me=Xn(K[se],2),ee=me[0],he=me[1],Le=he.capture,et=he.passive;if(ee===S&&Le===D.capture&&et===D.passive){K.splice(se,1),K.length||(k.splice(z,1),s(b,E,c),s(b,E,p,!0)),N=!0;break}}if(N)break}}},delegateListener:c,delegateUseCapture:p,delegatedEvents:i,documents:o,targets:r,supportsOptions:!1,supportsPassive:!1};function u(h,b,E,S){var w=Ft(S),z=F.find(r,function(D){return D.eventTarget===h});z||(z={eventTarget:h,events:{}},r.push(z)),z.events[b]||(z.events[b]=[]),h.addEventListener&&!F.contains(z.events[b],E)&&(h.addEventListener(b,E,a.supportsOptions?w:w.capture),z.events[b].push(E))}function s(h,b,E,S){var w=Ft(S),z=F.findIndex(r,function(se){return se.eventTarget===h}),D=r[z];if(D&&D.events)if(b!=="all"){var k=!1,N=D.events[b];if(N){if(E==="all"){for(var q=N.length-1;q>=0;q--)s(h,b,N[q],w);return}for(var K=0;K<N.length;K++)if(N[K]===E){h.removeEventListener(b,E,a.supportsOptions?w:w.capture),N.splice(K,1),N.length===0&&(delete D.events[b],k=!0);break}}k&&!Object.keys(D.events).length&&r.splice(z,1)}else for(b in D.events)D.events.hasOwnProperty(b)&&s(h,b,"all")}function c(h,b){for(var E=Ft(b),S=new Ji(h),w=i[h.type],z=Xn(O.getEventTargets(h),1)[0],D=z;x.default.element(D);){for(var k=0;k<w.length;k++){var N=w[k],q=N.selector,K=N.context;if(R.matchesSelector(D,q)&&R.nodeContains(K,z)&&R.nodeContains(K,D)){var se=N.listeners;S.currentTarget=D;for(var me=0;me<se.length;me++){var ee=Xn(se[me],2),he=ee[0],Le=ee[1],et=Le.capture,Jn=Le.passive;et===E.capture&&Jn===E.passive&&he(S)}}}D=R.parentNode(D)}}function p(h){return c(h,!0)}return(n=e.document)==null||n.createElement("div").addEventListener("test",null,{get capture(){return a.supportsOptions=!0},get passive(){return a.supportsPassive=!0}}),e.events=a,a}};an.default=Qi;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.default=void 0;var ln={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var n=0;n<ln.methodOrder.length;n++){var r;r=ln.methodOrder[n];var i=ln[r](e);if(i)return i}return null},simulationResume:function(e){var n=e.pointerType,r=e.eventType,i=e.eventTarget,o=e.scope;if(!/down|start/i.test(r))return null;for(var a=0;a<o.interactions.list.length;a++){var u=o.interactions.list[a],s=i;if(u.simulation&&u.simulation.allowResume&&u.pointerType===n)for(;s;){if(s===u.element)return u;s=R.parentNode(s)}}return null},mouseOrPen:function(e){var n,r=e.pointerId,i=e.pointerType,o=e.eventType,a=e.scope;if(i!=="mouse"&&i!=="pen")return null;for(var u=0;u<a.interactions.list.length;u++){var s=a.interactions.list[u];if(s.pointerType===i){if(s.simulation&&!Tr(s,r))continue;if(s.interacting())return s;n||(n=s)}}if(n)return n;for(var c=0;c<a.interactions.list.length;c++){var p=a.interactions.list[c];if(!(p.pointerType!==i||/down/i.test(o)&&p.simulation))return p}return null},hasPointer:function(e){for(var n=e.pointerId,r=e.scope,i=0;i<r.interactions.list.length;i++){var o=r.interactions.list[i];if(Tr(o,n))return o}return null},idle:function(e){for(var n=e.pointerType,r=e.scope,i=0;i<r.interactions.list.length;i++){var o=r.interactions.list[i];if(o.pointers.length===1){var a=o.interactable;if(a&&(!a.options.gesture||!a.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&n===o.pointerType)return o}return null}};function Tr(e,n){return e.pointers.some(function(r){return r.id===n})}var eo=ln;sn.default=eo;var un={};function Mr(e){return(Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function zr(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(r)){var o=[],a=!0,u=!1,s=void 0;try{for(var c,p=r[Symbol.iterator]();!(a=(c=p.next()).done)&&(o.push(c.value),!i||o.length!==i);a=!0);}catch(h){u=!0,s=h}finally{try{a||p.return==null||p.return()}finally{if(u)throw s}}return o}}(e,n)||function(r,i){if(r){if(typeof r=="string")return kr(r,i);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?kr(r,i):void 0}}(e,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function to(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function no(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jr(e,n){return(jr=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(e,n)}function ro(e,n){return!n||Mr(n)!=="object"&&typeof n!="function"?function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e):n}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}Object.defineProperty(un,"__esModule",{value:!0}),un.default=void 0;var Wn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ir(e,n){return function(r){var i=n.interactions.list,o=O.getPointerType(r),a=zr(O.getEventTargets(r),2),u=a[0],s=a[1],c=[];if(/^touch/.test(r.type)){n.prevTouchTime=n.now();for(var p=0;p<r.changedTouches.length;p++){var h=r.changedTouches[p],b={pointer:h,pointerId:O.getPointerId(h),pointerType:o,eventType:r.type,eventTarget:u,curEventTarget:s,scope:n},E=Dr(b);c.push([b.pointer,b.eventTarget,b.curEventTarget,E])}}else{var S=!1;if(!B.default.supportsPointerEvent&&/mouse/.test(r.type)){for(var w=0;w<i.length&&!S;w++)S=i[w].pointerType!=="mouse"&&i[w].pointerIsDown;S=S||n.now()-n.prevTouchTime<500||r.timeStamp===0}if(!S){var z={pointer:r,pointerId:O.getPointerId(r),pointerType:o,eventType:r.type,curEventTarget:s,eventTarget:u,scope:n},D=Dr(z);c.push([z.pointer,z.eventTarget,z.curEventTarget,D])}}for(var k=0;k<c.length;k++){var N=zr(c[k],4),q=N[0],K=N[1],se=N[2];N[3][e](q,r,K,se)}}}function Dr(e){var n=e.pointerType,r=e.scope,i={interaction:sn.default.search(e),searchDetails:e};return r.fire("interactions:find",i),i.interaction||r.interactions.new({pointerType:n})}function Nn(e,n){var r=e.doc,i=e.scope,o=e.options,a=i.interactions.docEvents,u=i.events,s=u[n];for(var c in i.browser.isIOS&&!o.events&&(o.events={passive:!1}),u.delegatedEvents)s(r,c,u.delegateListener),s(r,c,u.delegateUseCapture,!0);for(var p=o&&o.events,h=0;h<a.length;h++){var b=a[h];s(r,b.type,b.listener,p)}}var io={id:"core/interactions",install:function(e){for(var n={},r=0;r<Wn.length;r++){var i=Wn[r];n[i]=Ir(i,e)}var o,a=B.default.pEventTypes;function u(){for(var s=0;s<e.interactions.list.length;s++){var c=e.interactions.list[s];if(c.pointerIsDown&&c.pointerType==="touch"&&!c._interacting)for(var p=function(){var b=c.pointers[h];e.documents.some(function(E){var S=E.doc;return(0,R.nodeContains)(S,b.downTarget)})||c.removePointer(b.pointer,b.event)},h=0;h<c.pointers.length;h++)p()}}(o=oe.default.PointerEvent?[{type:a.down,listener:u},{type:a.down,listener:n.pointerDown},{type:a.move,listener:n.pointerMove},{type:a.up,listener:n.pointerUp},{type:a.cancel,listener:n.pointerUp}]:[{type:"mousedown",listener:n.pointerDown},{type:"mousemove",listener:n.pointerMove},{type:"mouseup",listener:n.pointerUp},{type:"touchstart",listener:u},{type:"touchstart",listener:n.pointerDown},{type:"touchmove",listener:n.pointerMove},{type:"touchend",listener:n.pointerUp},{type:"touchcancel",listener:n.pointerUp}]).push({type:"blur",listener:function(s){for(var c=0;c<e.interactions.list.length;c++)e.interactions.list[c].documentBlur(s)}}),e.prevTouchTime=0,e.Interaction=function(s){(function(w,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(z&&z.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),z&&jr(w,z)})(S,s);var c,p,h,b,E=(h=S,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var w,z=Yn(h);if(b){var D=Yn(this).constructor;w=Reflect.construct(z,arguments,D)}else w=z.apply(this,arguments);return ro(this,w)});function S(){return to(this,S),E.apply(this,arguments)}return c=S,(p=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(w){e.interactions.pointerMoveTolerance=w}},{key:"_now",value:function(){return e.now()}}])&&no(c.prototype,p),S}(Xe.default),e.interactions={list:[],new:function(s){s.scopeFire=function(p,h){return e.fire(p,h)};var c=new e.Interaction(s);return e.interactions.list.push(c),c},listeners:n,docEvents:o,pointerMoveTolerance:1},e.usePlugin(bt.default)},listeners:{"scope:add-document":function(e){return Nn(e,"add")},"scope:remove-document":function(e){return Nn(e,"remove")},"interactable:unset":function(e,n){for(var r=e.interactable,i=n.interactions.list.length-1;i>=0;i--){var o=n.interactions.list[i];o.interactable===r&&(o.stop(),n.fire("interactions:destroy",{interaction:o}),o.destroy(),n.interactions.list.length>2&&n.interactions.list.splice(i,1))}}},onDocSignal:Nn,doOnInteractions:Ir,methodNames:Wn};un.default=io;var Bt={};function Ar(e){return(Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function Ln(e,n,r){return(Ln=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,a){var u=function(c,p){for(;!Object.prototype.hasOwnProperty.call(c,p)&&(c=wt(c))!==null;);return c}(i,o);if(u){var s=Object.getOwnPropertyDescriptor(u,o);return s.get?s.get.call(a):s.value}})(e,n,r||e)}function Cr(e,n){return(Cr=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(e,n)}function oo(e,n){return!n||Ar(n)!=="object"&&typeof n!="function"?function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e):n}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function Rr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Fr(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Br(e,n,r){return n&&Fr(e.prototype,n),r&&Fr(e,r),e}function je(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.initScope=Xr,Bt.Scope=void 0;var ao=function(){function e(){var n=this;Rr(this,e),je(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),je(this,"isInitialized",!1),je(this,"listenerMaps",[]),je(this,"browser",B.default),je(this,"defaults",(0,lt.default)(kt.defaults)),je(this,"Eventable",At.Eventable),je(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),je(this,"interactStatic",(0,Rn.createInteractStatic)(this)),je(this,"InteractEvent",jt.InteractEvent),je(this,"Interactable",void 0),je(this,"interactables",new on.InteractableSet(this)),je(this,"_win",void 0),je(this,"document",void 0),je(this,"window",void 0),je(this,"documents",[]),je(this,"_plugins",{list:[],map:{}}),je(this,"onWindowUnload",function(i){return n.removeDocument(i.target)});var r=this;this.Interactable=function(i){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Cr(c,p)})(s,i);var o,a,u=(o=s,a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,p=wt(o);if(a){var h=wt(this).constructor;c=Reflect.construct(p,arguments,h)}else c=p.apply(this,arguments);return oo(this,c)});function s(){return Rr(this,s),u.apply(this,arguments)}return Br(s,[{key:"_defaults",get:function(){return r.defaults}},{key:"set",value:function(c){return Ln(wt(s.prototype),"set",this).call(this,c),r.fire("interactable:set",{options:c,interactable:this}),this}},{key:"unset",value:function(){Ln(wt(s.prototype),"unset",this).call(this),r.interactables.list.splice(r.interactables.list.indexOf(this),1),r.fire("interactable:unset",{interactable:this})}}]),s}(rn.Interactable)}return Br(e,[{key:"addListeners",value:function(n,r){this.listenerMaps.push({id:r,map:n})}},{key:"fire",value:function(n,r){for(var i=0;i<this.listenerMaps.length;i++){var o=this.listenerMaps[i].map[n];if(o&&o(r,this,n)===!1)return!1}}},{key:"init",value:function(n){return this.isInitialized?this:Xr(this,n)}},{key:"pluginIsInstalled",value:function(n){return this._plugins.map[n.id]||this._plugins.list.indexOf(n)!==-1}},{key:"usePlugin",value:function(n,r){if(!this.isInitialized)return this;if(this.pluginIsInstalled(n))return this;if(n.id&&(this._plugins.map[n.id]=n),this._plugins.list.push(n),n.install&&n.install(this,r),n.listeners&&n.before){for(var i=0,o=this.listenerMaps.length,a=n.before.reduce(function(s,c){return s[c]=!0,s[Yr(c)]=!0,s},{});i<o;i++){var u=this.listenerMaps[i].id;if(a[u]||a[Yr(u)])break}this.listenerMaps.splice(i,0,{id:n.id,map:n.listeners})}else n.listeners&&this.listenerMaps.push({id:n.id,map:n.listeners});return this}},{key:"addDocument",value:function(n,r){if(this.getDocIndex(n)!==-1)return!1;var i=X.getWindow(n);r=r?(0,v.default)({},r):{},this.documents.push({doc:n,options:r}),this.events.documents.push(n),n!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:n,window:i,scope:this,options:r})}},{key:"removeDocument",value:function(n){var r=this.getDocIndex(n),i=X.getWindow(n),o=this.documents[r].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(r,1),this.events.documents.splice(r,1),this.fire("scope:remove-document",{doc:n,window:i,scope:this,options:o})}},{key:"getDocIndex",value:function(n){for(var r=0;r<this.documents.length;r++)if(this.documents[r].doc===n)return r;return-1}},{key:"getDocOptions",value:function(n){var r=this.getDocIndex(n);return r===-1?null:this.documents[r].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function Xr(e,n){return e.isInitialized=!0,x.default.window(n)&&X.init(n),oe.default.init(n),B.default.init(n),Ve.default.init(n),e.window=n,e.document=n.document,e.usePlugin(un.default),e.usePlugin(an.default),e}function Yr(e){return e&&e.replace(/\/.*$/,"")}Bt.Scope=ao;var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;var Wr=new Bt.Scope,so=Wr.interactStatic;Ae.default=so;var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Wr.init(lo);var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.default=void 0,cn.default=function(){};var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.default=void 0,fn.default=function(){};var dn={};function Nr(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(r)){var o=[],a=!0,u=!1,s=void 0;try{for(var c,p=r[Symbol.iterator]();!(a=(c=p.next()).done)&&(o.push(c.value),!i||o.length!==i);a=!0);}catch(h){u=!0,s=h}finally{try{a||p.return==null||p.return()}finally{if(u)throw s}}return o}}(e,n)||function(r,i){if(r){if(typeof r=="string")return Lr(r,i);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Lr(r,i):void 0}}(e,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}Object.defineProperty(dn,"__esModule",{value:!0}),dn.default=void 0,dn.default=function(e){var n=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(i){var o=Nr(i,2),a=o[0],u=o[1];return a in e||u in e}),r=function(i,o){for(var a=e.range,u=e.limits,s=u===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:u,c=e.offset,p=c===void 0?{x:0,y:0}:c,h={range:a,grid:e,x:null,y:null},b=0;b<n.length;b++){var E=Nr(n[b],2),S=E[0],w=E[1],z=Math.round((i-p.x)/e[S]),D=Math.round((o-p.y)/e[w]);h[S]=Math.max(s.left,Math.min(s.right,z*e[S]+p.x)),h[w]=Math.max(s.top,Math.min(s.bottom,D*e[w]+p.y))}return h};return r.grid=e,r.coordFields=n,r};var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0}),Object.defineProperty(Xt,"edgeTarget",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(Xt,"elements",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(Xt,"grid",{enumerable:!0,get:function(){return dn.default}});var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=void 0;var uo={id:"snappers",install:function(e){var n=e.interactStatic;n.snappers=(0,v.default)(n.snappers||{},Xt),n.createSnapGrid=n.snappers.grid}};pn.default=uo;var _t={};function Ur(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Un(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ur(Object(r),!0).forEach(function(i){co(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function co(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(_t,"__esModule",{value:!0}),_t.aspectRatio=_t.default=void 0;var Vr={start:function(e){var n=e.state,r=e.rect,i=e.edges,o=e.pageCoords,a=n.options.ratio,u=n.options,s=u.equalDelta,c=u.modifiers;a==="preserve"&&(a=r.width/r.height),n.startCoords=(0,v.default)({},o),n.startRect=(0,v.default)({},r),n.ratio=a,n.equalDelta=s;var p=n.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(n.xIsPrimaryAxis=!(!i.left&&!i.right),n.equalDelta)n.edgeSign=(p.left?1:-1)*(p.top?1:-1);else{var h=n.xIsPrimaryAxis?p.top:p.left;n.edgeSign=h?-1:1}if((0,v.default)(e.edges,p),c&&c.length){var b=new ut.default(e.interaction);b.copyFrom(e.interaction.modification),b.prepareStates(c),n.subModification=b,b.startAll(Un({},e))}},set:function(e){var n=e.state,r=e.rect,i=e.coords,o=(0,v.default)({},i),a=n.equalDelta?fo:po;if(a(n,n.xIsPrimaryAxis,i,r),!n.subModification)return null;var u=(0,v.default)({},r);(0,l.addEdges)(n.linkedEdges,u,{x:i.x-o.x,y:i.y-o.y});var s=n.subModification.setAll(Un(Un({},e),{},{rect:u,edges:n.linkedEdges,pageCoords:i,prevCoords:i,prevRect:u})),c=s.delta;return s.changed&&(a(n,Math.abs(c.x)>Math.abs(c.y),s.coords,s.rect),(0,v.default)(i,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function fo(e,n,r){var i=e.startCoords,o=e.edgeSign;n?r.y=i.y+(r.x-i.x)*o:r.x=i.x+(r.y-i.y)*o}function po(e,n,r,i){var o=e.startRect,a=e.startCoords,u=e.ratio,s=e.edgeSign;if(n){var c=i.width/u;r.y=a.y+(c-o.height)*s}else{var p=i.height*u;r.x=a.x+(p-o.width)*s}}_t.aspectRatio=Vr;var vo=(0,ke.makeModifier)(Vr,"aspectRatio");_t.default=vo;var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0;var qr=function(){};qr._defaults={};var ho=qr;dt.default=ho;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Object.defineProperty(Vn,"default",{enumerable:!0,get:function(){return dt.default}});var Fe={};function qn(e,n,r){return x.default.func(e)?l.resolveRectLike(e,n.interactable,n.element,[r.x,r.y,n]):l.resolveRectLike(e,n.interactable,n.element)}Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.getRestrictionRect=qn,Fe.restrict=Fe.default=void 0;var Hr={start:function(e){var n=e.rect,r=e.startOffset,i=e.state,o=e.interaction,a=e.pageCoords,u=i.options,s=u.elementRect,c=(0,v.default)({left:0,top:0,right:0,bottom:0},u.offset||{});if(n&&s){var p=qn(u.restriction,o,a);if(p){var h=p.right-p.left-n.width,b=p.bottom-p.top-n.height;h<0&&(c.left+=h,c.right+=h),b<0&&(c.top+=b,c.bottom+=b)}c.left+=r.left-n.width*s.left,c.top+=r.top-n.height*s.top,c.right+=r.right-n.width*(1-s.right),c.bottom+=r.bottom-n.height*(1-s.bottom)}i.offset=c},set:function(e){var n=e.coords,r=e.interaction,i=e.state,o=i.options,a=i.offset,u=qn(o.restriction,r,n);if(u){var s=l.xywhToTlbr(u);n.x=Math.max(Math.min(s.right-a.right,n.x),s.left+a.left),n.y=Math.max(Math.min(s.bottom-a.bottom,n.y),s.top+a.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Fe.restrict=Hr;var yo=(0,ke.makeModifier)(Hr,"restrict");Fe.default=yo;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.restrictEdges=Ge.default=void 0;var Gr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},$r={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Kr(e,n){for(var r=["top","left","bottom","right"],i=0;i<r.length;i++){var o=r[i];o in e||(e[o]=n[o])}return e}var Zr={noInner:Gr,noOuter:$r,start:function(e){var n,r=e.interaction,i=e.startOffset,o=e.state,a=o.options;if(a){var u=(0,Fe.getRestrictionRect)(a.offset,r,r.coords.start.page);n=l.rectToXY(u)}n=n||{x:0,y:0},o.offset={top:n.y+i.top,left:n.x+i.left,bottom:n.y-i.bottom,right:n.x-i.right}},set:function(e){var n=e.coords,r=e.edges,i=e.interaction,o=e.state,a=o.offset,u=o.options;if(r){var s=(0,v.default)({},n),c=(0,Fe.getRestrictionRect)(u.inner,i,s)||{},p=(0,Fe.getRestrictionRect)(u.outer,i,s)||{};Kr(c,Gr),Kr(p,$r),r.top?n.y=Math.min(Math.max(p.top+a.top,s.y),c.top+a.top):r.bottom&&(n.y=Math.max(Math.min(p.bottom+a.bottom,s.y),c.bottom+a.bottom)),r.left?n.x=Math.min(Math.max(p.left+a.left,s.x),c.left+a.left):r.right&&(n.x=Math.max(Math.min(p.right+a.right,s.x),c.right+a.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ge.restrictEdges=Zr;var go=(0,ke.makeModifier)(Zr,"restrictEdges");Ge.default=go;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.restrictRect=Pt.default=void 0;var mo=(0,v.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Fe.restrict.defaults),Jr={start:Fe.restrict.start,set:Fe.restrict.set,defaults:mo};Pt.restrictRect=Jr;var bo=(0,ke.makeModifier)(Jr,"restrictRect");Pt.default=bo;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.restrictSize=Et.default=void 0;var xo={width:-1/0,height:-1/0},wo={width:1/0,height:1/0},Qr={start:function(e){return Ge.restrictEdges.start(e)},set:function(e){var n=e.interaction,r=e.state,i=e.rect,o=e.edges,a=r.options;if(o){var u=l.tlbrToXywh((0,Fe.getRestrictionRect)(a.min,n,e.coords))||xo,s=l.tlbrToXywh((0,Fe.getRestrictionRect)(a.max,n,e.coords))||wo;r.options={endOnly:a.endOnly,inner:(0,v.default)({},Ge.restrictEdges.noInner),outer:(0,v.default)({},Ge.restrictEdges.noOuter)},o.top?(r.options.inner.top=i.bottom-u.height,r.options.outer.top=i.bottom-s.height):o.bottom&&(r.options.inner.bottom=i.top+u.height,r.options.outer.bottom=i.top+s.height),o.left?(r.options.inner.left=i.right-u.width,r.options.outer.left=i.right-s.width):o.right&&(r.options.inner.right=i.left+u.width,r.options.outer.right=i.left+s.width),Ge.restrictEdges.set(e),r.options=a}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Et.restrictSize=Qr;var _o=(0,ke.makeModifier)(Qr,"restrictSize");Et.default=_o;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Object.defineProperty(Hn,"default",{enumerable:!0,get:function(){return dt.default}});var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.snap=it.default=void 0;var ei={start:function(e){var n,r=e.interaction,i=e.interactable,o=e.element,a=e.rect,u=e.state,s=e.startOffset,c=u.options,p=c.offsetWithOrigin?function(E){var S=E.interaction.element;return(0,l.rectToXY)((0,l.resolveRectLike)(E.state.options.origin,null,null,[S]))||(0,y.default)(E.interactable,S,E.interaction.prepared.name)}(e):{x:0,y:0};if(c.offset==="startCoords")n={x:r.coords.start.page.x,y:r.coords.start.page.y};else{var h=(0,l.resolveRectLike)(c.offset,i,o,[r]);(n=(0,l.rectToXY)(h)||{x:0,y:0}).x+=p.x,n.y+=p.y}var b=c.relativePoints;u.offsets=a&&b&&b.length?b.map(function(E,S){return{index:S,relativePoint:E,x:s.left-a.width*E.x+n.x,y:s.top-a.height*E.y+n.y}}):[{index:0,relativePoint:null,x:n.x,y:n.y}]},set:function(e){var n=e.interaction,r=e.coords,i=e.state,o=i.options,a=i.offsets,u=(0,y.default)(n.interactable,n.element,n.prepared.name),s=(0,v.default)({},r),c=[];o.offsetWithOrigin||(s.x-=u.x,s.y-=u.y);for(var p=0;p<a.length;p++)for(var h=a[p],b=s.x-h.x,E=s.y-h.y,S=0,w=o.targets.length;S<w;S++){var z,D=o.targets[S];(z=x.default.func(D)?D(b,E,n._proxy,h,S):D)&&c.push({x:(x.default.number(z.x)?z.x:b)+h.x,y:(x.default.number(z.y)?z.y:E)+h.y,range:x.default.number(z.range)?z.range:o.range,source:D,index:S,offset:h})}for(var k={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},N=0;N<c.length;N++){var q=c[N],K=q.range,se=q.x-s.x,me=q.y-s.y,ee=(0,_.default)(se,me),he=ee<=K;K===1/0&&k.inRange&&k.range!==1/0&&(he=!1),k.target&&!(he?k.inRange&&K!==1/0?ee/K<k.distance/k.range:K===1/0&&k.range!==1/0||ee<k.distance:!k.inRange&&ee<k.distance)||(k.target=q,k.distance=ee,k.range=K,k.inRange=he,k.delta.x=se,k.delta.y=me)}return k.inRange&&(r.x=k.target.x,r.y=k.target.y),i.closest=k,k},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};it.snap=ei;var Po=(0,ke.makeModifier)(ei,"snap");it.default=Po;var Qe={};function ti(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.snapSize=Qe.default=void 0;var ni={start:function(e){var n=e.state,r=e.edges,i=n.options;if(!r)return null;e.state={options:{targets:null,relativePoints:[{x:r.left?0:1,y:r.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},n.targetFields=n.targetFields||[["width","height"],["x","y"]],it.snap.start(e),n.offsets=e.state.offsets,e.state=n},set:function(e){var n,r,i=e.interaction,o=e.state,a=e.coords,u=o.options,s=o.offsets,c={x:a.x-s[0].x,y:a.y-s[0].y};o.options=(0,v.default)({},u),o.options.targets=[];for(var p=0;p<(u.targets||[]).length;p++){var h=(u.targets||[])[p],b=void 0;if(b=x.default.func(h)?h(c.x,c.y,i):h){for(var E=0;E<o.targetFields.length;E++){var S=(n=o.targetFields[E],r=2,function(k){if(Array.isArray(k))return k}(n)||function(k,N){if(typeof Symbol<"u"&&Symbol.iterator in Object(k)){var q=[],K=!0,se=!1,me=void 0;try{for(var ee,he=k[Symbol.iterator]();!(K=(ee=he.next()).done)&&(q.push(ee.value),!N||q.length!==N);K=!0);}catch(Le){se=!0,me=Le}finally{try{K||he.return==null||he.return()}finally{if(se)throw me}}return q}}(n,r)||function(k,N){if(k){if(typeof k=="string")return ti(k,N);var q=Object.prototype.toString.call(k).slice(8,-1);return q==="Object"&&k.constructor&&(q=k.constructor.name),q==="Map"||q==="Set"?Array.from(k):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?ti(k,N):void 0}}(n,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),w=S[0],z=S[1];if(w in b||z in b){b.x=b[w],b.y=b[z];break}}o.options.targets.push(b)}}var D=it.snap.set(e);return o.options=u,D},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Qe.snapSize=ni;var Eo=(0,ke.makeModifier)(ni,"snapSize");Qe.default=Eo;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.snapEdges=Ot.default=void 0;var ri={start:function(e){var n=e.edges;return n?(e.state.targetFields=e.state.targetFields||[[n.left?"left":"right",n.top?"top":"bottom"]],Qe.snapSize.start(e)):null},set:Qe.snapSize.set,defaults:(0,v.default)((0,lt.default)(Qe.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Ot.snapEdges=ri;var Oo=(0,ke.makeModifier)(ri,"snapEdges");Ot.default=Oo;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Object.defineProperty(Gn,"default",{enumerable:!0,get:function(){return dt.default}});var $n={};Object.defineProperty($n,"__esModule",{value:!0}),Object.defineProperty($n,"default",{enumerable:!0,get:function(){return dt.default}});var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var So={aspectRatio:_t.default,restrictEdges:Ge.default,restrict:Fe.default,restrictRect:Pt.default,restrictSize:Et.default,snapEdges:Ot.default,snap:it.default,snapSize:Qe.default,spring:Gn.default,avoid:Vn.default,transform:$n.default,rubberband:Hn.default};St.default=So;var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.default=void 0;var To={id:"modifiers",install:function(e){var n=e.interactStatic;for(var r in e.usePlugin(ke.default),e.usePlugin(pn.default),n.modifiers=St.default,St.default){var i=St.default[r],o=i._defaults,a=i._methods;o._methods=a,e.defaults.perAction[r]=o}}};vn.default=To;var pt={};function ii(e){return(ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function Mo(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oi(e,n){return(oi=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(e,n)}function zo(e,n){return!n||ii(n)!=="object"&&typeof n!="function"?Ye(e):n}function Ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function qe(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}Object.defineProperty(pt,"__esModule",{value:!0}),pt.PointerEvent=pt.default=void 0;var ko=function(e){(function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),c&&oi(s,c)})(u,e);var n,r,i,o,a=(i=u,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var s,c=Kn(i);if(o){var p=Kn(this).constructor;s=Reflect.construct(c,arguments,p)}else s=c.apply(this,arguments);return zo(this,s)});function u(s,c,p,h,b,E){var S;if(function(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}(this,u),qe(Ye(S=a.call(this,b)),"type",void 0),qe(Ye(S),"originalEvent",void 0),qe(Ye(S),"pointerId",void 0),qe(Ye(S),"pointerType",void 0),qe(Ye(S),"double",void 0),qe(Ye(S),"pageX",void 0),qe(Ye(S),"pageY",void 0),qe(Ye(S),"clientX",void 0),qe(Ye(S),"clientY",void 0),qe(Ye(S),"dt",void 0),qe(Ye(S),"eventable",void 0),O.pointerExtend(Ye(S),p),p!==c&&O.pointerExtend(Ye(S),c),S.timeStamp=E,S.originalEvent=p,S.type=s,S.pointerId=O.getPointerId(c),S.pointerType=O.getPointerType(c),S.target=h,S.currentTarget=null,s==="tap"){var w=b.getPointerIndex(c);S.dt=S.timeStamp-b.pointers[w].downTime;var z=S.timeStamp-b.tapTime;S.double=!!(b.prevTap&&b.prevTap.type!=="doubletap"&&b.prevTap.target===S.target&&z<500)}else s==="doubletap"&&(S.dt=c.timeStamp-b.tapTime);return S}return n=u,(r=[{key:"_subtractOrigin",value:function(s){var c=s.x,p=s.y;return this.pageX-=c,this.pageY-=p,this.clientX-=c,this.clientY-=p,this}},{key:"_addOrigin",value:function(s){var c=s.x,p=s.y;return this.pageX+=c,this.pageY+=p,this.clientX+=c,this.clientY+=p,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&Mo(n.prototype,r),u}(Re.BaseEvent);pt.PointerEvent=pt.default=ko;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.default=void 0;var hn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=hn,e.defaults.actions.pointerEvents=hn.defaults,(0,v.default)(e.actions.phaselessTypes,hn.types)},listeners:{"interactions:new":function(e){var n=e.interaction;n.prevTap=null,n.tapTime=0},"interactions:update-pointer":function(e){var n=e.down,r=e.pointerInfo;!n&&r.hold||(r.hold={duration:1/0,timeout:null})},"interactions:move":function(e,n){var r=e.interaction,i=e.pointer,o=e.event,a=e.eventTarget;e.duplicate||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&Zn(e),ot({interaction:r,pointer:i,event:o,eventTarget:a,type:"move"},n))},"interactions:down":function(e,n){(function(r,i){for(var o=r.interaction,a=r.pointer,u=r.event,s=r.eventTarget,c=r.pointerIndex,p=o.pointers[c].hold,h=R.getPath(s),b={interaction:o,pointer:a,event:u,eventTarget:s,type:"hold",targets:[],path:h,node:null},E=0;E<h.length;E++){var S=h[E];b.node=S,i.fire("pointerEvents:collect-targets",b)}if(b.targets.length){for(var w=1/0,z=0;z<b.targets.length;z++){var D=b.targets[z].eventable.options.holdDuration;D<w&&(w=D)}p.duration=w,p.timeout=setTimeout(function(){ot({interaction:o,eventTarget:s,pointer:a,event:u,type:"hold"},i)},w)}})(e,n),ot(e,n)},"interactions:up":function(e,n){Zn(e),ot(e,n),function(r,i){var o=r.interaction,a=r.pointer,u=r.event,s=r.eventTarget;o.pointerWasMoved||ot({interaction:o,eventTarget:s,pointer:a,event:u,type:"tap"},i)}(e,n)},"interactions:cancel":function(e,n){Zn(e),ot(e,n)}},PointerEvent:pt.PointerEvent,fire:ot,collectEventTargets:ai,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ot(e,n){var r=e.interaction,i=e.pointer,o=e.event,a=e.eventTarget,u=e.type,s=e.targets,c=s===void 0?ai(e,n):s,p=new pt.PointerEvent(u,i,o,a,r,n.now());n.fire("pointerEvents:new",{pointerEvent:p});for(var h={interaction:r,pointer:i,event:o,eventTarget:a,targets:c,type:u,pointerEvent:p},b=0;b<c.length;b++){var E=c[b];for(var S in E.props||{})p[S]=E.props[S];var w=(0,y.default)(E.eventable,E.node);if(p._subtractOrigin(w),p.eventable=E.eventable,p.currentTarget=E.node,E.eventable.fire(p),p._addOrigin(w),p.immediatePropagationStopped||p.propagationStopped&&b+1<c.length&&c[b+1].node!==p.currentTarget)break}if(n.fire("pointerEvents:fired",h),u==="tap"){var z=p.double?ot({interaction:r,pointer:i,event:o,eventTarget:a,type:"doubletap"},n):p;r.prevTap=z,r.tapTime=z.timeStamp}return p}function ai(e,n){var r=e.interaction,i=e.pointer,o=e.event,a=e.eventTarget,u=e.type,s=r.getPointerIndex(i),c=r.pointers[s];if(u==="tap"&&(r.pointerWasMoved||!c||c.downTarget!==a))return[];for(var p=R.getPath(a),h={interaction:r,pointer:i,event:o,eventTarget:a,type:u,path:p,targets:[],node:null},b=0;b<p.length;b++){var E=p[b];h.node=E,n.fire("pointerEvents:collect-targets",h)}return u==="hold"&&(h.targets=h.targets.filter(function(S){var w;return S.eventable.options.holdDuration===((w=r.pointers[s])==null?void 0:w.hold.duration)})),h.targets}function Zn(e){var n=e.interaction,r=e.pointerIndex,i=n.pointers[r].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var jo=hn;Yt.default=jo;var yn={};function Io(e){var n=e.interaction;n.holdIntervalHandle&&(clearInterval(n.holdIntervalHandle),n.holdIntervalHandle=null)}Object.defineProperty(yn,"__esModule",{value:!0}),yn.default=void 0;var Do={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Yt.default);var n=e.pointerEvents;n.defaults.holdRepeatInterval=0,n.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,n){return e["pointerEvents:".concat(n)]=Io,e},{"pointerEvents:new":function(e){var n=e.pointerEvent;n.type==="hold"&&(n.count=(n.count||0)+1)},"pointerEvents:fired":function(e,n){var r=e.interaction,i=e.pointerEvent,o=e.eventTarget,a=e.targets;if(i.type==="hold"&&a.length){var u=a[0].eventable.options.holdRepeatInterval;u<=0||(r.holdIntervalHandle=setTimeout(function(){n.pointerEvents.fire({interaction:r,eventTarget:o,type:"hold",pointer:i,event:i},n)},u))}}})};yn.default=Do;var gn={};function Ao(e){return(0,v.default)(this.events.options,e),this}Object.defineProperty(gn,"__esModule",{value:!0}),gn.default=void 0;var Co={id:"pointer-events/interactableTargets",install:function(e){var n=e.Interactable;n.prototype.pointerEvents=Ao;var r=n.prototype._backCompatOption;n.prototype._backCompatOption=function(i,o){var a=r.call(this,i,o);return a===this&&(this.events.options[i]=o),a}},listeners:{"pointerEvents:collect-targets":function(e,n){var r=e.targets,i=e.node,o=e.type,a=e.eventTarget;n.interactables.forEachMatch(i,function(u){var s=u.events,c=s.options;s.types[o]&&s.types[o].length&&u.testIgnoreAllow(c,i,a)&&r.push({node:i,eventable:s,props:{interactable:u}})})},"interactable:new":function(e){var n=e.interactable;n.events.getRect=function(r){return n.getRect(r)}},"interactable:set":function(e,n){var r=e.interactable,i=e.options;(0,v.default)(r.events.options,n.pointerEvents.defaults),(0,v.default)(r.events.options,i.pointerEvents||{})}}};gn.default=Co;var mn={};Object.defineProperty(mn,"__esModule",{value:!0}),mn.default=void 0;var Ro={id:"pointer-events",install:function(e){e.usePlugin(Yt),e.usePlugin(yn.default),e.usePlugin(gn.default)}};mn.default=Ro;var Wt={};function si(e){var n=e.Interactable;e.actions.phases.reflow=!0,n.prototype.reflow=function(r){return function(i,o,a){for(var u=x.default.string(i.target)?F.from(i._context.querySelectorAll(i.target)):[i.target],s=a.window.Promise,c=s?[]:null,p=function(){var b=u[h],E=i.getRect(b);if(!E)return"break";var S=F.find(a.interactions.list,function(N){return N.interacting()&&N.interactable===i&&N.element===b&&N.prepared.name===o.name}),w=void 0;if(S)S.move(),c&&(w=S._reflowPromise||new s(function(N){S._reflowResolve=N}));else{var z=(0,l.tlbrToXywh)(E),D={page:{x:z.x,y:z.y},client:{x:z.x,y:z.y},timeStamp:a.now()},k=O.coordsToEvent(D);w=function(N,q,K,se,me){var ee=N.interactions.new({pointerType:"reflow"}),he={interaction:ee,event:me,pointer:me,eventTarget:K,phase:"reflow"};ee.interactable=q,ee.element=K,ee.prevEvent=me,ee.updatePointer(me,me,K,!0),O.setZeroCoords(ee.coords.delta),(0,We.copyAction)(ee.prepared,se),ee._doPhase(he);var Le=N.window.Promise,et=Le?new Le(function(Jn){ee._reflowResolve=Jn}):void 0;return ee._reflowPromise=et,ee.start(se,q,K),ee._interacting?(ee.move(he),ee.end(me)):(ee.stop(),ee._reflowResolve()),ee.removePointer(me,me),et}(a,i,b,o,k)}c&&c.push(w)},h=0;h<u.length&&p()!=="break";h++);return c&&s.all(c).then(function(){return i})}(this,r,e)}}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.install=si,Wt.default=void 0;var Fo={id:"reflow",install:si,listeners:{"interactions:stop":function(e,n){var r=e.interaction;r.pointerType==="reflow"&&(r._reflowResolve&&r._reflowResolve(),F.remove(n.interactions.list,r))}}};Wt.default=Fo;var Ne={exports:{}};function li(e){return(li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}Object.defineProperty(Ne.exports,"__esModule",{value:!0}),Ne.exports.default=void 0,Ae.default.use(bt.default),Ae.default.use(ft.default),Ae.default.use(mn.default),Ae.default.use(xt.default),Ae.default.use(vn.default),Ae.default.use(Zt.default),Ae.default.use(Vt.default),Ae.default.use(rt.default),Ae.default.use(Wt.default);var Bo=Ae.default;if(Ne.exports.default=Bo,li(Ne)==="object"&&Ne)try{Ne.exports=Ae.default}catch{}Ae.default.default=Ae.default,Ne=Ne.exports;var vt={exports:{}};function ui(e){return(ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}Object.defineProperty(vt.exports,"__esModule",{value:!0}),vt.exports.default=void 0;var Xo=Ne.default;if(vt.exports.default=Xo,ui(vt)==="object"&&vt)try{vt.exports=Ne.default}catch{}return Ne.default.default=Ne.default,vt.exports})})(ci);var Ho=Wo(ci.exports),bn={exports:{}};(function(W,le){(function(Z,X){W.exports=X()})(self,function(){return(()=>{var Z={607:(G,j,Y)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.drawLaserPen=j.drawRoundCap=j.drawDrawingBezierData=j.calDrawingData=j.transformPointToBezier=j.calControlPoints=j.drainPoints=j.setRoundCap=j.setColor=j.setOpacity=j.setTension=j.setMinWidth=j.setMaxWidth=j.setDelay=void 0;var x=Y(405),V=10,re=0,pe=300,ce=.3,ie=0,be=255,ge=0,ze=0,Ce=!1;function oe(I,$){return Math.sqrt(I*I+$*$)}j.setDelay=function(I){pe=I},j.setMaxWidth=function(I){V=I},j.setMinWidth=function(I){re=I},j.setTension=function(I){ce=I},j.setOpacity=function(I){ie=I},j.setColor=function(I,$,T){be=I,ge=$,ze=T},j.setRoundCap=function(I){Ce=I},j.drainPoints=function(I){for(var $,T=Date.now()-pe,B=0;B<I.length;B++)if(I[B].time>=T){$=B;break}var C=$===0?I:$===void 0?[]:I.slice($);for(B=C.length-1;B>0;B--)(xe=C[B]).x===C[B-1].x&&xe.y===C[B-1].y&&C.splice(B,1);for(B=C.length-1;B>1;B--){var xe;(xe=C[B]).x===C[B-2].x&&xe.y===C[B-2].y&&(C.splice(B-1,2),B--)}return C},j.calControlPoints=function(I){if(I.length<3)throw new Error("to calculate control points, the point counts should be larger than 3");for(var $=Array(I.length),T=I.length,B=T-2;B>0;B--){var C=I[B],xe=I[B+1],R=I[B-1],Pe=R.x-xe.x,Oe=R.y-xe.y,Se=oe(Pe,Oe),_e=Pe/Se,Ie=Oe/Se,te=oe(C.x-xe.x,C.y-xe.y),v=oe(C.x-R.x,C.y-R.y),l=C.x-_e*te*ce,f=C.y-Ie*te*ce,d=C.x+_e*v*ce,y=C.y+Ie*v*ce;$[B]={cn:{x:l,y:f},cp:{x:d,y}},(isNaN(l)||isNaN(f)||isNaN(d)||isNaN(y))&&console.log("a")}return $[T-1]={cn:{x:I[T-1].x,y:I[T-1].y},cp:{x:(I[T-1].x+I[T-2].x)/2,y:(I[T-1].y+I[T-2].y)/2}},$[0]={cn:{x:(I[0].x+I[B+1].x)/2,y:(I[0].y+I[B+1].y)/2},cp:{x:I[0].x,y:I[0].y}},$},j.transformPointToBezier=function(I,$){for(var T=[],B=1;B<I.length;B++){var C=I[B-1],xe=I[B],R=$[B-1].cn,Pe=$[B].cp,Oe=new x.Bezier(C.x,C.y,R.x,R.y,Pe.x,Pe.y,xe.x,xe.y);T.push(Oe)}return T},j.calDrawingData=function(I,$){for(var T=[],B=1-ie,C=V-re,xe=0,R=0;R<I.length;R++){var Pe=I[R],Oe=Pe.length(),Se=ie+(xe+=Oe)/$*B,_e=re+xe/$*C;T.push({bezier:Pe,opacity:Se,width:_e})}return T},j.drawDrawingBezierData=function(I,$){I.save(),I.lineCap="butt";for(var T=0;T<$.length;T++){I.beginPath();var B=$[T],C=B.bezier,xe=B.width,R=B.opacity;I.lineWidth=xe,I.strokeStyle="rgba(".concat(be,",").concat(ge,",").concat(ze,",").concat(R,")");var Pe=C.points[0].x,Oe=C.points[0].y;if(C.points[0].x!==C.points[1].x){var Se=C.points[0].x,_e=C.points[0].y,Ie=(_e-C.points[1].y)/(Se-C.points[1].x),te=_e-Ie*Se,v=Math.sqrt(.005/(1+Ie*Ie));Oe=Ie*(Pe=(C.points[1].x>Se?-v:v)+Se)+te}else Oe+=C.points[0].y>C.points[1].y?.005:-.005;var l=C.points[3].x,f=C.points[3].y;if(C.points[2].x!==C.points[3].x){var d=C.points[3].x,y=C.points[3].y,m=(y-C.points[2].y)/(d-C.points[2].x),g=y-m*d;v=Math.sqrt(.005/(1+m*m)),f=m*(l=(C.points[2].x>d?-v:v)+d)+g}else f+=C.points[2].y>C.points[3].y?-.005:.005;I.moveTo(Pe,Oe),I.bezierCurveTo(C.points[1].x,C.points[1].y,C.points[2].x,C.points[2].y,l,f),I.stroke(),I.closePath()}I.restore()},j.drawRoundCap=function(I,$){var T=$.bezier.points[3];I.save(),I.beginPath(),I.fillStyle="rgba(".concat(be,",").concat(ge,",").concat(ze,",").concat($.opacity,")"),I.arc(T.x,T.y,$.width/2,0,2*Math.PI,!1),I.closePath(),I.fill(),I.restore()},j.drawLaserPen=function(I,$){if($.length<3)throw new Error("too less points");var T=(0,j.calControlPoints)($),B=(0,j.transformPointToBezier)($,T),C=B.reduce(function(_e,Ie){return _e+Ie.length()},0),xe=C/50,R=[];B.forEach(function(_e,Ie){var te=_e.length(),v=Math.ceil(te/xe)+2,l=_e.getLUT(v);Ie<B.length-1&&l.pop(),R.push.apply(R,l)});var Pe=(0,j.calControlPoints)(R),Oe=(0,j.transformPointToBezier)(R,Pe),Se=(0,j.calDrawingData)(Oe,C);(0,j.drawDrawingBezierData)(I,Se),Ce&&(0,j.drawRoundCap)(I,Se[Se.length-1])}},405:(G,j)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.Bezier=void 0;const{abs:Y,cos:x,sin:V,acos:re,atan2:pe,sqrt:ce,pow:ie}=Math;function be(v){return v<0?-ie(-v,.3333333333333333):ie(v,.3333333333333333)}const ge=Math.PI,ze=2*ge,Ce=ge/2,oe=Number.MAX_SAFE_INTEGER||9007199254740991,I=Number.MIN_SAFE_INTEGER||-9007199254740991,$={x:0,y:0,z:0},T={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(v,l){const f=l(v);let d=f.x*f.x+f.y*f.y;return f.z!==void 0&&(d+=f.z*f.z),ce(d)},compute:function(v,l,f){if(v===0)return l[0].t=0,l[0];const d=l.length-1;if(v===1)return l[d].t=1,l[d];const y=1-v;let m=l;if(d===0)return l[0].t=v,l[0];if(d===1){const _={x:y*m[0].x+v*m[1].x,y:y*m[0].y+v*m[1].y,t:v};return f&&(_.z=y*m[0].z+v*m[1].z),_}if(d<4){let _,P,M,A=y*y,O=v*v,U=0;d===2?(m=[m[0],m[1],m[2],$],_=A,P=y*v*2,M=O):d===3&&(_=A*y,P=A*v*3,M=y*O*3,U=v*O);const L={x:_*m[0].x+P*m[1].x+M*m[2].x+U*m[3].x,y:_*m[0].y+P*m[1].y+M*m[2].y+U*m[3].y,t:v};return f&&(L.z=_*m[0].z+P*m[1].z+M*m[2].z+U*m[3].z),L}const g=JSON.parse(JSON.stringify(l));for(;g.length>1;){for(let _=0;_<g.length-1;_++)g[_]={x:g[_].x+(g[_+1].x-g[_].x)*v,y:g[_].y+(g[_+1].y-g[_].y)*v},g[_].z!==void 0&&(g[_]=g[_].z+(g[_+1].z-g[_].z)*v);g.splice(g.length-1,1)}return g[0].t=v,g[0]},computeWithRatios:function(v,l,f,d){const y=1-v,m=f,g=l;let _,P=m[0],M=m[1],A=m[2],O=m[3];return P*=y,M*=v,g.length===2?(_=P+M,{x:(P*g[0].x+M*g[1].x)/_,y:(P*g[0].y+M*g[1].y)/_,z:!!d&&(P*g[0].z+M*g[1].z)/_,t:v}):(P*=y,M*=2*y,A*=v*v,g.length===3?(_=P+M+A,{x:(P*g[0].x+M*g[1].x+A*g[2].x)/_,y:(P*g[0].y+M*g[1].y+A*g[2].y)/_,z:!!d&&(P*g[0].z+M*g[1].z+A*g[2].z)/_,t:v}):(P*=y,M*=1.5*y,A*=3*y,O*=v*v*v,g.length===4?(_=P+M+A+O,{x:(P*g[0].x+M*g[1].x+A*g[2].x+O*g[3].x)/_,y:(P*g[0].y+M*g[1].y+A*g[2].y+O*g[3].y)/_,z:!!d&&(P*g[0].z+M*g[1].z+A*g[2].z+O*g[3].z)/_,t:v}):void 0))},derive:function(v,l){const f=[];for(let d=v,y=d.length,m=y-1;y>1;y--,m--){const g=[];for(let _,P=0;P<m;P++)_={x:m*(d[P+1].x-d[P].x),y:m*(d[P+1].y-d[P].y)},l&&(_.z=m*(d[P+1].z-d[P].z)),g.push(_);f.push(g),d=g}return f},between:function(v,l,f){return l<=v&&v<=f||T.approximately(v,l)||T.approximately(v,f)},approximately:function(v,l,f){return Y(v-l)<=(f||1e-6)},length:function(v){const l=T.Tvalues.length;let f=0;for(let d,y=0;y<l;y++)d=.5*T.Tvalues[y]+.5,f+=T.Cvalues[y]*T.arcfn(d,v);return .5*f},map:function(v,l,f,d,y){return d+(v-l)/(f-l)*(y-d)},lerp:function(v,l,f){const d={x:l.x+v*(f.x-l.x),y:l.y+v*(f.y-l.y)};return l.z!==void 0&&f.z!==void 0&&(d.z=l.z+v*(f.z-l.z)),d},pointToString:function(v){let l=v.x+"/"+v.y;return v.z!==void 0&&(l+="/"+v.z),l},pointsToString:function(v){return"["+v.map(T.pointToString).join(", ")+"]"},copy:function(v){return JSON.parse(JSON.stringify(v))},angle:function(v,l,f){const d=l.x-v.x,y=l.y-v.y,m=f.x-v.x,g=f.y-v.y;return pe(d*g-y*m,d*m+y*g)},round:function(v,l){const f=""+v,d=f.indexOf(".");return parseFloat(f.substring(0,d+1+l))},dist:function(v,l){const f=v.x-l.x,d=v.y-l.y;return ce(f*f+d*d)},closest:function(v,l){let f,d,y=ie(2,63);return v.forEach(function(m,g){d=T.dist(l,m),d<y&&(y=d,f=g)}),{mdist:y,mpos:f}},abcratio:function(v,l){if(l!==2&&l!==3)return!1;if(v===void 0)v=.5;else if(v===0||v===1)return v;const f=ie(v,l)+ie(1-v,l);return Y((f-1)/f)},projectionratio:function(v,l){if(l!==2&&l!==3)return!1;if(v===void 0)v=.5;else if(v===0||v===1)return v;const f=ie(1-v,l);return f/(ie(v,l)+f)},lli8:function(v,l,f,d,y,m,g,_){const P=(v-f)*(m-_)-(l-d)*(y-g);return P!=0&&{x:((v*d-l*f)*(y-g)-(v-f)*(y*_-m*g))/P,y:((v*d-l*f)*(m-_)-(l-d)*(y*_-m*g))/P}},lli4:function(v,l,f,d){const y=v.x,m=v.y,g=l.x,_=l.y,P=f.x,M=f.y,A=d.x,O=d.y;return T.lli8(y,m,g,_,P,M,A,O)},lli:function(v,l){return T.lli4(v,v.c,l,l.c)},makeline:function(v,l){return new te(v.x,v.y,(v.x+l.x)/2,(v.y+l.y)/2,l.x,l.y)},findbbox:function(v){let l=oe,f=oe,d=I,y=I;return v.forEach(function(m){const g=m.bbox();l>g.x.min&&(l=g.x.min),f>g.y.min&&(f=g.y.min),d<g.x.max&&(d=g.x.max),y<g.y.max&&(y=g.y.max)}),{x:{min:l,mid:(l+d)/2,max:d,size:d-l},y:{min:f,mid:(f+y)/2,max:y,size:y-f}}},shapeintersections:function(v,l,f,d,y){if(!T.bboxoverlap(l,d))return[];const m=[],g=[v.startcap,v.forward,v.back,v.endcap],_=[f.startcap,f.forward,f.back,f.endcap];return g.forEach(function(P){P.virtual||_.forEach(function(M){if(M.virtual)return;const A=P.intersects(M,y);A.length>0&&(A.c1=P,A.c2=M,A.s1=v,A.s2=f,m.push(A))})}),m},makeshape:function(v,l,f){const d=l.points.length,y=v.points.length,m=T.makeline(l.points[d-1],v.points[0]),g=T.makeline(v.points[y-1],l.points[0]),_={startcap:m,forward:v,back:l,endcap:g,bbox:T.findbbox([m,v,l,g]),intersections:function(P){return T.shapeintersections(_,_.bbox,P,P.bbox,f)}};return _},getminmax:function(v,l,f){if(!f)return{min:0,max:0};let d,y,m=oe,g=I;f.indexOf(0)===-1&&(f=[0].concat(f)),f.indexOf(1)===-1&&f.push(1);for(let _=0,P=f.length;_<P;_++)d=f[_],y=v.get(d),y[l]<m&&(m=y[l]),y[l]>g&&(g=y[l]);return{min:m,mid:(m+g)/2,max:g,size:g-m}},align:function(v,l){const f=l.p1.x,d=l.p1.y,y=-pe(l.p2.y-d,l.p2.x-f);return v.map(function(m){return{x:(m.x-f)*x(y)-(m.y-d)*V(y),y:(m.x-f)*V(y)+(m.y-d)*x(y)}})},roots:function(v,l){l=l||{p1:{x:0,y:0},p2:{x:1,y:0}};const f=v.length-1,d=T.align(v,l),y=function(F){return 0<=F&&F<=1};if(f===2){const F=d[0].y,ae=d[1].y,J=d[2].y,ye=F-2*ae+J;if(ye!==0){const Ee=-ce(ae*ae-F*J),He=-F+ae;return[-(Ee+He)/ye,-(-Ee+He)/ye].filter(y)}return ae!==J&&ye===0?[(2*ae-J)/(2*ae-2*J)].filter(y):[]}const m=d[0].y,g=d[1].y,_=d[2].y;let P=3*g-m-3*_+d[3].y,M=3*m-6*g+3*_,A=-3*m+3*g,O=m;if(T.approximately(P,0)){if(T.approximately(M,0))return T.approximately(A,0)?[]:[-O/A].filter(y);const F=ce(A*A-4*M*O),ae=2*M;return[(F-A)/ae,(-A-F)/ae].filter(y)}M/=P,A/=P,O/=P;const U=(3*A-M*M)/3,L=U/3,ne=(2*M*M*M-9*M*A+27*O)/27,fe=ne/2,De=fe*fe+L*L*L;let Be,Re,de,Te,Q;if(De<0){const F=-U/3,ae=ce(F*F*F),J=-ne/(2*ae),ye=re(J<-1?-1:J>1?1:J),Ee=2*be(ae);return de=Ee*x(ye/3)-M/3,Te=Ee*x((ye+ze)/3)-M/3,Q=Ee*x((ye+2*ze)/3)-M/3,[de,Te,Q].filter(y)}if(De===0)return Be=fe<0?be(-fe):-be(fe),de=2*Be-M/3,Te=-Be-M/3,[de,Te].filter(y);{const F=ce(De);return Be=be(-fe+F),Re=be(fe+F),[Be-Re-M/3].filter(y)}},droots:function(v){if(v.length===3){const l=v[0],f=v[1],d=v[2],y=l-2*f+d;if(y!==0){const m=-ce(f*f-l*d),g=-l+f;return[-(m+g)/y,-(-m+g)/y]}return f!==d&&y===0?[(2*f-d)/(2*(f-d))]:[]}if(v.length===2){const l=v[0],f=v[1];return l!==f?[l/(l-f)]:[]}return[]},curvature:function(v,l,f,d,y){let m,g,_,P,M=0,A=0;const O=T.compute(v,l),U=T.compute(v,f),L=O.x*O.x+O.y*O.y;if(d?(m=ce(ie(O.y*U.z-U.y*O.z,2)+ie(O.z*U.x-U.z*O.x,2)+ie(O.x*U.y-U.x*O.y,2)),g=ie(L+O.z*O.z,1.5)):(m=O.x*U.y-O.y*U.x,g=ie(L,1.5)),m===0||g===0)return{k:0,r:0};if(M=m/g,A=g/m,!y){const ne=T.curvature(v-.001,l,f,d,!0).k,fe=T.curvature(v+.001,l,f,d,!0).k;P=(fe-M+(M-ne))/2,_=(Y(fe-M)+Y(M-ne))/2}return{k:M,r:A,dk:P,adk:_}},inflections:function(v){if(v.length<4)return[];const l=T.align(v,{p1:v[0],p2:v.slice(-1)[0]}),f=l[2].x*l[1].y,d=l[3].x*l[1].y,y=l[1].x*l[2].y,m=18*(-3*f+2*d+3*y-l[3].x*l[2].y),g=18*(3*f-d-3*y),_=18*(y-f);if(T.approximately(m,0)){if(!T.approximately(g,0)){let O=-_/g;if(0<=O&&O<=1)return[O]}return[]}const P=g*g-4*m*_,M=Math.sqrt(P),A=2*m;return T.approximately(A,0)?[]:[(M-g)/A,-(g+M)/A].filter(function(O){return 0<=O&&O<=1})},bboxoverlap:function(v,l){const f=["x","y"],d=f.length;for(let y,m,g,_,P=0;P<d;P++)if(y=f[P],m=v[y].mid,g=l[y].mid,_=(v[y].size+l[y].size)/2,Y(m-g)>=_)return!1;return!0},expandbox:function(v,l){l.x.min<v.x.min&&(v.x.min=l.x.min),l.y.min<v.y.min&&(v.y.min=l.y.min),l.z&&l.z.min<v.z.min&&(v.z.min=l.z.min),l.x.max>v.x.max&&(v.x.max=l.x.max),l.y.max>v.y.max&&(v.y.max=l.y.max),l.z&&l.z.max>v.z.max&&(v.z.max=l.z.max),v.x.mid=(v.x.min+v.x.max)/2,v.y.mid=(v.y.min+v.y.max)/2,v.z&&(v.z.mid=(v.z.min+v.z.max)/2),v.x.size=v.x.max-v.x.min,v.y.size=v.y.max-v.y.min,v.z&&(v.z.size=v.z.max-v.z.min)},pairiteration:function(v,l,f){const d=v.bbox(),y=l.bbox(),m=1e5,g=f||.5;if(d.x.size+d.y.size<g&&y.x.size+y.y.size<g)return[(m*(v._t1+v._t2)/2|0)/m+"/"+(m*(l._t1+l._t2)/2|0)/m];let _=v.split(.5),P=l.split(.5),M=[{left:_.left,right:P.left},{left:_.left,right:P.right},{left:_.right,right:P.right},{left:_.right,right:P.left}];M=M.filter(function(O){return T.bboxoverlap(O.left.bbox(),O.right.bbox())});let A=[];return M.length===0||(M.forEach(function(O){A=A.concat(T.pairiteration(O.left,O.right,g))}),A=A.filter(function(O,U){return A.indexOf(O)===U})),A},getccenter:function(v,l,f){const d=l.x-v.x,y=l.y-v.y,m=f.x-l.x,g=f.y-l.y,_=d*x(Ce)-y*V(Ce),P=d*V(Ce)+y*x(Ce),M=m*x(Ce)-g*V(Ce),A=m*V(Ce)+g*x(Ce),O=(v.x+l.x)/2,U=(v.y+l.y)/2,L=(l.x+f.x)/2,ne=(l.y+f.y)/2,fe=O+_,De=U+P,Be=L+M,Re=ne+A,de=T.lli8(O,U,fe,De,L,ne,Be,Re),Te=T.dist(de,v);let Q,F=pe(v.y-de.y,v.x-de.x),ae=pe(l.y-de.y,l.x-de.x),J=pe(f.y-de.y,f.x-de.x);return F<J?((F>ae||ae>J)&&(F+=ze),F>J&&(Q=J,J=F,F=Q)):J<ae&&ae<F?(Q=J,J=F,F=Q):J+=ze,de.s=F,de.e=J,de.r=Te,de},numberSort:function(v,l){return v-l}};class B{constructor(l){this.curves=[],this._3d=!1,l&&(this.curves=l,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(l){return T.pointsToString(l.points)}).join(", ")+"]"}addCurve(l){this.curves.push(l),this._3d=this._3d||l._3d}length(){return this.curves.map(function(l){return l.length()}).reduce(function(l,f){return l+f})}curve(l){return this.curves[l]}bbox(){const l=this.curves;for(var f=l[0].bbox(),d=1;d<l.length;d++)T.expandbox(f,l[d].bbox());return f}offset(l){const f=[];return this.curves.forEach(function(d){f.push(...d.offset(l))}),new B(f)}}const{abs:C,min:xe,max:R,cos:Pe,sin:Oe,acos:Se,sqrt:_e}=Math,Ie=Math.PI;class te{constructor(l){let f=l&&l.forEach?l:Array.from(arguments).slice(),d=!1;if(typeof f[0]=="object"){d=f.length;const L=[];f.forEach(function(ne){["x","y","z"].forEach(function(fe){ne[fe]!==void 0&&L.push(ne[fe])})}),f=L}let y=!1;const m=f.length;if(d){if(d>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");y=!0}}else if(m!==6&&m!==8&&m!==9&&m!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const g=this._3d=!y&&(m===9||m===12)||l&&l[0]&&l[0].z!==void 0,_=this.points=[];for(let L=0,ne=g?3:2;L<m;L+=ne){var P={x:f[L],y:f[L+1]};g&&(P.z=f[L+2]),_.push(P)}const M=this.order=_.length-1,A=this.dims=["x","y"];g&&A.push("z"),this.dimlen=A.length;const O=T.align(_,{p1:_[0],p2:_[M]}),U=T.dist(_[0],_[M]);this._linear=O.reduce((L,ne)=>L+C(ne.y),0)<U/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(l,f,d,y){if(y===void 0&&(y=.5),y===0)return new te(f,f,d);if(y===1)return new te(l,f,f);const m=te.getABC(2,l,f,d,y);return new te(l,m.A,d)}static cubicFromPoints(l,f,d,y,m){y===void 0&&(y=.5);const g=te.getABC(3,l,f,d,y);m===void 0&&(m=T.dist(f,g.C));const _=m*(1-y)/y,P=T.dist(l,d),M=(d.x-l.x)/P,A=(d.y-l.y)/P,O=m*M,U=m*A,L=_*M,ne=_*A,fe=f.x-O,De=f.y-U,Be=f.x+L,Re=f.y+ne,de=g.A,Te=de.x+(fe-de.x)/(1-y),Q=de.y+(De-de.y)/(1-y),F=de.x+(Be-de.x)/y,ae=de.y+(Re-de.y)/y,J={x:l.x+(Te-l.x)/y,y:l.y+(Q-l.y)/y},ye={x:d.x+(F-d.x)/(1-y),y:d.y+(ae-d.y)/(1-y)};return new te(l,J,ye,d)}static getUtils(){return T}getUtils(){return te.getUtils()}static get PolyBezier(){return B}valueOf(){return this.toString()}toString(){return T.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const l=this.points,f=["M",l[0].x,l[0].y,this.order===2?"Q":"C"];for(let d=1,y=l.length;d<y;d++)f.push(l[d].x),f.push(l[d].y);return f.join(" ")}setRatios(l){if(l.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=l,this._lut=[]}verify(){const l=this.coordDigest();l!==this._print&&(this._print=l,this.update())}coordDigest(){return this.points.map(function(l,f){return""+f+l.x+l.y+(l.z?l.z:0)}).join("")}update(){this._lut=[],this.dpoints=T.derive(this.points,this._3d),this.computedirection()}computedirection(){const l=this.points,f=T.angle(l[0],l[this.order],l[1]);this.clockwise=f>0}length(){return T.length(this.derivative.bind(this))}static getABC(l=2,f,d,y,m=.5){const g=T.projectionratio(m,l),_=1-g,P={x:g*f.x+_*y.x,y:g*f.y+_*y.y},M=T.abcratio(m,l);return{A:{x:d.x+(d.x-P.x)/M,y:d.y+(d.y-P.y)/M},B:d,C:P,S:f,E:y}}getABC(l,f){f=f||this.get(l);let d=this.points[0],y=this.points[this.order];return te.getABC(this.order,d,f,y,l)}getLUT(l){if(this.verify(),l=l||100,this._lut.length===l)return this._lut;this._lut=[],l++,this._lut=[];for(let f,d,y=0;y<l;y++)d=y/(l-1),f=this.compute(d),f.t=d,this._lut.push(f);return this._lut}on(l,f){f=f||5;const d=this.getLUT(),y=[];for(let m,g=0,_=0;g<d.length;g++)m=d[g],T.dist(m,l)<f&&(y.push(m),_+=g/d.length);return!!y.length&&(t/=y.length)}project(l){const f=this.getLUT(),d=f.length-1,y=T.closest(f,l),m=y.mpos,g=(m-1)/d,_=(m+1)/d,P=.1/d;let M,A,O=y.mdist,U=g,L=U;for(O+=1;U<_+P;U+=P)M=this.compute(U),A=T.dist(l,M),A<O&&(O=A,L=U);return L=L<0?0:L>1?1:L,M=this.compute(L),M.t=L,M.d=O,M}get(l){return this.compute(l)}point(l){return this.points[l]}compute(l){return this.ratios?T.computeWithRatios(l,this.points,this.ratios,this._3d):T.compute(l,this.points,this._3d,this.ratios)}raise(){const l=this.points,f=[l[0]],d=l.length;for(let y,m,g=1;g<d;g++)y=l[g],m=l[g-1],f[g]={x:(d-g)/d*y.x+g/d*m.x,y:(d-g)/d*y.y+g/d*m.y};return f[d]=l[d-1],new te(f)}derivative(l){return T.compute(l,this.dpoints[0],this._3d)}dderivative(l){return T.compute(l,this.dpoints[1],this._3d)}align(){let l=this.points;return new te(T.align(l,{p1:l[0],p2:l[l.length-1]}))}curvature(l){return T.curvature(l,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return T.inflections(this.points)}normal(l){return this._3d?this.__normal3(l):this.__normal2(l)}__normal2(l){const f=this.derivative(l),d=_e(f.x*f.x+f.y*f.y);return{x:-f.y/d,y:f.x/d}}__normal3(l){const f=this.derivative(l),d=this.derivative(l+.01),y=_e(f.x*f.x+f.y*f.y+f.z*f.z),m=_e(d.x*d.x+d.y*d.y+d.z*d.z);f.x/=y,f.y/=y,f.z/=y,d.x/=m,d.y/=m,d.z/=m;const g={x:d.y*f.z-d.z*f.y,y:d.z*f.x-d.x*f.z,z:d.x*f.y-d.y*f.x},_=_e(g.x*g.x+g.y*g.y+g.z*g.z);g.x/=_,g.y/=_,g.z/=_;const P=[g.x*g.x,g.x*g.y-g.z,g.x*g.z+g.y,g.x*g.y+g.z,g.y*g.y,g.y*g.z-g.x,g.x*g.z-g.y,g.y*g.z+g.x,g.z*g.z];return{x:P[0]*f.x+P[1]*f.y+P[2]*f.z,y:P[3]*f.x+P[4]*f.y+P[5]*f.z,z:P[6]*f.x+P[7]*f.y+P[8]*f.z}}hull(l){let f=this.points,d=[],y=[],m=0;for(y[m++]=f[0],y[m++]=f[1],y[m++]=f[2],this.order===3&&(y[m++]=f[3]);f.length>1;){d=[];for(let g,_=0,P=f.length-1;_<P;_++)g=T.lerp(l,f[_],f[_+1]),y[m++]=g,d.push(g);f=d}return y}split(l,f){if(l===0&&f)return this.split(f).left;if(f===1)return this.split(l).right;const d=this.hull(l),y={left:this.order===2?new te([d[0],d[3],d[5]]):new te([d[0],d[4],d[7],d[9]]),right:this.order===2?new te([d[5],d[4],d[2]]):new te([d[9],d[8],d[6],d[3]]),span:d};return y.left._t1=T.map(0,0,1,this._t1,this._t2),y.left._t2=T.map(l,0,1,this._t1,this._t2),y.right._t1=T.map(l,0,1,this._t1,this._t2),y.right._t2=T.map(1,0,1,this._t1,this._t2),f?(f=T.map(f,l,1,0,1),y.right.split(f).left):y}extrema(){const l={};let f=[];return this.dims.forEach(function(d){let y=function(g){return g[d]},m=this.dpoints[0].map(y);l[d]=T.droots(m),this.order===3&&(m=this.dpoints[1].map(y),l[d]=l[d].concat(T.droots(m))),l[d]=l[d].filter(function(g){return g>=0&&g<=1}),f=f.concat(l[d].sort(T.numberSort))}.bind(this)),l.values=f.sort(T.numberSort).filter(function(d,y){return f.indexOf(d)===y}),l}bbox(){const l=this.extrema(),f={};return this.dims.forEach(function(d){f[d]=T.getminmax(this,d,l[d])}.bind(this)),f}overlaps(l){const f=this.bbox(),d=l.bbox();return T.bboxoverlap(f,d)}offset(l,f){if(f!==void 0){const d=this.get(l),y=this.normal(l),m={c:d,n:y,x:d.x+y.x*f,y:d.y+y.y*f};return this._3d&&(m.z=d.z+y.z*f),m}if(this._linear){const d=this.normal(0),y=this.points.map(function(m){const g={x:m.x+l*d.x,y:m.y+l*d.y};return m.z&&d.z&&(g.z=m.z+l*d.z),g});return[new te(y)]}return this.reduce().map(function(d){return d._linear?d.offset(l)[0]:d.scale(l)})}simple(){if(this.order===3){const y=T.angle(this.points[0],this.points[3],this.points[1]),m=T.angle(this.points[0],this.points[3],this.points[2]);if(y>0&&m<0||y<0&&m>0)return!1}const l=this.normal(0),f=this.normal(1);let d=l.x*f.x+l.y*f.y;return this._3d&&(d+=l.z*f.z),C(Se(d))<Ie/3}reduce(){let l,f,d=0,y=0,m=.01,g=[],_=[],P=this.extrema().values;for(P.indexOf(0)===-1&&(P=[0].concat(P)),P.indexOf(1)===-1&&P.push(1),d=P[0],l=1;l<P.length;l++)y=P[l],f=this.split(d,y),f._t1=d,f._t2=y,g.push(f),d=y;return g.forEach(function(M){for(d=0,y=0;y<=1;)for(y=d+m;y<=1.01;y+=m)if(f=M.split(d,y),!f.simple()){if(y-=m,C(d-y)<m)return[];f=M.split(d,y),f._t1=T.map(d,0,1,M._t1,M._t2),f._t2=T.map(y,0,1,M._t1,M._t2),_.push(f),d=y;break}d<1&&(f=M.split(d,1),f._t1=T.map(d,0,1,M._t1,M._t2),f._t2=M._t2,_.push(f))}),_}translate(l,f,d){d=typeof d=="number"?d:f;const y=this.order;let m=this.points.map((g,_)=>(1-_/y)*f+_/y*d);return new te(this.points.map((g,_)=>({x:g.x+l.x*m[_],y:g.y+l.y*m[_]})))}scale(l){const f=this.order;let d=!1;if(typeof l=="function"&&(d=l),d&&f===2)return this.raise().scale(d);const y=this.clockwise,m=this.points;if(this._linear)return this.translate(this.normal(0),d?d(0):l,d?d(1):l);const g=d?d(0):l,_=d?d(1):l,P=[this.offset(0,10),this.offset(1,10)],M=[],A=T.lli4(P[0],P[0].c,P[1],P[1].c);if(!A)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(O){const U=M[O*f]=T.copy(m[O*f]);U.x+=(O?_:g)*P[O].n.x,U.y+=(O?_:g)*P[O].n.y}),d?([0,1].forEach(function(O){if(f!==2||!O){var U=m[O+1],L={x:U.x-A.x,y:U.y-A.y},ne=d?d((O+1)/f):l;d&&!y&&(ne=-ne);var fe=_e(L.x*L.x+L.y*L.y);L.x/=fe,L.y/=fe,M[O+1]={x:U.x+ne*L.x,y:U.y+ne*L.y}}}),new te(M)):([0,1].forEach(O=>{if(f===2&&O)return;const U=M[O*f],L=this.derivative(O),ne={x:U.x+L.x,y:U.y+L.y};M[O+1]=T.lli4(U,ne,A,m[O+1])}),new te(M))}outline(l,f,d,y){if(f=f===void 0?l:f,this._linear){const Q=this.normal(0),F=this.points[0],ae=this.points[this.points.length-1];let J,ye,Ee;d===void 0&&(d=l,y=f),J={x:F.x+Q.x*l,y:F.y+Q.y*l},Ee={x:ae.x+Q.x*d,y:ae.y+Q.y*d},ye={x:(J.x+Ee.x)/2,y:(J.y+Ee.y)/2};const He=[J,ye,Ee];J={x:F.x-Q.x*f,y:F.y-Q.y*f},Ee={x:ae.x-Q.x*y,y:ae.y-Q.y*y},ye={x:(J.x+Ee.x)/2,y:(J.y+Ee.y)/2};const tt=[Ee,ye,J],gt=T.makeline(tt[2],He[0]),Ue=T.makeline(He[2],tt[0]),Tt=[gt,new te(He),Ue,new te(tt)];return new B(Tt)}const m=this.reduce(),g=m.length,_=[];let P,M=[],A=0,O=this.length();const U=d!==void 0&&y!==void 0;function L(Q,F,ae,J,ye){return function(Ee){const He=J/ae,tt=(J+ye)/ae,gt=F-Q;return T.map(Ee,0,1,Q+He*gt,Q+tt*gt)}}m.forEach(function(Q){const F=Q.length();U?(_.push(Q.scale(L(l,d,O,A,F))),M.push(Q.scale(L(-f,-y,O,A,F)))):(_.push(Q.scale(l)),M.push(Q.scale(-f))),A+=F}),M=M.map(function(Q){return P=Q.points,P[3]?Q.points=[P[3],P[2],P[1],P[0]]:Q.points=[P[2],P[1],P[0]],Q}).reverse();const ne=_[0].points[0],fe=_[g-1].points[_[g-1].points.length-1],De=M[g-1].points[M[g-1].points.length-1],Be=M[0].points[0],Re=T.makeline(De,ne),de=T.makeline(fe,Be),Te=[Re].concat(_).concat([de]).concat(M);return new B(Te)}outlineshapes(l,f,d){f=f||l;const y=this.outline(l,f).curves,m=[];for(let g=1,_=y.length;g<_/2;g++){const P=T.makeshape(y[g],y[_-g],d);P.startcap.virtual=g>1,P.endcap.virtual=g<_/2-1,m.push(P)}return m}intersects(l,f){return l?l.p1&&l.p2?this.lineIntersects(l):(l instanceof te&&(l=l.reduce()),this.curveintersects(this.reduce(),l,f)):this.selfintersects(f)}lineIntersects(l){const f=xe(l.p1.x,l.p2.x),d=xe(l.p1.y,l.p2.y),y=R(l.p1.x,l.p2.x),m=R(l.p1.y,l.p2.y);return T.roots(this.points,l).filter(g=>{var _=this.get(g);return T.between(_.x,f,y)&&T.between(_.y,d,m)})}selfintersects(l){const f=this.reduce(),d=f.length-2,y=[];for(let m,g,_,P=0;P<d;P++)g=f.slice(P,P+1),_=f.slice(P+2),m=this.curveintersects(g,_,l),y.push(...m);return y}curveintersects(l,f,d){const y=[];l.forEach(function(g){f.forEach(function(_){g.overlaps(_)&&y.push({left:g,right:_})})});let m=[];return y.forEach(function(g){const _=T.pairiteration(g.left,g.right,d);_.length>0&&(m=m.concat(_))}),m}arcs(l){return l=l||.5,this._iterate(l,[])}_error(l,f,d,y){const m=(y-d)/4,g=this.get(d+m),_=this.get(y-m),P=T.dist(l,f),M=T.dist(l,g),A=T.dist(l,_);return C(M-P)+C(A-P)}_iterate(l,f){let d,y=0,m=1;do{d=0,m=1;let g,_,P,M,A,O=this.get(y),U=!1,L=!1,ne=m,fe=1;do if(L=U,M=P,ne=(y+m)/2,g=this.get(ne),_=this.get(m),P=T.getccenter(O,g,_),P.interval={start:y,end:m},U=this._error(P,O,y,m)<=l,A=L&&!U,A||(fe=m),U){if(m>=1){if(P.interval.end=fe=1,M=P,m>1){let De={x:P.x+P.r*Pe(P.e),y:P.y+P.r*Oe(P.e)};P.e+=T.angle({x:P.x,y:P.y},De,this.get(1))}break}m+=(m-y)/2}else m=ne;while(!A&&d++<100);if(d>=100)break;M=M||P,f.push(M),y=fe}while(m<1);return f}}j.Bezier=te}},X={};return function G(j){var Y=X[j];if(Y!==void 0)return Y.exports;var x=X[j]={exports:{}};return Z[j](x,x.exports,G),x.exports}(607)})()})})(bn);var $e,at,fi,er,di,Pn,yt,xn,wn;di='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="32" height="32"><path d="M160 512a352 352 0 1 0 704 0 352 352 0 1 0-704 0Z" fill="fillColor" opacity=".1"/><path d="M257.92 512a254.08 254.08 0 1 0 508.16 0 254.08 254.08 0 1 0-508.16 0Z" fill="fillColor" opacity=".2"/><path d="M348.16 512a163.84 163.84 0 1 0 327.68 0 163.84 163.84 0 1 0-327.68 0Z" fill="fillColor"/></svg>';fi='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="32" height="32"><path d="M914.199 431.56h-322.28V109.801H432.033v321.76H109.801V592.44h322.28v321.759h159.838v-321.76H914.2V431.56z" fill="#FFF"/><path d="M860.02 485.739H538.261V163.412H485.74v322.327H163.98v52.522h321.76v322.327h52.522V538.261h321.76V485.74z" fill="fillColor"/></svg>';$e=_n("#FE6C6C");yt=_n("middle");at={red:"#FE6C6C",green:"#34D53B",orange:"#FFB803",gray:"#939393",white:"#FFFFFF"};xn={small:2,middle:6,big:10};wn=0;({recbar:Pn}=Yo);er={txt:W=>{var le;return le={small:"20px",middle:"30px",big:"36px"},{mousedown:Z=>{var X,G,j,Y,x,V,re,pe,ce,ie,be;re=document,X=re.createElement.bind(re),V=X("b"),be=(ge,ze)=>{V.style.left=ge+"px",V.style.top=ze+"px"},be(Z.clientX,Z.clientY),Y="x",x="y",V.style.fontSize=le[yt.value],V.style.color=at[$e.value],ie=Math.round,pe=Math.floor,Ho(V).draggable({listeners:{move:({target:ge,dx:ze,dy:Ce})=>{var oe,I,$,T;if(oe=ie(ze),I=ie(Ce),oe||I)return $=pe(ge.getAttribute(Y))||0,T=pe(ge.getAttribute(x))||0,$+=oe,T+=I,ge.style.transform="translate("+$+"px,"+T+"px)",ge.setAttribute(Y,$),ge.setAttribute(x,T)}},inertia:!0}),ce=X("div"),ce.spellcheck=!1,ce.contentEditable="plaintext-only",ce.style.borderBottom="2px solid "+at[$e.value],V.appendChild(ce),j=X("a"),j.onclick=()=>V.remove(),j.innerText="",V.appendChild(j),{canvas:G}=W,G.after(V),setTimeout(()=>{ce.focus()},300),Pn.top()}}},rect:W=>{var le,Z,X,G,j,Y;return G=le=j=Y=0,X=!1,Z=void 0,{mousedown:x=>{X=!0,j=x.clientX,Y=x.clientY,W.lineWidth=xn[yt.value],W.strokeStyle=at[$e.value]},mousemove:x=>{var V,re;X&&({clientX:V,clientY:re}=x,G=V-j,le=re-Y,Z?W.putImageData(Z,0,0):Z=W.getImageData(0,0,innerWidth,innerHeight),W.strokeRect(j,Y,G,le))},mouseup:x=>{G=0,X=!1,Z=void 0}}},arrow:W=>{var le,Z,X,G,j,Y,x,V;return V=8,j=16,G=Math.PI/8,W.lineCap="round",x=!1,Y=void 0,Z=X=0,le=re=>{var pe,ce,ie,be,ge;Y?W.putImageData(Y,0,0):Y=W.getImageData(0,0,innerWidth,innerHeight),be=re.clientX,ge=re.clientY,ce=be-Z,ie=ge-X,pe=Math.atan2(ie,ce),be-=V*Math.cos(pe),ge-=V*Math.sin(pe),W.beginPath(),W.moveTo(Z,X),W.lineTo(be,ge),W.stroke(),W.beginPath(),W.lineTo(be,ge),W.lineTo(be-j*Math.cos(pe-G),ge-j*Math.sin(pe-G)),W.lineTo(be-j*Math.cos(pe+G),ge-j*Math.sin(pe+G)),W.closePath(),W.stroke(),W.fill()},{mousedown:re=>{x=!0,Z=re.clientX,X=re.clientY,V=xn[yt.value],j=Math.max(2*V,8),W.lineWidth=V,W.strokeStyle=at[$e.value],W.fillStyle=at[$e.value]},mouseup:re=>{x=!1,Y=void 0,W.beginPath()},mousemove:re=>{x&&le(re)}}},pen:W=>{var le,Z;return W.lineCap="round",Z=!1,le=X=>{var G,j;return{clientX:G,clientY:j}=X,W.lineTo(G,j),W.stroke(),W.beginPath(),W.moveTo(G,j)},{mousedown:X=>{var G,j;Z=!0,W.lineWidth=xn[yt.value],W.strokeStyle=at[$e.value],{clientX:G,clientY:j}=X,W.moveTo(G,j),le(X)},mouseup:X=>{Z=!1,W.beginPath()},mousemove:X=>{Z&&le(X)}}},track:W=>{var le,Z,X,G,j;return G={color:"#FF3F00",width:10},j=[],le=[],W.lineWidth=G.width,W.lineCap="round",W.strokeStyle=G.color,bn.exports.setMaxWidth(G.width),X=W.getImageData(0,0,innerWidth,innerHeight),Z=()=>{var Y;if(W.putImageData(X,0,0),ht.drawing!==1||ht.shape!=="track"){window.cancelAnimationFrame(wn);return}for(j=bn.exports.drainPoints(j),j.length>=3&&bn.exports.drawLaserPen(W,j),Y=0;Y<le.length;)W.beginPath(),W.arc(le[Y].x,le[Y].y,le[Y].width/2,0,2*Math.PI),W.fillStyle=G.color,W.fill(),W.stroke(),le[Y].width--,le[Y].width<=G.width?le.splice(Y,1):Y++;wn=window.requestAnimationFrame(Z)},wn=window.requestAnimationFrame(Z),{mousedown:Y=>{var x,V;({clientX:x,clientY:V}=Y),le.push({x,y:V,width:G.width+5})},mousemove:Y=>{var x,V;({clientX:x,clientY:V}=Y),j.push({x,y:V,time:Date.now()})}}}};var Go={setup:()=>{var W,le,Z;return W=_n(),Z=_n(),le=(X,G)=>{var j,Y;if(X==="txt"){W.value.style.cursor="";return}X==="rect"||X==="arrow"?Y=fi:Y=di,j=Y.replaceAll("fillColor",G),j=encodeURIComponent(j.replace(/"/g,"'")),W.value.style.cursor=['url("data:image/svg+xml,',j,'") 16 16, cell'].join("")},No(()=>{var X,G,j;G=W.value,G.height=innerHeight,G.width=innerWidth,X=G.getContext("2d"),j=void 0,G.addEventListener("mouseup",()=>{Pn.top()}),Qn(()=>{var Y;Y=ht.drawing,Y!==1&&(Z.value="")}),Qn(()=>{var Y,x,V,re;x=ht.shape,ht[x]!==void 0&&([Y,V]=JSON.parse(ht[x]),re=x===Z.value||Y!==$e.value,Y!==$e.value&&($e.value=Y),V!==yt.value&&(yt.value=V),re&&le(x,Y))}),Qn(()=>{var Y,x,V,re,pe,ce,ie;if(Y=ht.shape,Y!==Z.value&&er[Y]!==void 0){if(j){V=Object.entries(j);for(ie of V)[x,pe]=ie,G.removeEventListener(x,pe)}Y==="track"&&le(Y,at.red),Z.value=Y,j=er[Y](X),re=Object.entries(j);for(ce of re)[x,pe]=ce,G.addEventListener(x,pe);return Pn.draw_top()}})}),{shape:Z,c:W}}};function $o(W,le){return Vo(),Lo("canvas",{class:Uo([W.shape]),ref:"c"},null,2)}var ra=qo(Go,[["render",$o],["__scopeId","data-v-7ce927a0"]]);export{ra as default};
