"use strict";var Vn=Object.defineProperty;var Gr=Object.getOwnPropertySymbols;var qn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable;var Yr=(e,r,t)=>r in e?Vn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Kr=(e,r)=>{for(var t in r||(r={}))qn.call(r,t)&&Yr(e,t,r[t]);if(Gr)for(var t of Gr(r))Zn.call(r,t)&&Yr(e,t,r[t]);return e};var y=require("electron"),Jn=require("os"),re=require("fs"),N=require("path"),Hn=require("crypto"),_t=require("zlib"),Gn=require("util"),ae=require("./a.js"),ke=require("fs/promises"),ze=require("./w.js"),Ot=require("./x.js"),Yn=require("events");function Tt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ce=Tt(Jn),Kn=Tt(Yn),te=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Xn(e){if(e.__esModule)return e;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}var Qn="darwin",xe=e=>{if(!!e&&!e.isDestroyed()){e.close();try{e.destroy()}catch{}}},ei=(e,r)=>{var t,n;for(t in r)n=r[t],e.on(t,n);return e},kt;kt=N.dirname(__dirname);br=yr=wr=__dirname;var ri=N.dirname(kt),wr=wr,yr=yr,br=br,nr,At;y.protocol.interceptFileProtocol("file",function(e,r){var t,n;n=new URL(e.url),t=n.pathname,t.startsWith("/@root/")&&(t=ri+t.substr(6)),r(t)});nr="127.0.0.1",At="http://"+nr,y.session.defaultSession.protocol.interceptStreamProtocol("http",(e,r)=>{var t,n,i,a,f,x,p,S,_;if(_=new URL(e.url),_.host===nr)({pathname:f}=_),f==="/"&&(f+=".htm"),S=f.slice(f.lastIndexOf(".")+1),S.startsWith("htm")?a="text/html":a={js:"text/javascript",css:"text/css",svg:"image/svg+xml",woff2:"font/woff2"}[S]||"application/octet-stream",n=re.createReadStream(yr+f),r({data:n,statusCode:200,headers:{"content-type":a}});else{if(e.useSessionCookies=!0,e.partition="persist:I",x=y.net.request(e),x.on("response",v=>{var M,T;({headers:M,statusCode:T}=v),r({data:v},M,T)}),e.uploadData){p=e.uploadData;for(i of p)({bytes:t}=i),t&&x.write(t)}x.end()}});var Se=new Proxy({},{get:(e,r)=>t=>{var n;return t=Kr({skipTaskbar:!0,frame:!1,minimizable:!1,maximizable:!1,fullscreenable:!1,type:"toolbar",shadow:!1,hasShadow:!1,transparent:!0,webPreferences:{preload:N.join(wr,"r.js"),webSecurity:!1}},t),n=new y.BrowserWindow(t),n.setMenu(null),r!=="main"&&n.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0}),n.loadURL(At+"#"+r),n.once("ready-to-show",()=>{n.show()}),n.focus(),n}}),Ze=e=>{y.BrowserWindow.getAllWindows().forEach(r=>{var t,n;if(n=r.webContents.getURL(),n){if({hash:t}=new URL(n),t=t.slice(1),t.startsWith("main")){e?(r[e](),e==="show"&&r.once("show",()=>{r.setAlwaysOnTop(!0,"screen-saver"),setTimeout(()=>r.setAlwaysOnTop(!1,"screen-saver"),1e3)})):r.hide();return}if(t.startsWith("camera"))return}xe(r)})},ti=()=>{y.BrowserWindow.getAllWindows().forEach(e=>{var r,t;if(t=e.webContents.getURL(),t&&({hash:r}=new URL(t),r=r.slice(1),r.startsWith("main"))){e.hide();return}xe(e)})},Mt;({main:Mt}=Se);var be=(e=!0)=>{var r,t,n,i;if(t=y.BrowserWindow.getAllWindows(),t.length)for(r of t)switch(n=r.webContents.getURL().split("/#").pop(),n){case"main":i=r;break;case"recbar":case"win_area":case"area":return}i?(i.isMinimized(),i.restore()):i=Mt({type:"",resizable:!1,height:645,width:426,skipTaskbar:!1}),!(!e&&!i.isVisible())&&(i.show(),i.moveTop(),i.focus())},$t={ID:""},ni="x64",or;try{or=new TextDecoder}catch{}var h,se,s=0,V={},A,ne,J=0,K=0,L,Q,q=[],k,Xr={useRecords:!1,mapsAsObjects:!0};class Ut{}const jt=new Ut;jt.name="MessagePack 0xC1";var ve=!1,Rt=2;try{new Function("")}catch{Rt=1/0}class Ae{constructor(r){r&&(r.useRecords===!1&&r.mapsAsObjects===void 0&&(r.mapsAsObjects=!0),r.structures?r.structures.sharedLength=r.structures.length:r.getStructures&&((r.structures=[]).uninitialized=!0,r.structures.sharedLength=0)),Object.assign(this,r)}unpack(r,t){if(h)return Bt(()=>(fr(),this?this.unpack(r,t):Ae.prototype.unpack.call(Xr,r,t)));se=t>-1?t:r.length,s=0,K=0,ne=null,L=null,h=r;try{k=r.dataView||(r.dataView=new DataView(r.buffer,r.byteOffset,r.byteLength))}catch(n){throw h=null,r instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(r&&typeof r=="object"?r.constructor.name:typeof r))}if(this instanceof Ae){if(V=this,this.structures)return A=this.structures,We();(!A||A.length>0)&&(A=[])}else V=Xr,(!A||A.length>0)&&(A=[]);return We()}unpackMultiple(r,t){let n,i=0;try{ve=!0;let a=r.length,f=this?this.unpack(r,a):Je.unpack(r,a);if(t){for(t(f);s<a;)if(i=s,t(We())===!1)return}else{for(n=[f];s<a;)i=s,n.push(We());return n}}catch(a){throw a.lastPosition=i,a.values=n,a}finally{ve=!1,fr()}}_mergeStructures(r,t){r=r||[];for(let n=0,i=r.length;n<i;n++){let a=r[n];a&&(a.isShared=!0,n>=32&&(a.highByte=n-32>>5))}r.sharedLength=r.length;for(let n in t||[])if(n>=0){let i=r[n],a=t[n];a&&(i&&((r.restoreStructures||(r.restoreStructures=[]))[n]=i),r[n]=a)}return this.structures=r}decode(r,t){return this.unpack(r,t)}}function We(){try{if(!V.trusted&&!ve){let r=A.sharedLength||0;r<A.length&&(A.length=r)}let e=C();if(L&&(s=L.postBundlePosition),s==se)A.restoreStructures&&Qr(),A=null,h=null,Q&&(Q=null);else if(s>se){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}else if(!ve)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw A.restoreStructures&&Qr(),fr(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function Qr(){for(let e in A.restoreStructures)A[e]=A.restoreStructures[e];A.restoreStructures=null}function C(){let e=h[s++];if(e<160)if(e<128){if(e<64)return e;{let r=A[e&63]||V.getStructures&&Pt()[e&63];return r?(r.read||(r.read=vr(r,e&63)),r.read()):e}}else if(e<144)if(e-=128,V.mapsAsObjects){let r={};for(let t=0;t<e;t++)r[Et()]=C();return r}else{let r=new Map;for(let t=0;t<e;t++)r.set(C(),C());return r}else{e-=144;let r=new Array(e);for(let t=0;t<e;t++)r[t]=C();return r}else if(e<192){let r=e-160;if(K>=s)return ne.slice(s-J,(s+=r)-J);if(K==0&&se<140){let t=r<16?mr(r):Wt(r);if(t!=null)return t}return ur(r)}else{let r;switch(e){case 192:return null;case 193:return L?(r=C(),r>0?L[1].slice(L.position1,L.position1+=r):L[0].slice(L.position0,L.position0-=r)):jt;case 194:return!1;case 195:return!0;case 196:return ir(h[s++]);case 197:return r=k.getUint16(s),s+=2,ir(r);case 198:return r=k.getUint32(s),s+=4,ir(r);case 199:return le(h[s++]);case 200:return r=k.getUint16(s),s+=2,le(r);case 201:return r=k.getUint32(s),s+=4,le(r);case 202:if(r=k.getFloat32(s),V.useFloat32>2){let t=Sr[(h[s]&127)<<1|h[s+1]>>7];return s+=4,(t*r+(r>0?.5:-.5)>>0)/t}return s+=4,r;case 203:return r=k.getFloat64(s),s+=8,r;case 204:return h[s++];case 205:return r=k.getUint16(s),s+=2,r;case 206:return r=k.getUint32(s),s+=4,r;case 207:return V.int64AsNumber?(r=k.getUint32(s)*4294967296,r+=k.getUint32(s+4)):r=k.getBigUint64(s),s+=8,r;case 208:return k.getInt8(s++);case 209:return r=k.getInt16(s),s+=2,r;case 210:return r=k.getInt32(s),s+=4,r;case 211:return V.int64AsNumber?(r=k.getInt32(s)*4294967296,r+=k.getUint32(s+4)):r=k.getBigInt64(s),s+=8,r;case 212:if(r=h[s++],r==114)return st(h[s++]&63);{let t=q[r];if(t)return t.read?(s++,t.read(C())):t.noBuffer?(s++,t()):t(h.subarray(s,++s));throw new Error("Unknown extension "+r)}case 213:return r=h[s],r==114?(s++,st(h[s++]&63,h[s++])):le(2);case 214:return le(4);case 215:return le(8);case 216:return le(16);case 217:return r=h[s++],K>=s?ne.slice(s-J,(s+=r)-J):si(r);case 218:return r=k.getUint16(s),s+=2,K>=s?ne.slice(s-J,(s+=r)-J):ai(r);case 219:return r=k.getUint32(s),s+=4,K>=s?ne.slice(s-J,(s+=r)-J):oi(r);case 220:return r=k.getUint16(s),s+=2,rt(r);case 221:return r=k.getUint32(s),s+=4,rt(r);case 222:return r=k.getUint16(s),s+=2,tt(r);case 223:return r=k.getUint32(s),s+=4,tt(r);default:if(e>=224)return e-256;if(e===void 0){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}throw new Error("Unknown MessagePack token "+e)}}}const ii=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function vr(e,r){function t(){if(t.count++>Rt){let i=e.read=new Function("r","return function(){return {"+e.map(a=>ii.test(a)?a+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}}")(C);return e.highByte===0&&(e.read=et(r,e.read)),i()}let n={};for(let i=0,a=e.length;i<a;i++){let f=e[i];n[f]=C()}return n}return t.count=0,e.highByte===0?et(r,t):t}const et=(e,r)=>function(){let t=h[s++];if(t===0)return r();let n=e<32?-(e+(t<<5)):e+(t<<5),i=A[n]||Pt()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=vr(i,e)),i.read()};function Pt(){let e=Bt(()=>(h=null,V.getStructures()));return A=V._mergeStructures(e,A)}var ur=je,si=je,ai=je,oi=je;function je(e){let r;if(e<16&&(r=mr(e)))return r;if(e>64&&or)return or.decode(h.subarray(s,s+=e));const t=s+e,n=[];for(r="";s<t;){const i=h[s++];if((i&128)===0)n.push(i);else if((i&224)===192){const a=h[s++]&63;n.push((i&31)<<6|a)}else if((i&240)===224){const a=h[s++]&63,f=h[s++]&63;n.push((i&31)<<12|a<<6|f)}else if((i&248)===240){const a=h[s++]&63,f=h[s++]&63,x=h[s++]&63;let p=(i&7)<<18|a<<12|f<<6|x;p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|p&1023),n.push(p)}else n.push(i);n.length>=4096&&(r+=D.apply(String,n),n.length=0)}return n.length>0&&(r+=D.apply(String,n)),r}function rt(e){let r=new Array(e);for(let t=0;t<e;t++)r[t]=C();return r}function tt(e){if(V.mapsAsObjects){let r={};for(let t=0;t<e;t++)r[Et()]=C();return r}else{let r=new Map;for(let t=0;t<e;t++)r.set(C(),C());return r}}var D=String.fromCharCode;function Wt(e){let r=s,t=new Array(e);for(let n=0;n<e;n++){const i=h[s++];if((i&128)>0){s=r;return}t[n]=i}return D.apply(String,t)}function mr(e){if(e<4)if(e<2){if(e===0)return"";{let r=h[s++];if((r&128)>1){s-=1;return}return D(r)}}else{let r=h[s++],t=h[s++];if((r&128)>0||(t&128)>0){s-=2;return}if(e<3)return D(r,t);let n=h[s++];if((n&128)>0){s-=3;return}return D(r,t,n)}else{let r=h[s++],t=h[s++],n=h[s++],i=h[s++];if((r&128)>0||(t&128)>0||(n&128)>0||(i&128)>0){s-=4;return}if(e<6){if(e===4)return D(r,t,n,i);{let a=h[s++];if((a&128)>0){s-=5;return}return D(r,t,n,i,a)}}else if(e<8){let a=h[s++],f=h[s++];if((a&128)>0||(f&128)>0){s-=6;return}if(e<7)return D(r,t,n,i,a,f);let x=h[s++];if((x&128)>0){s-=7;return}return D(r,t,n,i,a,f,x)}else{let a=h[s++],f=h[s++],x=h[s++],p=h[s++];if((a&128)>0||(f&128)>0||(x&128)>0||(p&128)>0){s-=8;return}if(e<10){if(e===8)return D(r,t,n,i,a,f,x,p);{let S=h[s++];if((S&128)>0){s-=9;return}return D(r,t,n,i,a,f,x,p,S)}}else if(e<12){let S=h[s++],_=h[s++];if((S&128)>0||(_&128)>0){s-=10;return}if(e<11)return D(r,t,n,i,a,f,x,p,S,_);let v=h[s++];if((v&128)>0){s-=11;return}return D(r,t,n,i,a,f,x,p,S,_,v)}else{let S=h[s++],_=h[s++],v=h[s++],M=h[s++];if((S&128)>0||(_&128)>0||(v&128)>0||(M&128)>0){s-=12;return}if(e<14){if(e===12)return D(r,t,n,i,a,f,x,p,S,_,v,M);{let T=h[s++];if((T&128)>0){s-=13;return}return D(r,t,n,i,a,f,x,p,S,_,v,M,T)}}else{let T=h[s++],E=h[s++];if((T&128)>0||(E&128)>0){s-=14;return}if(e<15)return D(r,t,n,i,a,f,x,p,S,_,v,M,T,E);let G=h[s++];if((G&128)>0){s-=15;return}return D(r,t,n,i,a,f,x,p,S,_,v,M,T,E,G)}}}}}function nt(){let e=h[s++],r;if(e<192)r=e-160;else switch(e){case 217:r=h[s++];break;case 218:r=k.getUint16(s),s+=2;break;case 219:r=k.getUint32(s),s+=4;break;default:throw new Error("Expected string")}return je(r)}function ir(e){return V.copyBuffers?Uint8Array.prototype.slice.call(h,s,s+=e):h.subarray(s,s+=e)}function le(e){let r=h[s++];if(q[r])return q[r](h.subarray(s,s+=e));throw new Error("Unknown extension type "+r)}var it=new Array(4096);function Et(){let e=h[s++];if(e>=160&&e<192){if(e=e-160,K>=s)return ne.slice(s-J,(s+=e)-J);if(!(K==0&&se<180))return ur(e)}else return s--,C();let r=(e<<5^(e>1?k.getUint16(s):e>0?h[s]:0))&4095,t=it[r],n=s,i=s+e-3,a,f=0;if(t&&t.bytes==e){for(;n<i;){if(a=k.getUint32(n),a!=t[f++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if(a=h[n++],a!=t[f++]){n=1879048192;break}if(n===i)return s=n,t.string;i-=3,n=s}for(t=[],it[r]=t,t.bytes=e;n<i;)a=k.getUint32(n),t.push(a),n+=4;for(i+=3;n<i;)a=h[n++],t.push(a);let x=e<16?mr(e):Wt(e);return x!=null?t.string=x:t.string=ur(e)}const st=(e,r)=>{var t=C();let n=e;r!==void 0&&(e=e<32?-((r<<5)+e):(r<<5)+e,t.highByte=r);let i=A[e];return i&&i.isShared&&((A.restoreStructures||(A.restoreStructures=[]))[e]=i),A[e]=t,t.read=vr(t,n),t.read()};var Ct=typeof self=="object"?self:global;q[0]=()=>{};q[0].noBuffer=!0;q[101]=()=>{let e=C();return(Ct[e[0]]||Error)(e[1])};q[105]=e=>{let r=k.getUint32(s-4);Q||(Q=new Map);let t=h[s],n;t>=144&&t<160||t==220||t==221?n=[]:n={};let i={target:n};Q.set(r,i);let a=C();return i.used?Object.assign(n,a):(i.target=a,a)};q[112]=e=>{let r=k.getUint32(s-4),t=Q.get(r);return t.used=!0,t.target};q[115]=()=>new Set(C());const It=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");q[116]=e=>{let r=e[0],t=It[r];if(!t)throw new Error("Could not find typed array for code "+r);return new Ct[t](Uint8Array.prototype.slice.call(e,1).buffer)};q[120]=()=>{let e=C();return new RegExp(e[0],e[1])};const ui=[];q[98]=e=>{let r=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],t=s;return s+=r-e.length,L=ui,L=[nt(),nt()],L.position0=0,L.position1=0,L.postBundlePosition=s,s=t,C()};q[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function Bt(e){let r=se,t=s,n=J,i=K,a=ne,f=Q,x=L,p=new Uint8Array(h.slice(0,se)),S=A,_=A.slice(0,A.length),v=V,M=ve,T=e();return se=r,s=t,J=n,K=i,ne=a,Q=f,L=x,h=p,ve=M,A=S,A.splice(0,A.length,..._),V=v,k=new DataView(h.buffer,h.byteOffset,h.byteLength),T}function fr(){h=null,Q=null,A=null}const Sr=new Array(147);for(let e=0;e<256;e++)Sr[e]=+("1e"+Math.floor(45.15-e*.30103));var Je=new Ae({useRecords:!1});const fi=Je.unpack;Je.unpackMultiple;Je.unpack;let li=new Float32Array(1);new Uint8Array(li.buffer,0,4);let Ie;try{Ie=new TextEncoder}catch{}let lr,Dt;const He=typeof Buffer!="undefined",Ee=He?Buffer.allocUnsafeSlow:Uint8Array,zt=He?Buffer:Uint8Array,at=He?4294967296:2144337920;let u,Oe,P,o=0,F,z=null;const ci=61440,di=/[\u0080-\uFFFF]/,ge=Symbol("record-id");class hi extends Ae{constructor(r){super(r),this.offset=0;let t,n,i,a,f=0,x=zt.prototype.utf8Write?function(l,m,d){return u.utf8Write(l,m,d)}:Ie&&Ie.encodeInto?function(l,m){return Ie.encodeInto(l,u.subarray(m)).written}:!1,p=this;r||(r={});let S=r&&r.sequential,_=r.structures||r.saveStructures,v=r.maxSharedStructures;if(v==null&&(v=_?32:0),v>8160)throw new Error("Maximum maxSharedStructure is 8160");r.structuredClone&&r.moreTypes==null&&(r.moreTypes=!0);let M=r.maxOwnStructures;M==null&&(M=_?32:64),!this.structures&&r.useRecords!=!1&&(this.structures=[]);let T=v>32||M+v>64,E=v+64,G=v+M+64;if(G>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let Z=[],oe=0,Y=0;this.pack=this.encode=function(l,m){if(u||(u=new Ee(8192),P=new DataView(u.buffer,0,8192),o=0),F=u.length-10,F-o<2048?(u=new Ee(u.length),P=new DataView(u.buffer,0,u.length),F=u.length-10,o=0):o=o+7&2147483640,t=o,a=p.structuredClone?new Map:null,p.bundleStrings&&typeof l!="string"?(z=[],z.size=1/0):z=null,i=p.structures,i){i.uninitialized&&(i=p._mergeStructures(p.getStructures()));let d=i.sharedLength||0;if(d>v)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let c=0;c<d;c++){let g=i[c];if(!g)continue;let U,O=i.transitions;for(let b=0,I=g.length;b<I;b++){let j=g[b];U=O[j],U||(U=O[j]=Object.create(null)),O=U}O[ge]=c+64}f=d}S||(i.nextId=d+64)}n&&(n=!1);try{if(R(l),z&&ft(t,R),p.offset=o,a&&a.idsToInsert){o+=a.idsToInsert.length*6,o>F&&ue(o),p.offset=o;let d=pi(u.subarray(t,o),a.idsToInsert);return a=null,d}return m&gi?(u.start=t,u.end=o,u):u.subarray(t,o)}finally{if(i){Y<10&&Y++;let d=i.sharedLength||v;if(i.length>d&&(i.length=d),oe>1e4)i.transitions=null,Y=0,oe=0,Z.length>0&&(Z=[]);else if(Z.length>0&&!S){for(let c=0,g=Z.length;c<g;c++)Z[c][ge]=0;Z=[]}if(n&&p.saveStructures){let c=u.subarray(t,o);return p.saveStructures(i,f)===!1?(p._mergeStructures(p.getStructures()),p.pack(l)):(f=d,c)}}m&wi&&(o=t)}};const R=l=>{o>F&&(u=ue(o));var m=typeof l,d;if(m==="string"){let c=l.length;if(z&&c>=4&&c<4096){if((z.size+=c)>ci){let b,I=(z[0]?z[0].length*3+z[1].length:0)+10;o+I>F&&(u=ue(o+I)),z.position?(u[o]=200,o+=3,u[o++]=98,b=o-t,o+=4,ft(t,R),P.setUint16(b+t-3,o-t-b)):(u[o++]=214,u[o++]=98,b=o-t,o+=4),z=["",""],z.size=0,z.position=b}let O=di.test(l);z[O?0:1]+=l,u[o++]=193,R(O?-c:c);return}let g;c<32?g=1:c<256?g=2:c<65536?g=3:g=5;let U=c*3;if(o+U>F&&(u=ue(o+U)),c<64||!x){let O,b,I,j=o+g;for(O=0;O<c;O++)b=l.charCodeAt(O),b<128?u[j++]=b:b<2048?(u[j++]=b>>6|192,u[j++]=b&63|128):(b&64512)===55296&&((I=l.charCodeAt(O+1))&64512)===56320?(b=65536+((b&1023)<<10)+(I&1023),O++,u[j++]=b>>18|240,u[j++]=b>>12&63|128,u[j++]=b>>6&63|128,u[j++]=b&63|128):(u[j++]=b>>12|224,u[j++]=b>>6&63|128,u[j++]=b&63|128);d=j-o-g}else d=x(l,o+g,U);d<32?u[o++]=160|d:d<256?(g<2&&u.copyWithin(o+2,o+1,o+1+d),u[o++]=217,u[o++]=d):d<65536?(g<3&&u.copyWithin(o+3,o+2,o+2+d),u[o++]=218,u[o++]=d>>8,u[o++]=d&255):(g<5&&u.copyWithin(o+5,o+3,o+3+d),u[o++]=219,P.setUint32(o,d),o+=4),o+=d}else if(m==="number")if(l>>>0===l)l<64?u[o++]=l:l<256?(u[o++]=204,u[o++]=l):l<65536?(u[o++]=205,u[o++]=l>>8,u[o++]=l&255):(u[o++]=206,P.setUint32(o,l),o+=4);else if(l>>0===l)l>=-32?u[o++]=256+l:l>=-128?(u[o++]=208,u[o++]=l+256):l>=-32768?(u[o++]=209,P.setInt16(o,l),o+=2):(u[o++]=210,P.setInt32(o,l),o+=4);else{let c;if((c=this.useFloat32)>0&&l<4294967296&&l>=-2147483648){u[o++]=202,P.setFloat32(o,l);let g;if(c<4||(g=l*Sr[(u[o]&127)<<1|u[o+1]>>7])>>0===g){o+=4;return}else o--}u[o++]=203,P.setFloat64(o,l),o+=8}else if(m==="object")if(!l)u[o++]=192;else{if(a){let g=a.get(l);if(g){if(!g.id){let U=a.idsToInsert||(a.idsToInsert=[]);g.id=U.push(g)}u[o++]=214,u[o++]=112,P.setUint32(o,g.id),o+=4;return}else a.set(l,{offset:o-t})}let c=l.constructor;if(c===Object)Jr(l,!0);else if(c===Array){d=l.length,d<16?u[o++]=144|d:d<65536?(u[o++]=220,u[o++]=d>>8,u[o++]=d&255):(u[o++]=221,P.setUint32(o,d),o+=4);for(let g=0;g<d;g++)R(l[g])}else if(c===Map){d=l.size,d<16?u[o++]=128|d:d<65536?(u[o++]=222,u[o++]=d>>8,u[o++]=d&255):(u[o++]=223,P.setUint32(o,d),o+=4);for(let[g,U]of l)R(g),R(U)}else{for(let g=0,U=lr.length;g<U;g++){let O=Dt[g];if(l instanceof O){let b=lr[g];if(b.write){b.type&&(u[o++]=212,u[o++]=b.type,u[o++]=0),R(b.write.call(this,l));return}let I=u,j=P,X=o;u=null;let fe;try{fe=b.pack.call(this,l,_e=>(u=I,I=null,o+=_e,o>F&&ue(o),{target:u,targetView:P,position:o-_e}),R)}finally{I&&(u=I,P=j,o=X,F=u.length-10)}fe&&(fe.length+o>F&&ue(fe.length+o),o=xi(fe,u,o,b.type));return}}Jr(l,!l.hasOwnProperty)}}else if(m==="boolean")u[o++]=l?195:194;else if(m==="bigint"){if(l<BigInt(1)<<BigInt(63)&&l>=-(BigInt(1)<<BigInt(63)))u[o++]=211,P.setBigInt64(o,l);else if(l<BigInt(1)<<BigInt(64)&&l>0)u[o++]=207,P.setBigUint64(o,l);else if(this.largeBigIntToFloat)u[o++]=203,P.setFloat64(o,Number(l));else throw new RangeError(l+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");o+=8}else if(m==="undefined")this.encodeUndefinedAsNil?u[o++]=192:(u[o++]=212,u[o++]=0,u[o++]=0);else if(m==="function")R(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+m)},Jr=this.useRecords===!1?this.variableMapSize?l=>{let m=Object.keys(l),d=m.length;d<16?u[o++]=128|d:d<65536?(u[o++]=222,u[o++]=d>>8,u[o++]=d&255):(u[o++]=223,P.setUint32(o,d),o+=4);let c;for(let g=0;g<d;g++)R(c=m[g]),R(l[c])}:(l,m)=>{u[o++]=222;let d=o-t;o+=2;let c=0;for(let g in l)(m||l.hasOwnProperty(g))&&(R(g),R(l[g]),c++);u[d+++t]=c>>8,u[d+t]=c&255}:r.progressiveRecords&&!T?(l,m)=>{let d,c=i.transitions||(i.transitions=Object.create(null)),g=o++-t,U;for(let O in l)if(m||l.hasOwnProperty(O)){if(d=c[O],d)c=d;else{let b=Object.keys(l),I=c;c=i.transitions;let j=0;for(let X=0,fe=b.length;X<fe;X++){let _e=b[X];d=c[_e],d||(d=c[_e]=Object.create(null),j++),c=d}g+t+1==o?(o--,tr(c,b,j)):Hr(c,b,g,j),U=!0,c=I[O]}R(l[O])}if(!U){let O=c[ge];O?u[g+t]=O:Hr(c,Object.keys(l),g,0)}}:(l,m)=>{let d,c=i.transitions||(i.transitions=Object.create(null)),g=0;for(let O in l)(m||l.hasOwnProperty(O))&&(d=c[O],d||(d=c[O]=Object.create(null),g++),c=d);let U=c[ge];U?U>=96&&T?(u[o++]=((U-=96)&31)+96,u[o++]=U>>5):u[o++]=U:tr(c,c.__keys__||Object.keys(l),g);for(let O in l)(m||l.hasOwnProperty(O))&&R(l[O])},ue=l=>{let m;if(l>16777216){if(l-t>at)throw new Error("Packed buffer would be larger than maximum buffer size");m=Math.min(at,Math.round(Math.max((l-t)*(l>67108864?1.25:2),4194304)/4096)*4096)}else m=(Math.max(l-t<<2,u.length-1)>>12)+1<<12;let d=new Ee(m);return P=new DataView(d.buffer,0,m),u.copy?u.copy(d,0,t,l):d.set(u.slice(t,l)),o-=t,t=0,F=d.length-10,u=d},tr=(l,m,d)=>{let c=i.nextId;c||(c=64),c<E&&this.shouldShareStructure&&!this.shouldShareStructure(m)?(c=i.nextOwnId,c<G||(c=E),i.nextOwnId=c+1):(c>=G&&(c=E),i.nextId=c+1);let g=m.highByte=c>=96&&T?c-96>>5:-1;l[ge]=c,l.__keys__=m,i[c-64]=m,c<E?(m.isShared=!0,i.sharedLength=c-63,n=!0,g>=0?(u[o++]=(c&31)+96,u[o++]=g):u[o++]=c):(g>=0?(u[o++]=213,u[o++]=114,u[o++]=(c&31)+96,u[o++]=g):(u[o++]=212,u[o++]=114,u[o++]=c),d&&(oe+=Y*d),Z.length>=M&&(Z.shift()[ge]=0),Z.push(l),R(m))},Hr=(l,m,d,c)=>{let g=u,U=o,O=F,b=t;u=Oe,o=0,t=0,u||(Oe=u=new Ee(8192)),F=u.length-10,tr(l,m,c),Oe=u;let I=o;if(u=g,o=U,F=O,t=b,I>1){let j=o+I-1;j>F&&ue(j);let X=d+t;u.copyWithin(X+I,X+1,o),u.set(Oe.slice(0,I),X),o=j}else u[d+t]=Oe[0]}}useBuffer(r){u=r,P=new DataView(u.buffer,u.byteOffset,u.byteLength),o=0}clearSharedData(){this.structures&&(this.structures=[])}}Dt=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Ut];lr=[{pack(e,r,t){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:i,targetView:a,position:f}=r(6);i[f++]=214,i[f++]=255,a.setUint32(f,n)}else if(n>0&&n<4294967296){let{target:i,targetView:a,position:f}=r(10);i[f++]=215,i[f++]=255,a.setUint32(f,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),a.setUint32(f+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return r(0),t(this.onInvalidDate());let{target:i,targetView:a,position:f}=r(3);i[f++]=212,i[f++]=255,i[f++]=255}else{let{target:i,targetView:a,position:f}=r(15);i[f++]=199,i[f++]=12,i[f++]=255,a.setUint32(f,e.getMilliseconds()*1e6),a.setBigInt64(f+4,BigInt(Math.floor(n)))}}},{pack(e,r,t){let n=Array.from(e),{target:i,position:a}=r(this.moreTypes?3:0);this.moreTypes&&(i[a++]=212,i[a++]=115,i[a++]=0),t(n)}},{pack(e,r,t){let{target:n,position:i}=r(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=101,n[i++]=0),t([e.name,e.message])}},{pack(e,r,t){let{target:n,position:i}=r(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=120,n[i++]=0),t([e.source,e.flags])}},{pack(e,r){this.moreTypes?ot(e,16,r):ut(He?Buffer.from(e):new Uint8Array(e),r)}},{pack(e,r){let t=e.constructor;t!==zt&&this.moreTypes?ot(e,It.indexOf(t.name),r):ut(e,r)}},{pack(e,r){let{target:t,position:n}=r(1);t[n]=193}}];function ot(e,r,t,n){let i=e.byteLength;if(i+1<256){var{target:a,position:f}=t(4+i);a[f++]=199,a[f++]=i+1}else if(i+1<65536){var{target:a,position:f}=t(5+i);a[f++]=200,a[f++]=i+1>>8,a[f++]=i+1&255}else{var{target:a,position:f,targetView:x}=t(7+i);a[f++]=201,x.setUint32(f,i+1),f+=4}a[f++]=116,a[f++]=r,a.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),f)}function ut(e,r){let t=e.byteLength;var n,i;if(t<256){var{target:n,position:i}=r(t+2);n[i++]=196,n[i++]=t}else if(t<65536){var{target:n,position:i}=r(t+3);n[i++]=197,n[i++]=t>>8,n[i++]=t&255}else{var{target:n,position:i,targetView:a}=r(t+5);n[i++]=198,a.setUint32(i,t),i+=4}n.set(e,i)}function xi(e,r,t,n){let i=e.length;switch(i){case 1:r[t++]=212;break;case 2:r[t++]=213;break;case 4:r[t++]=214;break;case 8:r[t++]=215;break;case 16:r[t++]=216;break;default:i<256?(r[t++]=199,r[t++]=i):i<65536?(r[t++]=200,r[t++]=i>>8,r[t++]=i&255):(r[t++]=201,r[t++]=i>>24,r[t++]=i>>16&255,r[t++]=i>>8&255,r[t++]=i&255)}return r[t++]=n,r.set(e,t),t+=i,t}function pi(e,r){let t,n=r.length*6,i=e.length-n;for(r.sort((a,f)=>a.offset>f.offset?1:-1);t=r.pop();){let a=t.offset,f=t.id;e.copyWithin(a+n,a,i),n-=6;let x=a+n;e[x++]=214,e[x++]=105,e[x++]=f>>24,e[x++]=f>>16&255,e[x++]=f>>8&255,e[x++]=f&255,i=a}return e}function ft(e,r){P.setUint32(z.position+e,o-z.position-e);let t=z;z=null,r(t[0]),r(t[1])}let Lt=new hi({useRecords:!1});Lt.pack;Lt.pack;const gi=512,wi=1024;var yi="https://izx.dalukuankuan.com/",Ft="https://i-desk-ver.izhenxiang.com/",Nt,bi=async e=>{var r,t;return e=await e,t=[],r=t.push.bind(t),e.on("data",r),new Promise((n,i)=>(e.on("end",()=>{n(Buffer.concat(t))}),e.on("error",i)))},vi=e=>bi(Vt(e));Nt=e=>{var r;return r=y.net.request(e),r.end(),new Promise((t,n)=>(r.on("error",i=>{n(i)}),r.on("response",i=>{if(i.statusCode!==200){n(i);return}t(i)})))};var Vt=e=>Nt(e),Re={};Re.version="1.0.0";Re.encode=function(r){return r.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};Re.decode=function(r){return r+=Array(5-r.length%4).join("="),r=r.replace(/\-/g,"+").replace(/\_/g,"/"),new Buffer(r,"base64")};Re.validate=function(r){return/^[A-Za-z0-9\-_]+$/.test(r)};var sr=Re;var ye,qt,Be,Ge,_r,Me,Or,Zt,Jt,Tr,Le,Ht,kr,Ar,Fe,cr,Ye;Jt=Gn.promisify(_t.brotliDecompress);var mi=()=>(y.app.relaunch(),y.app.exit());ye=N.join(Ot.ROOT,"v");re.mkdirSync(ye,{recursive:!0});qt="sha512";Fe=void 0;var Gt=()=>{xe(Fe),Fe=void 0},Yt=()=>{Gt(),Fe=Se.update({width:400,height:500,resizable:!1})};Le=e=>vi(Ft+e);Ht=e=>{var r;return r=Hn.createHash(qt),new Promise(t=>re.createReadStream(e).on("data",r.update.bind(r)).on("end",()=>{t(r.digest().slice(0,8))}))};cr=(()=>{var e;return{v:e}=ze.default,e&&ae.decode(e)})();var Mr=()=>ae.PACKAGE_JSON().version,Si=async()=>["desk",await Mr(),ce.default.type(),ce.default.release(),ce.default.arch(),"ol"].join(" ");Or=Qn+"/"+ni+"/";Ye=ae.ver_int(Mr());Me=0;Ar=async()=>{var e,r;e=ae.encode(parseInt(new Date/1e3)),r=Or+"v?"+e;try{Me=await Le(r)}catch{console.error("❌",r)}return Me};Zt=async e=>{var r,t,n,i,a,f,x,p,S,_,v,M,T,E,G,Z,oe,Y;if(e||(e=Me||await Ar()),!!e&&(Y=e.readUintBE(0,6),!(Ye>=Y))){if(n=ae.encode(Y),r=N.join(ye,n),re.existsSync(N.join(r,ae.package_json))&&Y===cr)return r;for(Z=sr.encode(await Le(Or+sr.encode(e))),[t,i,x]=fi(await Jt(await Le(Z))),M=R=>ke.mkdir(N.join(r,R),{recursive:!0}),await Promise.all(t.map(M)),E=N.dirname(__dirname),T=S=0,_=i.length;S<_;T=++S)if(p=i[T],a=N.join(r,p),f=x[T],G=async R=>Buffer.compare(f,await Ht(R))===0,!(re.existsSync(a)&&await G(a))){if(await M(N.dirname(p)),v=N.join(E,p),re.existsSync(v)&&await G(v)){await ke.copyFile(v,a);continue}if(oe=re.createWriteStream(a),(await Vt(Ft+sr.encode(f))).pipe(_t.createBrotliDecompress()).pipe(oe),await new Promise(R=>{oe.on("finish",R)}),!await G(a))return}return ze.default.v=n,cr=Y,r}};var Kt=async()=>{var e,r;return e=await Ar(),e&&(r=Ye<e.readUintBE(0,6),r)?e:0};Tr=async()=>{var e;(e=await Kt())&&await Xt(e)};setInterval(Tr,864e5);Be=Ge=_r=void 0;kr=()=>Ge=new Promise(e=>_r=e);kr();var _i=()=>Ge,Xt=(...e)=>(Be||(Be=Zt(...e).then(async r=>{r&&(_r([Me,JSON.parse(await ke.readFile(N.join(r,ae.package_json),"utf8")).description]),kr())}).finally(()=>{Be=!1})),Ge);setTimeout(async()=>{var e,r,t,n;if(re.existsSync(ye)){n=await ke.readdir(ye,{withFileTypes:!0});for(r of n)r.isDirectory()&&({name:t}=r,ae.decode(t)<Ye&&await ke.rm(N.join(ye,t),{recursive:!0,force:!0}))}if(e=parseInt(new Date/864e5),e!==ze.default.update_check)return ze.default.update_check=e,await Tr()},15e3);var Oi=Object.freeze(Object.defineProperty({__proto__:null,relaunch:mi,x:Gt,show:Yt,ver_now:Mr,ua_now:Si,update_check:Kt,update_promise:_i,update:Xt},Symbol.toStringTag,{value:"Module"}));var Ke,$r,Qt,dr,Ur,Ti,jr,en,rn,$e;ce.default.platform();({Menu:$r,Tray:Qt,app:dr,globalShortcut:Ti}=require("electron"));$e=new Qt(N.join(br,"trayTemplate.png"));jr=[{label:"我的空间",click:()=>{y.shell.openExternal(yi+"video_library.html?user_token="+$t.ID)}},{label:"检测更新",click:Yt},{type:"separator"}];Ke=en=$r.buildFromTemplate([{label:"显示界面",click:be},...jr,{label:"退出",click:()=>(dr.quiting=!0,dr.quit())}]);rn=$r.buildFromTemplate(jr);Ur=["click",()=>{be()}];$e.on("right-click",e=>{$e.popUpContextMenu(Ke)});var ki=()=>{$e.off(...Ur),Ke=rn},tn=()=>{$e.on(...Ur),Ke=en};var nn;nn=e=>{var r,t,n,i,a,f,x,p;e&&(e.devToolsWebContents||({webContents:a}=e,r=new y.BrowserWindow({minimizable:!1,maximizable:!1}),[i,t]=e.getSize(),[x,p]=e.getPosition(),{width:f,height:n}=y.screen.getPrimaryDisplay().workArea,a.setDevToolsWebContents(r.webContents),a.openDevTools({mode:"detach"}),i>t?(p=0,i=0,t+=20,n-=t):(x=0,t=0,f-=i),r.setPosition(i,t),e.setPosition(x,p),r.setSize(f,n),e.focus()))};var Ai=()=>{y.globalShortcut.register("CmdOrCtrl+Alt+I",()=>nn(y.BrowserWindow.getFocusedWindow()))},Rr,Pe,Xe,sn,Ne,Ve,de,$,Pr;({camera:sn}=Se);$=void 0;de=void 0;Rr=204;Pe=30;Ve=Ne=Rr;var an=()=>{$&&!$.isDestroyed()&&$.getSize()[0]!==800&&(de=$.getPosition()),xe($)},Mi=e=>{var r,t;Ve=e,Ne=e+Pe,t=$.getSize()[0],t!==e&&(de=$.getPosition(),r=Math.round((e-t)/2),$.setBounds({x:de[0]-r,y:de[1]-r,width:Ve,height:Ne}))};Xe=!1;var on=()=>Pr(800,500+Pe),$i=Pr=(e,r)=>{$&&!$.isDestroyed()||(r<=400&&(r+=Pe),Ve=e,Ne=r,$=sn({width:e,height:r,center:!0,roundedCorners:!1,resizable:!1,transparent:!0}),Xe&&Wr())},Ui=e=>{var r,t,n,i,a;$&&!$.isDestroyed()||(e=e||Rr,Pr(e,e),de?[r,t]=de:({width:a,height:n}=y.screen.getPrimaryDisplay().size,i=62+Pe+5,r=i,t=n-i-e),$.setPosition(r,t))},ji=()=>{an(),on()},Wr=()=>{$&&!$.isDestroyed()&&($.setAlwaysOnTop(!0,"pop-up-menu"),$.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0})),Xe=!0},Ri=()=>{$&&!$.isDestroyed()&&$.moveTop()},un=()=>{$&&!$.isDestroyed()&&($.setAlwaysOnTop(!1),$.setVisibleOnAllWorkspaces(!1)),Xe=!1},fn=function(){return $},Pi=Object.freeze(Object.defineProperty({__proto__:null,x:an,size:Mi,rect:on,default:$i,circle:Ui,x_rect:ji,top:Wr,top_once:Ri,untop:un,get_camera_win:fn},Symbol.toStringTag,{value:"Module"})),Er=new Proxy({},{get:(e,r)=>()=>{var t,n,i;return{width:n,height:t}=y.screen.getPrimaryDisplay().size,i=Se[r]({width:n,height:t,roundedCorners:!1,transparent:!0,resizable:!1,hasShadow:!1}),i.setAlwaysOnTop(!0,"screen-saver"),i.setPosition(0,0),i.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0}),i}}),pe={},Cr={},Wi=require("./-.node");const lt=ce.default;let hr;(lt.platform()==="win32"||lt.platform()==="darwin")&&(hr=Wi.getIcon);const Ei=(e,r=64)=>{if(!!hr)return hr(e,r)};var Ci=Ei,Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});const ee=pe,Ii=ce.default,ar=e=>{if(!(!ee.addon||!ee.addon.getMonitorInfo))return ee.addon.getMonitorInfo(e)};class Bi{constructor(r){this.id=r}getBounds(){return ar(this.id).bounds}getWorkArea(){return ar(this.id).workArea}isPrimary(){return ar(this.id).isPrimary}getScaleFactor(){if(!ee.addon||!ee.addon.getMonitorScaleFactor)return;const r=Ii.release().split(".").map(t=>parseInt(t,10));return r[0]>8||r[0]===8&&r[1]>=1?ee.addon.getMonitorScaleFactor(this.id):1}isValid(){return ee.addon&&ee.addon.getMonitorInfo}}Qe.Monitor=Bi;var er={};Object.defineProperty(er,"__esModule",{value:!0});class Di{getBounds(){return{x:0,y:0,width:0,height:0}}getWorkArea(){return{x:0,y:0,width:0,height:0}}isPrimary(){return!1}getScaleFactor(){return 1}isValid(){return!1}}er.EmptyMonitor=Di;var zi=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0});const w=pe,Li=zi(Ci),Fi=Qe,Ni=er;class qe{constructor(r){if(!w.addon)return;this.id=r;const{processId:t,path:n}=w.addon.initWindow(r);this.processId=t,this.path=n}getBounds(){if(!w.addon)return;const r=w.addon.getWindowBounds(this.id);if(process.platform==="win32"){const t=this.getMonitor().getScaleFactor();r.x=Math.floor(r.x/t),r.y=Math.floor(r.y/t),r.width=Math.floor(r.width/t),r.height=Math.floor(r.height/t)}return r}setBounds(r){if(!w.addon)return;const t=Object.assign(Object.assign({},this.getBounds()),r);if(process.platform==="win32"){const n=this.getMonitor().getScaleFactor();t.x=Math.floor(t.x*n),t.y=Math.floor(t.y*n),t.width=Math.floor(t.width*n),t.height=Math.floor(t.height*n),w.addon.setWindowBounds(this.id,t)}else process.platform==="darwin"&&w.addon.setWindowBounds(this.id,t)}getTitle(){if(!!w.addon)return w.addon.getWindowTitle(this.id)}getMonitor(){return!w.addon||!w.addon.getMonitorFromWindow?new Ni.EmptyMonitor:new Fi.Monitor(w.addon.getMonitorFromWindow(this.id))}show(){!w.addon||!w.addon.showWindow||w.addon.showWindow(this.id,"show")}hide(){!w.addon||!w.addon.showWindow||w.addon.showWindow(this.id,"hide")}minimize(){!w.addon||(process.platform==="win32"?w.addon.showWindow(this.id,"minimize"):process.platform==="darwin"&&w.addon.setWindowMinimized(this.id,!0))}restore(){!w.addon||(process.platform==="win32"?w.addon.showWindow(this.id,"restore"):process.platform==="darwin"&&w.addon.setWindowMinimized(this.id,!1))}maximize(){!w.addon||(process.platform==="win32"?w.addon.showWindow(this.id,"maximize"):process.platform==="darwin"&&w.addon.setWindowMaximized(this.id))}bringToTop(){!w.addon||(process.platform==="darwin"?w.addon.bringWindowToTop(this.id,this.processId):w.addon.bringWindowToTop(this.id))}redraw(){!w.addon||!w.addon.redrawWindow||w.addon.redrawWindow(this.id)}isWindow(){if(!!w.addon){if(process.platform==="win32")return this.path&&this.path!==""&&w.addon.isWindow(this.id);if(process.platform==="darwin")return this.path&&this.path!==""&&!!w.addon.initWindow(this.id)}}isVisible(){return!w.addon||!w.addon.isWindowVisible?!0:w.addon.isWindowVisible(this.id)}toggleTransparency(r){!w.addon||!w.addon.toggleWindowTransparency||w.addon.toggleWindowTransparency(this.id,r)}setOpacity(r){!w.addon||!w.addon.setWindowOpacity||w.addon.setWindowOpacity(this.id,r)}getOpacity(){return!w.addon||!w.addon.getWindowOpacity?1:w.addon.getWindowOpacity(this.id)}getIcon(r=64){return Li.default(this.path,r)}setOwner(r){if(!w.addon||!w.addon.setWindowOwner)return;let t=r;r instanceof qe?t=r.id:r||(t=0),w.addon.setWindowOwner(this.id,t)}getOwner(){if(!(!w.addon||!w.addon.getWindowOwner))return new qe(w.addon.getWindowOwner(this.id))}}Cr.Window=qe;var Vi=require("./..node"),qi=te&&te.__awaiter||function(e,r,t,n){function i(a){return a instanceof t?a:new t(function(f){f(a)})}return new(t||(t=Promise))(function(a,f){function x(_){try{S(n.next(_))}catch(v){f(v)}}function p(_){try{S(n.throw(_))}catch(v){f(v)}}function S(_){_.done?a(_.value):i(_.value).then(x,p)}S((n=n.apply(e,r||[])).next())})};Object.defineProperty(pe,"__esModule",{value:!0});const De=Cr;pe.Window=De.Window;const Zi=Kn.default,ct=ce.default,Ji=Qe,Hi=er;let B;pe.addon=B;(ct.platform()==="win32"||ct.platform()==="darwin")&&(pe.addon=B=Vi);let dt=null,Ce=[];class Gi extends Zi.EventEmitter{constructor(){super(),this.requestAccessibility=()=>!B||!B.requestAccessibility?!0:B.requestAccessibility(),this.getActiveWindow=()=>{if(!!B)return new De.Window(B.getActiveWindow())},this.getWindows=()=>!B||!B.getWindows?[]:B.getWindows().map(t=>new De.Window(t)).filter(t=>t.isWindow()),this.getMonitors=()=>!B||!B.getMonitors?[]:B.getMonitors().map(t=>new Ji.Monitor(t)),this.getPrimaryMonitor=()=>process.platform==="win32"?this.getMonitors().find(t=>t.isPrimary):new Hi.EmptyMonitor,this.createProcess=(t,n="")=>{if(!(!B||!B.createProcess))return B.createProcess(t,n)};let r;!B||(this.on("newListener",t=>{if(t==="window-activated"&&(r=B.getActiveWindow()),Ce.indexOf(t)===-1){if(t==="window-activated")dt=setInterval(()=>qi(this,void 0,void 0,function*(){const n=B.getActiveWindow();r!==n&&(r=n,this.emit("window-activated",new De.Window(n)))}),50);else return;Ce.push(t)}}),this.on("removeListener",t=>{this.listenerCount(t)>0||(t==="window-activated"&&clearInterval(dt),Ce=Ce.filter(n=>n!==t))}))}}const Yi=new Gi;var ln=pe.windowManager=Yi,Ir,ie,xr,Br,cn,dn,hn,xn,pn,W;({recbar:pn}=Se);W=void 0;ie=void 0;({draw:xn}=Er);var Ki=()=>{ie||(ie=xn(),ie.on("close",()=>ie=void 0),gn())},gn=()=>{me(),ie.focus()},Xi=()=>{xe(ie),ie=void 0};xr=["CommandOrControl+R","CommandOrControl+W","CommandOrControl+Q","Alt+F4","F5"];Ir={"browser-window-focus":()=>{var e;for(e of xr)y.globalShortcut.register(e,()=>{})},"browser-window-blur":()=>{var e;for(e of xr)y.globalShortcut.unregister(e,()=>{})}};var Dr=e=>{var r;return e==="camera"?r=500:r=696+30,cn(r)};cn=e=>{var r,t,n,i,a,f,x,p;a=Object.entries(Ir);for(p of a)[n,r]=p,y.app.on(n,r);return ki(),t=48+40,i={roundedCorners:!1,transparent:!0,resizable:!1,width:e,height:t},W=pn(i),W.on("close",()=>W=void 0),{width:x,height:f}=y.screen.getPrimaryDisplay().workArea,W.setBounds({x:Math.round((x-e)/2),y:f-28-t,width:e,height:t}),me(),Wr(),new Promise(S=>W.webContents.on("did-finish-load",()=>{me(),W.focus(),S(W)}))};var me=()=>{W&&(W.setAlwaysOnTop(!0,"screen-saver"),W.moveTop())};dn=async function(){var e,r,t,n,i,a,f;return{width:f,height:a}=y.screen.getPrimaryDisplay().workArea,e=[0,0,f,a],n=await W.webContents.executeJavaScript("localStorage",!0),i=JSON.parse(n.record),i.src==="camera"?(t=fn(),r=t.getBounds(),e=[r.x,r.y,r.width,r.height]):i.area!==0&&n.area&&(e=JSON.parse(n.area),e.length!==4&&(e=void 0)),e||(e=[0,0,f,a]),e};var Qi=()=>{var e,r,t,n,i,a,f,x,p;n=W.getPosition(),[t,r]=W.getSize(),[p,e]=W.size,e=48+40,{width:x,height:f}=y.screen.getPrimaryDisplay().bounds,i=n[0]+Math.round((t-p)/2),i<0&&(i=0),i>x-p&&(i=x-p),a=n[1]-(48-32),a<0&&(a=0),a>f-e&&(a=f-e),W.setBounds({x:i,y:a,width:p,height:e}),me()},es=async()=>{var e,r,t,n,i,a,f,x;[f,x,i,e]=await dn(),W.getPosition(),W.size=W.getSize(),a=88,r=32,{width:n,height:t}=y.screen.getPrimaryDisplay().bounds,x>60?x=x-r-5:x=0,f=f+Math.round((i-a)/2),f<0&&(f=0),f>n-a&&(f=n-a),W.setBounds({x:f,y:x,width:a,height:r}),W.moveTop()};Br=()=>{var e,r,t,n;t=Object.entries(Ir);for(n of t)[r,e]=n,y.app.off(r,e);tn(),un()};var rs=()=>{Br(),Ze("show")},ts=()=>{Br(),Ze()},ns=()=>{W.hide()};hn=(...e)=>y.desktopCapturer.getSources({types:e,thumbnailSize:{width:0,height:0}});var is=async()=>{var e,r;r=await hn("screen");for(e of r)return e.id},ss=async()=>{var e,r,t,n,i,a,f,x,p,S,_,v,M,T,E;({bounds:e}=y.screen.getPrimaryDisplay()),{scaleFactor:_}=y.screen.getPrimaryDisplay(),a=new Map,p=await y.desktopCapturer.getSources({types:["window"],fetchWindowIcons:!1,thumbnailSize:{width:320*_,height:180*_}});for(n of p)a.set(Math.floor(n.id.split(":")[1]),[n.thumbnail.toDataURL(),n.name]);x=[],S=ln.getWindows();for(n of S)if({id:i}=n,!process.execPath.startsWith(n.path)&&(f=a.get(i),f)){if({x:T,y:E,width:M,height:t}=n.getBounds(),T+M<=0&&T<=0||T+M>e.width&&T>e.width||E+t<=0&&E<=0||E+t>e.height&&E>e.height)continue;v=e.width-T,M>v&&(M=v),r=e.height-E,t>r&&(t=r),T<0&&(T=0),E<0&&(E=0),x.push(f.concat([i,T,E,M,t]))}return x},as=e=>{y.BrowserWindow.getAllWindows().forEach(r=>{var t;if({hash:t}=new URL(r.webContents.getURL()),!e&&t.slice(1)==="camera"){xe(r);return}return r.hide()})},os=Object.freeze(Object.defineProperty({__proto__:null,draw:Ki,draw_top:gn,draw_x:Xi,工具条:Dr,top:me,expand:Qi,fold:es,cancel:rs,end:ts,hide:ns,screen_source:is,win_source:ss,stop:as},Symbol.toStringTag,{value:"Module"})),wn,H;({count_down:wn}=Se);H=void 0;var yn=()=>{var e;if(H){H.focus();return}e=240,H=wn({width:e,height:e,transparent:!0,resizable:!1,hasShadow:!1}),H.on("close",()=>{H=void 0}),H.setAlwaysOnTop(!0,"screen-saver"),H.on("show",()=>{var r,t;t=y.BrowserWindow.getAllWindows();for(r of t)r.webContents.getURL().endsWith("/#main")||r.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0})})},us={hide:()=>{H!=null&&H.hide()},close:()=>{H!=null&&H.close(),me()}},fs=typeof te=="object"&&te&&te.Object===Object&&te,ls=fs,cs=ls,ds=typeof self=="object"&&self&&self.Object===Object&&self,hs=cs||ds||Function("return this")(),xs=hs,ps=xs,gs=ps.Symbol,zr=gs;function ws(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var ys=ws,bs=Array.isArray,vs=bs,ht=zr,bn=Object.prototype,ms=bn.hasOwnProperty,Ss=bn.toString,Te=ht?ht.toStringTag:void 0;function _s(e){var r=ms.call(e,Te),t=e[Te];try{e[Te]=void 0;var n=!0}catch{}var i=Ss.call(e);return n&&(r?e[Te]=t:delete e[Te]),i}var Os=_s,Ts=Object.prototype,ks=Ts.toString;function As(e){return ks.call(e)}var Ms=As,xt=zr,$s=Os,Us=Ms,js="[object Null]",Rs="[object Undefined]",pt=xt?xt.toStringTag:void 0;function Ps(e){return e==null?e===void 0?Rs:js:pt&&pt in Object(e)?$s(e):Us(e)}var Ws=Ps;function Es(e){return e!=null&&typeof e=="object"}var Cs=Es,Is=Ws,Bs=Cs,Ds="[object Symbol]";function zs(e){return typeof e=="symbol"||Bs(e)&&Is(e)==Ds}var Ls=zs,gt=zr,Fs=ys,Ns=vs,Vs=Ls,qs=1/0,wt=gt?gt.prototype:void 0,yt=wt?wt.toString:void 0;function vn(e){if(typeof e=="string")return e;if(Ns(e))return Fs(e,vn)+"";if(Vs(e))return yt?yt.call(e):"";var r=e+"";return r=="0"&&1/e==-qs?"-0":r}var Zs=vn,Js=Zs;function Hs(e){return e==null?"":Js(e)}var rr=Hs;function Gs(e,r,t){var n=-1,i=e.length;r<0&&(r=-r>i?0:i+r),t=t>i?i:t,t<0&&(t+=i),i=r>t?0:t-r>>>0,r>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+r];return a}var Ys=Gs,Ks=Ys;function Xs(e,r,t){var n=e.length;return t=t===void 0?n:t,!r&&t>=n?e:Ks(e,r,t)}var Qs=Xs,ea="\\ud800-\\udfff",ra="\\u0300-\\u036f",ta="\\ufe20-\\ufe2f",na="\\u20d0-\\u20ff",ia=ra+ta+na,sa="\\ufe0e\\ufe0f",aa="\\u200d",oa=RegExp("["+aa+ea+ia+sa+"]");function ua(e){return oa.test(e)}var mn=ua;function fa(e){return e.split("")}var la=fa,Sn="\\ud800-\\udfff",ca="\\u0300-\\u036f",da="\\ufe20-\\ufe2f",ha="\\u20d0-\\u20ff",xa=ca+da+ha,pa="\\ufe0e\\ufe0f",ga="["+Sn+"]",pr="["+xa+"]",gr="\\ud83c[\\udffb-\\udfff]",wa="(?:"+pr+"|"+gr+")",_n="[^"+Sn+"]",On="(?:\\ud83c[\\udde6-\\uddff]){2}",Tn="[\\ud800-\\udbff][\\udc00-\\udfff]",ya="\\u200d",kn=wa+"?",An="["+pa+"]?",ba="(?:"+ya+"(?:"+[_n,On,Tn].join("|")+")"+An+kn+")*",va=An+kn+ba,ma="(?:"+[_n+pr+"?",pr,On,Tn,ga].join("|")+")",Sa=RegExp(gr+"(?="+gr+")|"+ma+va,"g");function _a(e){return e.match(Sa)||[]}var Oa=_a,Ta=la,ka=mn,Aa=Oa;function Ma(e){return ka(e)?Aa(e):Ta(e)}var $a=Ma,Ua=Qs,ja=mn,Ra=$a,Pa=rr;function Wa(e){return function(r){r=Pa(r);var t=ja(r)?Ra(r):void 0,n=t?t[0]:r.charAt(0),i=t?Ua(t,1).join(""):r.slice(1);return n[e]()+i}}var Ea=Wa,Ca=Ea,Ia=Ca("toUpperCase"),Mn=Ia,Ba=rr,Da=Mn;function za(e){return Da(Ba(e).toLowerCase())}var La=za;function Fa(e,r,t,n){var i=-1,a=e==null?0:e.length;for(n&&a&&(t=e[++i]);++i<a;)t=r(t,e[i],i,e);return t}var Na=Fa;function Va(e){return function(r){return e==null?void 0:e[r]}}var qa=Va,Za=qa,Ja={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ha=Za(Ja),Ga=Ha,Ya=Ga,Ka=rr,Xa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qa="\\u0300-\\u036f",eo="\\ufe20-\\ufe2f",ro="\\u20d0-\\u20ff",to=Qa+eo+ro,no="["+to+"]",io=RegExp(no,"g");function so(e){return e=Ka(e),e&&e.replace(Xa,Ya).replace(io,"")}var ao=so,oo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function uo(e){return e.match(oo)||[]}var fo=uo,lo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function co(e){return lo.test(e)}var ho=co,$n="\\ud800-\\udfff",xo="\\u0300-\\u036f",po="\\ufe20-\\ufe2f",go="\\u20d0-\\u20ff",wo=xo+po+go,Un="\\u2700-\\u27bf",jn="a-z\\xdf-\\xf6\\xf8-\\xff",yo="\\xac\\xb1\\xd7\\xf7",bo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vo="\\u2000-\\u206f",mo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rn="A-Z\\xc0-\\xd6\\xd8-\\xde",So="\\ufe0e\\ufe0f",Pn=yo+bo+vo+mo,Wn="['’]",bt="["+Pn+"]",_o="["+wo+"]",En="\\d+",Oo="["+Un+"]",Cn="["+jn+"]",In="[^"+$n+Pn+En+Un+jn+Rn+"]",To="\\ud83c[\\udffb-\\udfff]",ko="(?:"+_o+"|"+To+")",Ao="[^"+$n+"]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",Dn="[\\ud800-\\udbff][\\udc00-\\udfff]",we="["+Rn+"]",Mo="\\u200d",vt="(?:"+Cn+"|"+In+")",$o="(?:"+we+"|"+In+")",mt="(?:"+Wn+"(?:d|ll|m|re|s|t|ve))?",St="(?:"+Wn+"(?:D|LL|M|RE|S|T|VE))?",zn=ko+"?",Ln="["+So+"]?",Uo="(?:"+Mo+"(?:"+[Ao,Bn,Dn].join("|")+")"+Ln+zn+")*",jo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ro="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Po=Ln+zn+Uo,Wo="(?:"+[Oo,Bn,Dn].join("|")+")"+Po,Eo=RegExp([we+"?"+Cn+"+"+mt+"(?="+[bt,we,"$"].join("|")+")",$o+"+"+St+"(?="+[bt,we+vt,"$"].join("|")+")",we+"?"+vt+"+"+mt,we+"+"+St,Ro,jo,En,Wo].join("|"),"g");function Co(e){return e.match(Eo)||[]}var Io=Co,Bo=fo,Do=ho,zo=rr,Lo=Io;function Fo(e,r,t){return e=zo(e),r=t?void 0:r,r===void 0?Do(e)?Lo(e):Bo(e):e.match(r)||[]}var No=Fo,Vo=Na,qo=ao,Zo=No,Jo="['’]",Ho=RegExp(Jo,"g");function Go(e){return function(r){return Vo(Zo(qo(r).replace(Ho,"")),e,"")}}var Yo=Go,Ko=La,Xo=Yo,Qo=Xo(function(e,r,t){return r=r.toLowerCase(),e+(t?Ko(r):r)}),e0=Qo;var r0=async e=>{var r;if(r=await Promise.resolve().then(function(){return require("./$$.js")}).then(function(t){return t.index}),r.getAuthStatus(e)!=="authorized")return e==="screen"?e="ScreenCapture":e=Mn(e0(e)),r[`askFor${e}Access`](),!0};var Ue,Lr,Fr,Nr,Vr;Ue=Fr=Lr=void 0;Nr=()=>{Lr=new Promise(e=>{Fr=e})};Nr();Vr=e=>{Ue.once("closed",()=>{Fr(e),Nr()}),xe(Ue)};var t0=()=>{Vr(!0)},n0=()=>{Vr(!1)},i0=e=>(Ue=Er["confirm_"+e]({width:275,height:190,modal:!0,isAlwaysOnTop:!0,visibleOnAllWorkspaces:!0}),Ue.setAlwaysOnTop(!0,"screen-saver"),Lr),s0=Object.freeze(Object.defineProperty({__proto__:null,y:t0,n:n0,show:i0},Symbol.toStringTag,{value:"Module"})),a0=e=>{var r;if(r=y.app.getLoginItemSettings().openAtLogin,r!==e)return y.app.setLoginItemSettings({openAtLogin:e})},o0=Object.freeze(Object.defineProperty({__proto__:null,auto_start:a0},Symbol.toStringTag,{value:"Module"})),u0=e=>{$t.ID=e},f0=Object.freeze(Object.defineProperty({__proto__:null,ID:u0},Symbol.toStringTag,{value:"Module"})),l0=function(){var e,r,t;return t=this.sender.getOwnerBrowserWindow(),r=t.getBounds(),e=n=>{var i,a;if(a=t[n],i=r[n],a&&i>a&&i-a<3){r[n]=a;return}t[n]=i},["height","width"].map(e),r},c0=function(e,r,t,n){var i;i=this.sender.getOwnerBrowserWindow(),i.setBounds({x:Math.round(e),y:Math.round(r),width:t,height:n})},d0=Object.freeze(Object.defineProperty({__proto__:null,getBounds:l0,setBounds:c0},Symbol.toStringTag,{value:"Module"}));var Fn,qr,Zr,he,Nn;({area:Fn,win_area:Nn}=Er);he=void 0;var h0=e=>{var r,t,n;t=void 0,n=ln.getWindows();for(r of n)if(e===r.id){t=r;break}t&&(he.setAlwaysOnTop(!1),t.bringToTop(),Zr())};Zr=()=>{he.setAlwaysOnTop(!0,"screen-saver")};qr=e=>{he=e(),Zr(),he.on("close",()=>he=void 0)};var x0=()=>qr(Nn),p0=()=>qr(Fn),g0=()=>{Dr(),he.setIgnoreMouseEvents(!0,{forward:!0}),yn()},w0=()=>{var e,r;return{x:e,y:r}=y.screen.getCursorScreenPoint(),[e,r]};function y0(e,r,t,n){var i;if(i=e==="camera",!i&&n){[x0,p0][n-1]();return}else yn();Dr(e)}var b0=(e,r,t,n)=>{Ze(),y0(e,r,t,n)},v0=e=>{y.shell.openExternal(e)},m0=()=>Ot.ROOT,S0=Object.freeze(Object.defineProperty({__proto__:null,userData:m0,close:Ze,x:ti,count_down:us,permission:r0,confirm:s0,auto_update:Oi,auto_start:o0,recbar:os,USER:f0,camera:Pi,drag:d0,area:g0,wintop:h0,main:be,mouse:w0,rec:b0,open:v0},Symbol.toStringTag,{value:"Module"}));process.on("exit",()=>{y.app.quit()});y.app.requestSingleInstanceLock()||(y.app.quit(),process.exit(0));(async()=>{var e;e=await Promise.resolve().then(function(){return require("./d.js")}),e.init({dsn:"https://54c0fbe278e049c8a9635fc0fa612836@sentry.dalukuankuan.com/6"})})();y.app.commandLine.appendSwitch("webrtc-max-cpu-consumption-percentage","100");y.app.commandLine.appendSwitch("js-flags","--expose_gc --max-old-space-size=512");(()=>{var e,r,t,n,i,a;be(),(t=y.app.dock)!=null&&t.hide(),e=(f,x)=>{var p,S,_,v;x instanceof Function&&y.ipcMain.handle(f.join("."),(M,T)=>x.apply(M,T)),_=Object.entries(x);for(v of _)[S,p]=v,e([...f,S],p)},n=Object.entries(S0);for(a of n)[r,i]=a,e([r],i);tn(),Ai()})();ei(y.app,{"second-instance":be,activate:be});var _0=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));exports.boot=_0;exports.getAugmentedNamespace=Xn;
