"use strict";var ri=Object.defineProperty;var Qr=Object.getOwnPropertySymbols;var ti=Object.prototype.hasOwnProperty,ni=Object.prototype.propertyIsEnumerable;var et=(e,r,t)=>r in e?ri(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,rt=(e,r)=>{for(var t in r||(r={}))ti.call(r,t)&&et(e,t,r[t]);if(Qr)for(var t of Qr(r))ni.call(r,t)&&et(e,t,r[t]);return e};var v=require("electron"),ii=require("os"),se=require("fs"),q=require("path"),si=require("events"),ai=require("crypto"),At=require("zlib"),oi=require("util"),fe=require("./0.js"),$e=require("fs/promises"),Fe=require("./$1.js"),$t=require("./$2.js");function Mt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ge=Mt(ii),ui=Mt(si),ae=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function fi(e){if(e.__esModule)return e;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}var li="darwin",ne=e=>{if(!!e&&!e.isDestroyed()){e.close();try{e.destroy()}catch{}}},ci=(e,r)=>{var t,n;for(t in r)n=r[t],e.on(t,n);return e},Ut;Ut=q.dirname(__dirname);Or=Sr=_r=__dirname;q.dirname(Ut);var _r=_r,Sr=Sr,Or=Or,ar,jt;ar="127.0.0.1",jt="http://"+ar,v.session.defaultSession.protocol.interceptStreamProtocol("http",(e,r)=>{var t,n,i,s,f,x,p,_,S;if(S=new URL(e.url),S.host===ar)({pathname:f}=S),f==="/"&&(f+=".htm"),_=f.slice(f.lastIndexOf(".")+1),_.startsWith("htm")?s="text/html":s={js:"text/javascript",css:"text/css",svg:"image/svg+xml",woff2:"font/woff2"}[_]||"application/octet-stream",n=se.createReadStream(Sr+f),r({data:n,statusCode:200,headers:{"content-type":s}});else{if(e.useSessionCookies=!0,e.partition="persist:I",x=v.net.request(e),x.on("response",b=>{var M,T;({headers:M,statusCode:T}=b),r({data:b},M,T)}),e.uploadData){p=e.uploadData;for(i of p)({bytes:t}=i),t&&x.write(t)}x.end()}});var ce=new Proxy({},{get:(e,r)=>t=>{var n;return t=rt({skipTaskbar:!0,frame:!1,minimizable:!1,maximizable:!1,fullscreenable:!1,type:"toolbar",shadow:!1,hasShadow:!1,transparent:!0,webPreferences:{preload:q.join(_r,"y.js"),webSecurity:!1}},t),n=new v.BrowserWindow(t),n.setMenu(null),r!=="main"&&n.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0}),n.loadURL(jt+"#"+r),n.once("ready-to-show",()=>{n.show()}),n.focus(),n}}),He=e=>{v.BrowserWindow.getAllWindows().forEach(r=>{var t,n;if(n=r.webContents.getURL(),n){if({hash:t}=new URL(n),t=t.slice(1),t.startsWith("main")){e?(r[e](),e==="show"&&r.once("show",()=>{r.setAlwaysOnTop(!0,"screen-saver"),setTimeout(()=>r.setAlwaysOnTop(!1,"screen-saver"),1e3)})):r.hide();return}if(t.startsWith("camera"))return}ne(r)})},di=()=>{v.BrowserWindow.getAllWindows().forEach(e=>{var r,t;if(t=e.webContents.getURL(),t&&({hash:r}=new URL(t),r=r.slice(1),r.startsWith("main"))){e.hide();return}ne(e)})},Rt,Pt;({main:Rt}=ce);Pt=function(e=!0){var r,t,n,i;if(t=v.BrowserWindow.getAllWindows(),t.length)for(r of t)switch(n=r.webContents.getURL().split("/#").pop(),n){case"main":i=r;break;case"recbar":case"win_area":case"area":return}i?(i.isMinimized(),i.restore()):i=Rt({type:"",resizable:!1,height:610,width:426,skipTaskbar:!1}),!(!e&&!i.isVisible())&&(i.show(),i.moveTop(),i.focus())};function le(e=!0){return Pt(e)}var hi=function(){var e,r,t,n;if(n=void 0,r=v.BrowserWindow.getAllWindows(),r.length)for(e of r)switch(t=e.webContents.getURL().split("/#").pop(),t){case"main":n=e;break;case"recbar":case"win_area":case"area":return}if(n!==void 0)return n.webContents.send("quick_start","start")},kr,Pe,Ge,Wt,qe,Ne,we,k,Tr;({camera:Wt}=ce);k=void 0;we=void 0;kr=204;Pe=30;Ne=qe=kr;var Ct=()=>{k&&!k.isDestroyed()&&k.getSize()[0]!==800&&(we=k.getPosition()),ne(k)},xi=e=>{var r,t;Ne=e,qe=e+Pe,t=k.getSize()[0],t!==e&&(we=k.getPosition(),r=Math.round((e-t)/2),k.setBounds({x:we[0]-r,y:we[1]-r,width:Ne,height:qe}))};Ge=!1;var Et=()=>Tr(800,500+Pe),pi=Tr=(e,r)=>{k&&!k.isDestroyed()||(r<=400&&(r+=Pe),Ne=e,qe=r,k=Wt({width:e,height:r,center:!0,roundedCorners:!1,resizable:!1,transparent:!0}),Ge&&Ye())},It=e=>{var r,t,n,i,s;k&&!k.isDestroyed()||(e=e||kr,Tr(e,e),we?[r,t]=we:({width:s,height:n}=v.screen.getPrimaryDisplay().size,i=62+Pe+5,r=i,t=n-i-e),k.setPosition(r,t))},gi=()=>{Ct(),Et()},Ye=()=>{k&&!k.isDestroyed()&&(k.setAlwaysOnTop(!0,"pop-up-menu"),k.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0})),Ge=!0},wi=()=>{k&&!k.isDestroyed()&&k.moveTop()},Bt=()=>{k&&!k.isDestroyed()&&(k.setAlwaysOnTop(!1),k.setVisibleOnAllWorkspaces(!1)),Ge=!1},Dt=function(){return k},vi=function(){k&&!k.isDestroyed()&&k.hide()},yi=function(e){k&&!k.isDestroyed()?(k.show(),Ye()):It(e)},bi=Object.freeze(Object.defineProperty({__proto__:null,x:Ct,size:xi,rect:Et,default:pi,circle:It,x_rect:gi,top:Ye,top_once:wi,untop:Bt,get_camera_win:Dt,hide:vi,show:yi},Symbol.toStringTag,{value:"Module"})),zt={ID:""},Ar=new Proxy({},{get:(e,r)=>()=>{var t,n,i;return{width:n,height:t}=v.screen.getPrimaryDisplay().size,i=ce[r]({width:n,height:t,roundedCorners:!1,transparent:!0,resizable:!1,hasShadow:!1}),i.setAlwaysOnTop(!0,"screen-saver"),i.setPosition(0,0),i.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0}),i}}),ye={},$r={},mi=require("./-.node");const tt=ge.default;let lr;(tt.platform()==="win32"||tt.platform()==="darwin")&&(lr=mi.getIcon);const _i=(e,r=64)=>{if(!!lr)return lr(e,r)};var Si=_i,Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});const ie=ye,Oi=ge.default,or=e=>{if(!(!ie.addon||!ie.addon.getMonitorInfo))return ie.addon.getMonitorInfo(e)};class ki{constructor(r){this.id=r}getBounds(){return or(this.id).bounds}getWorkArea(){return or(this.id).workArea}isPrimary(){return or(this.id).isPrimary}getScaleFactor(){if(!ie.addon||!ie.addon.getMonitorScaleFactor)return;const r=Oi.release().split(".").map(t=>parseInt(t,10));return r[0]>8||r[0]===8&&r[1]>=1?ie.addon.getMonitorScaleFactor(this.id):1}isValid(){return ie.addon&&ie.addon.getMonitorInfo}}Ke.Monitor=ki;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});class Ti{getBounds(){return{x:0,y:0,width:0,height:0}}getWorkArea(){return{x:0,y:0,width:0,height:0}}isPrimary(){return!1}getScaleFactor(){return 1}isValid(){return!1}}Xe.EmptyMonitor=Ti;var Ai=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($r,"__esModule",{value:!0});const w=ye,$i=Ai(Si),Mi=Ke,Ui=Xe;class Ve{constructor(r){if(!w.addon)return;this.id=r;const{processId:t,path:n}=w.addon.initWindow(r);this.processId=t,this.path=n}getBounds(){if(!w.addon)return;const r=w.addon.getWindowBounds(this.id);if(process.platform==="win32"){const t=this.getMonitor().getScaleFactor();r.x=Math.floor(r.x/t),r.y=Math.floor(r.y/t),r.width=Math.floor(r.width/t),r.height=Math.floor(r.height/t)}return r}setBounds(r){if(!w.addon)return;const t=Object.assign(Object.assign({},this.getBounds()),r);if(process.platform==="win32"){const n=this.getMonitor().getScaleFactor();t.x=Math.floor(t.x*n),t.y=Math.floor(t.y*n),t.width=Math.floor(t.width*n),t.height=Math.floor(t.height*n),w.addon.setWindowBounds(this.id,t)}else process.platform==="darwin"&&w.addon.setWindowBounds(this.id,t)}getTitle(){if(!!w.addon)return w.addon.getWindowTitle(this.id)}getMonitor(){return!w.addon||!w.addon.getMonitorFromWindow?new Ui.EmptyMonitor:new Mi.Monitor(w.addon.getMonitorFromWindow(this.id))}show(){!w.addon||!w.addon.showWindow||w.addon.showWindow(this.id,"show")}hide(){!w.addon||!w.addon.showWindow||w.addon.showWindow(this.id,"hide")}minimize(){!w.addon||(process.platform==="win32"?w.addon.showWindow(this.id,"minimize"):process.platform==="darwin"&&w.addon.setWindowMinimized(this.id,!0))}restore(){!w.addon||(process.platform==="win32"?w.addon.showWindow(this.id,"restore"):process.platform==="darwin"&&w.addon.setWindowMinimized(this.id,!1))}maximize(){!w.addon||(process.platform==="win32"?w.addon.showWindow(this.id,"maximize"):process.platform==="darwin"&&w.addon.setWindowMaximized(this.id))}bringToTop(){!w.addon||(process.platform==="darwin"?w.addon.bringWindowToTop(this.id,this.processId):w.addon.bringWindowToTop(this.id))}redraw(){!w.addon||!w.addon.redrawWindow||w.addon.redrawWindow(this.id)}isWindow(){if(!!w.addon){if(process.platform==="win32")return this.path&&this.path!==""&&w.addon.isWindow(this.id);if(process.platform==="darwin")return this.path&&this.path!==""&&!!w.addon.initWindow(this.id)}}isVisible(){return!w.addon||!w.addon.isWindowVisible?!0:w.addon.isWindowVisible(this.id)}toggleTransparency(r){!w.addon||!w.addon.toggleWindowTransparency||w.addon.toggleWindowTransparency(this.id,r)}setOpacity(r){!w.addon||!w.addon.setWindowOpacity||w.addon.setWindowOpacity(this.id,r)}getOpacity(){return!w.addon||!w.addon.getWindowOpacity?1:w.addon.getWindowOpacity(this.id)}getIcon(r=64){return $i.default(this.path,r)}setOwner(r){if(!w.addon||!w.addon.setWindowOwner)return;let t=r;r instanceof Ve?t=r.id:r||(t=0),w.addon.setWindowOwner(this.id,t)}getOwner(){if(!(!w.addon||!w.addon.getWindowOwner))return new Ve(w.addon.getWindowOwner(this.id))}}$r.Window=Ve;var ji=require("./..node"),Ri=ae&&ae.__awaiter||function(e,r,t,n){function i(s){return s instanceof t?s:new t(function(f){f(s)})}return new(t||(t=Promise))(function(s,f){function x(S){try{_(n.next(S))}catch(b){f(b)}}function p(S){try{_(n.throw(S))}catch(b){f(b)}}function _(S){S.done?s(S.value):i(S.value).then(x,p)}_((n=n.apply(e,r||[])).next())})};Object.defineProperty(ye,"__esModule",{value:!0});const De=$r;ye.Window=De.Window;const Pi=ui.default,nt=ge.default,Wi=Ke,Ci=Xe;let B;ye.addon=B;(nt.platform()==="win32"||nt.platform()==="darwin")&&(ye.addon=B=ji);let it=null,Ee=[];class Ei extends Pi.EventEmitter{constructor(){super(),this.requestAccessibility=()=>!B||!B.requestAccessibility?!0:B.requestAccessibility(),this.getActiveWindow=()=>{if(!!B)return new De.Window(B.getActiveWindow())},this.getWindows=()=>!B||!B.getWindows?[]:B.getWindows().map(t=>new De.Window(t)).filter(t=>t.isWindow()),this.getMonitors=()=>!B||!B.getMonitors?[]:B.getMonitors().map(t=>new Wi.Monitor(t)),this.getPrimaryMonitor=()=>process.platform==="win32"?this.getMonitors().find(t=>t.isPrimary):new Ci.EmptyMonitor,this.createProcess=(t,n="")=>{if(!(!B||!B.createProcess))return B.createProcess(t,n)};let r;!B||(this.on("newListener",t=>{if(t==="window-activated"&&(r=B.getActiveWindow()),Ee.indexOf(t)===-1){if(t==="window-activated")it=setInterval(()=>Ri(this,void 0,void 0,function*(){const n=B.getActiveWindow();r!==n&&(r=n,this.emit("window-activated",new De.Window(n)))}),50);else return;Ee.push(t)}}),this.on("removeListener",t=>{this.listenerCount(t)>0||(t==="window-activated"&&clearInterval(it),Ee=Ee.filter(n=>n!==t))}))}}const Ii=new Ei;var Lt=ye.windowManager=Ii,Mr,Z,cr,Ur,Ft,qt,Nt,Vt,Jt,Zt,R;({recbar:Zt,draw:Vt}=ce);R=void 0;Z=void 0;({draw:Jt}=Ar);var Bi=(e,[r,t,n,i])=>{var s;Z||(e===0?Z=Jt():(s={roundedCorners:!1,transparent:!0,resizable:!1,width:n,height:i},Z=Vt(s),Z.setAlwaysOnTop(!0,"screen-saver"),Z.setPosition(r,t),Z.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0})),Z.on("close",()=>Z=void 0),Ht())},Ht=()=>{Se(),Z.focus()},Di=()=>{ne(Z),Z=void 0};cr=["CommandOrControl+R","CommandOrControl+W","CommandOrControl+Q","Alt+F4","F5"];Mr={"browser-window-focus":()=>{var e;for(e of cr)v.globalShortcut.register(e,()=>{})},"browser-window-blur":()=>{var e;for(e of cr)v.globalShortcut.unregister(e,()=>{})}};var jr=e=>{var r;return e==="camera"?r=500:r=696+30,Ft(r)};Ft=e=>{var r,t,n,i,s,f,x,p;s=Object.entries(Mr);for(p of s)[n,r]=p,v.app.on(n,r);return bs(),t=48+40,i={roundedCorners:!1,transparent:!0,resizable:!1,width:e,height:t},R=Zt(i),R.on("close",()=>R=void 0),{width:x,height:f}=v.screen.getPrimaryDisplay().workArea,R.setBounds({x:Math.round((x-e)/2),y:f-28-t,width:e,height:t}),Se(),Ye(),new Promise(_=>R.webContents.on("did-finish-load",()=>{Se(),R.focus(),_(R)}))};var Se=()=>{R&&(R.setAlwaysOnTop(!0,"screen-saver"),R.moveTop())};qt=async function(){var e,r,t,n,i,s,f;return{width:f,height:s}=v.screen.getPrimaryDisplay().workArea,e=[0,0,f,s],n=await R.webContents.executeJavaScript("localStorage",!0),i=JSON.parse(n.record),i.src==="camera"?(t=Dt(),r=t.getBounds(),e=[r.x,r.y,r.width,r.height]):i.area!==0&&n.area&&(e=JSON.parse(n.area),e.length!==4&&(e=void 0)),e||(e=[0,0,f,s]),e};var zi=()=>{var e,r,t,n,i,s,f,x,p;n=R.getPosition(),[t,r]=R.getSize(),[p,e]=R.size,e=48+40,{width:x,height:f}=v.screen.getPrimaryDisplay().bounds,i=n[0]+Math.round((t-p)/2),i<0&&(i=0),i>x-p&&(i=x-p),s=n[1]-(48-32),s<0&&(s=0),s>f-e&&(s=f-e),R.setBounds({x:i,y:s,width:p,height:e}),Se()},Li=async()=>{var e,r,t,n,i,s,f,x;[f,x,i,e]=await qt(),R.getPosition(),R.size=R.getSize(),s=88,r=32,{width:n,height:t}=v.screen.getPrimaryDisplay().bounds,x>60?x=x-r-5:x=0,f=f+Math.round((i-s)/2),f<0&&(f=0),f>n-s&&(f=n-s),R.setBounds({x:f,y:x,width:s,height:r}),R.moveTop()};Ur=()=>{var e,r,t,n;t=Object.entries(Mr);for(n of t)[r,e]=n,v.app.off(r,e);kn(),Bt()};var Fi=()=>{Ur(),He("show")},qi=()=>{Ur(),He()},Ni=()=>{R.hide()};Nt=(...e)=>v.desktopCapturer.getSources({types:e,thumbnailSize:{width:0,height:0}});var Vi=async()=>{var e,r;r=await Nt("screen");for(e of r)return e.id},Ji=async()=>{var e,r,t,n,i,s,f,x,p,_,S,b,M,T,C;({bounds:e}=v.screen.getPrimaryDisplay()),{scaleFactor:S}=v.screen.getPrimaryDisplay(),s=new Map,p=await v.desktopCapturer.getSources({types:["window"],fetchWindowIcons:!1,thumbnailSize:{width:320*S,height:180*S}});for(n of p)s.set(Math.floor(n.id.split(":")[1]),[n.thumbnail.toDataURL(),n.name]);x=[],_=Lt.getWindows();for(n of _)if({id:i}=n,!process.execPath.startsWith(n.path)&&(f=s.get(i),f)){if({x:T,y:C,width:M,height:t}=n.getBounds(),T+M<=0&&T<=0||T+M>e.width&&T>e.width||C+t<=0&&C<=0||C+t>e.height&&C>e.height)continue;b=e.width-T,M>b&&(M=b),r=e.height-C,t>r&&(t=r),T<0&&(T=0),C<0&&(C=0),x.push(f.concat([i,T,C,M,t]))}return x},Zi=e=>{v.BrowserWindow.getAllWindows().forEach(r=>{var t;if({hash:t}=new URL(r.webContents.getURL()),!e&&t.slice(1)==="camera"){ne(r);return}return r.hide()})},Gt=function(){if(R!==void 0)return R.webContents.send("quick_stop","stop")},Hi=Object.freeze(Object.defineProperty({__proto__:null,draw:Bi,draw_top:Ht,draw_x:Di,工具条:jr,top:Se,expand:zi,fold:Li,cancel:Fi,end:qi,hide:Ni,screen_source:Vi,win_source:Ji,stop:Zi,send_quick_stop:Gt},Symbol.toStringTag,{value:"Module"})),Gi="x64",dr;try{dr=new TextDecoder}catch{}var h,ue,a=0,N={},$,oe,H=0,X=0,L,te,V=[],A,st={useRecords:!1,mapsAsObjects:!0};class Yt{}const Kt=new Yt;Kt.name="MessagePack 0xC1";var Oe=!1,Xt=2;try{new Function("")}catch{Xt=1/0}class Me{constructor(r){r&&(r.useRecords===!1&&r.mapsAsObjects===void 0&&(r.mapsAsObjects=!0),r.structures?r.structures.sharedLength=r.structures.length:r.getStructures&&((r.structures=[]).uninitialized=!0,r.structures.sharedLength=0)),Object.assign(this,r)}unpack(r,t){if(h)return sn(()=>(xr(),this?this.unpack(r,t):Me.prototype.unpack.call(st,r,t)));ue=t>-1?t:r.length,a=0,X=0,oe=null,L=null,h=r;try{A=r.dataView||(r.dataView=new DataView(r.buffer,r.byteOffset,r.byteLength))}catch(n){throw h=null,r instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(r&&typeof r=="object"?r.constructor.name:typeof r))}if(this instanceof Me){if(N=this,this.structures)return $=this.structures,Ie();(!$||$.length>0)&&($=[])}else N=st,(!$||$.length>0)&&($=[]);return Ie()}unpackMultiple(r,t){let n,i=0;try{Oe=!0;let s=r.length,f=this?this.unpack(r,s):Qe.unpack(r,s);if(t){for(t(f);a<s;)if(i=a,t(Ie())===!1)return}else{for(n=[f];a<s;)i=a,n.push(Ie());return n}}catch(s){throw s.lastPosition=i,s.values=n,s}finally{Oe=!1,xr()}}_mergeStructures(r,t){r=r||[];for(let n=0,i=r.length;n<i;n++){let s=r[n];s&&(s.isShared=!0,n>=32&&(s.highByte=n-32>>5))}r.sharedLength=r.length;for(let n in t||[])if(n>=0){let i=r[n],s=t[n];s&&(i&&((r.restoreStructures||(r.restoreStructures=[]))[n]=i),r[n]=s)}return this.structures=r}decode(r,t){return this.unpack(r,t)}}function Ie(){try{if(!N.trusted&&!Oe){let r=$.sharedLength||0;r<$.length&&($.length=r)}let e=E();if(L&&(a=L.postBundlePosition),a==ue)$.restoreStructures&&at(),$=null,h=null,te&&(te=null);else if(a>ue){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}else if(!Oe)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw $.restoreStructures&&at(),xr(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function at(){for(let e in $.restoreStructures)$[e]=$.restoreStructures[e];$.restoreStructures=null}function E(){let e=h[a++];if(e<160)if(e<128){if(e<64)return e;{let r=$[e&63]||N.getStructures&&Qt()[e&63];return r?(r.read||(r.read=Rr(r,e&63)),r.read()):e}}else if(e<144)if(e-=128,N.mapsAsObjects){let r={};for(let t=0;t<e;t++)r[rn()]=E();return r}else{let r=new Map;for(let t=0;t<e;t++)r.set(E(),E());return r}else{e-=144;let r=new Array(e);for(let t=0;t<e;t++)r[t]=E();return r}else if(e<192){let r=e-160;if(X>=a)return oe.slice(a-H,(a+=r)-H);if(X==0&&ue<140){let t=r<16?Pr(r):en(r);if(t!=null)return t}return hr(r)}else{let r;switch(e){case 192:return null;case 193:return L?(r=E(),r>0?L[1].slice(L.position1,L.position1+=r):L[0].slice(L.position0,L.position0-=r)):Kt;case 194:return!1;case 195:return!0;case 196:return ur(h[a++]);case 197:return r=A.getUint16(a),a+=2,ur(r);case 198:return r=A.getUint32(a),a+=4,ur(r);case 199:return pe(h[a++]);case 200:return r=A.getUint16(a),a+=2,pe(r);case 201:return r=A.getUint32(a),a+=4,pe(r);case 202:if(r=A.getFloat32(a),N.useFloat32>2){let t=Wr[(h[a]&127)<<1|h[a+1]>>7];return a+=4,(t*r+(r>0?.5:-.5)>>0)/t}return a+=4,r;case 203:return r=A.getFloat64(a),a+=8,r;case 204:return h[a++];case 205:return r=A.getUint16(a),a+=2,r;case 206:return r=A.getUint32(a),a+=4,r;case 207:return N.int64AsNumber?(r=A.getUint32(a)*4294967296,r+=A.getUint32(a+4)):r=A.getBigUint64(a),a+=8,r;case 208:return A.getInt8(a++);case 209:return r=A.getInt16(a),a+=2,r;case 210:return r=A.getInt32(a),a+=4,r;case 211:return N.int64AsNumber?(r=A.getInt32(a)*4294967296,r+=A.getUint32(a+4)):r=A.getBigInt64(a),a+=8,r;case 212:if(r=h[a++],r==114)return dt(h[a++]&63);{let t=V[r];if(t)return t.read?(a++,t.read(E())):t.noBuffer?(a++,t()):t(h.subarray(a,++a));throw new Error("Unknown extension "+r)}case 213:return r=h[a],r==114?(a++,dt(h[a++]&63,h[a++])):pe(2);case 214:return pe(4);case 215:return pe(8);case 216:return pe(16);case 217:return r=h[a++],X>=a?oe.slice(a-H,(a+=r)-H):Ki(r);case 218:return r=A.getUint16(a),a+=2,X>=a?oe.slice(a-H,(a+=r)-H):Xi(r);case 219:return r=A.getUint32(a),a+=4,X>=a?oe.slice(a-H,(a+=r)-H):Qi(r);case 220:return r=A.getUint16(a),a+=2,ut(r);case 221:return r=A.getUint32(a),a+=4,ut(r);case 222:return r=A.getUint16(a),a+=2,ft(r);case 223:return r=A.getUint32(a),a+=4,ft(r);default:if(e>=224)return e-256;if(e===void 0){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}throw new Error("Unknown MessagePack token "+e)}}}const Yi=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Rr(e,r){function t(){if(t.count++>Xt){let i=e.read=new Function("r","return function(){return {"+e.map(s=>Yi.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"}}")(E);return e.highByte===0&&(e.read=ot(r,e.read)),i()}let n={};for(let i=0,s=e.length;i<s;i++){let f=e[i];n[f]=E()}return n}return t.count=0,e.highByte===0?ot(r,t):t}const ot=(e,r)=>function(){let t=h[a++];if(t===0)return r();let n=e<32?-(e+(t<<5)):e+(t<<5),i=$[n]||Qt()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=Rr(i,e)),i.read()};function Qt(){let e=sn(()=>(h=null,N.getStructures()));return $=N._mergeStructures(e,$)}var hr=We,Ki=We,Xi=We,Qi=We;function We(e){let r;if(e<16&&(r=Pr(e)))return r;if(e>64&&dr)return dr.decode(h.subarray(a,a+=e));const t=a+e,n=[];for(r="";a<t;){const i=h[a++];if((i&128)===0)n.push(i);else if((i&224)===192){const s=h[a++]&63;n.push((i&31)<<6|s)}else if((i&240)===224){const s=h[a++]&63,f=h[a++]&63;n.push((i&31)<<12|s<<6|f)}else if((i&248)===240){const s=h[a++]&63,f=h[a++]&63,x=h[a++]&63;let p=(i&7)<<18|s<<12|f<<6|x;p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|p&1023),n.push(p)}else n.push(i);n.length>=4096&&(r+=D.apply(String,n),n.length=0)}return n.length>0&&(r+=D.apply(String,n)),r}function ut(e){let r=new Array(e);for(let t=0;t<e;t++)r[t]=E();return r}function ft(e){if(N.mapsAsObjects){let r={};for(let t=0;t<e;t++)r[rn()]=E();return r}else{let r=new Map;for(let t=0;t<e;t++)r.set(E(),E());return r}}var D=String.fromCharCode;function en(e){let r=a,t=new Array(e);for(let n=0;n<e;n++){const i=h[a++];if((i&128)>0){a=r;return}t[n]=i}return D.apply(String,t)}function Pr(e){if(e<4)if(e<2){if(e===0)return"";{let r=h[a++];if((r&128)>1){a-=1;return}return D(r)}}else{let r=h[a++],t=h[a++];if((r&128)>0||(t&128)>0){a-=2;return}if(e<3)return D(r,t);let n=h[a++];if((n&128)>0){a-=3;return}return D(r,t,n)}else{let r=h[a++],t=h[a++],n=h[a++],i=h[a++];if((r&128)>0||(t&128)>0||(n&128)>0||(i&128)>0){a-=4;return}if(e<6){if(e===4)return D(r,t,n,i);{let s=h[a++];if((s&128)>0){a-=5;return}return D(r,t,n,i,s)}}else if(e<8){let s=h[a++],f=h[a++];if((s&128)>0||(f&128)>0){a-=6;return}if(e<7)return D(r,t,n,i,s,f);let x=h[a++];if((x&128)>0){a-=7;return}return D(r,t,n,i,s,f,x)}else{let s=h[a++],f=h[a++],x=h[a++],p=h[a++];if((s&128)>0||(f&128)>0||(x&128)>0||(p&128)>0){a-=8;return}if(e<10){if(e===8)return D(r,t,n,i,s,f,x,p);{let _=h[a++];if((_&128)>0){a-=9;return}return D(r,t,n,i,s,f,x,p,_)}}else if(e<12){let _=h[a++],S=h[a++];if((_&128)>0||(S&128)>0){a-=10;return}if(e<11)return D(r,t,n,i,s,f,x,p,_,S);let b=h[a++];if((b&128)>0){a-=11;return}return D(r,t,n,i,s,f,x,p,_,S,b)}else{let _=h[a++],S=h[a++],b=h[a++],M=h[a++];if((_&128)>0||(S&128)>0||(b&128)>0||(M&128)>0){a-=12;return}if(e<14){if(e===12)return D(r,t,n,i,s,f,x,p,_,S,b,M);{let T=h[a++];if((T&128)>0){a-=13;return}return D(r,t,n,i,s,f,x,p,_,S,b,M,T)}}else{let T=h[a++],C=h[a++];if((T&128)>0||(C&128)>0){a-=14;return}if(e<15)return D(r,t,n,i,s,f,x,p,_,S,b,M,T,C);let Y=h[a++];if((Y&128)>0){a-=15;return}return D(r,t,n,i,s,f,x,p,_,S,b,M,T,C,Y)}}}}}function lt(){let e=h[a++],r;if(e<192)r=e-160;else switch(e){case 217:r=h[a++];break;case 218:r=A.getUint16(a),a+=2;break;case 219:r=A.getUint32(a),a+=4;break;default:throw new Error("Expected string")}return We(r)}function ur(e){return N.copyBuffers?Uint8Array.prototype.slice.call(h,a,a+=e):h.subarray(a,a+=e)}function pe(e){let r=h[a++];if(V[r])return V[r](h.subarray(a,a+=e));throw new Error("Unknown extension type "+r)}var ct=new Array(4096);function rn(){let e=h[a++];if(e>=160&&e<192){if(e=e-160,X>=a)return oe.slice(a-H,(a+=e)-H);if(!(X==0&&ue<180))return hr(e)}else return a--,E();let r=(e<<5^(e>1?A.getUint16(a):e>0?h[a]:0))&4095,t=ct[r],n=a,i=a+e-3,s,f=0;if(t&&t.bytes==e){for(;n<i;){if(s=A.getUint32(n),s!=t[f++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if(s=h[n++],s!=t[f++]){n=1879048192;break}if(n===i)return a=n,t.string;i-=3,n=a}for(t=[],ct[r]=t,t.bytes=e;n<i;)s=A.getUint32(n),t.push(s),n+=4;for(i+=3;n<i;)s=h[n++],t.push(s);let x=e<16?Pr(e):en(e);return x!=null?t.string=x:t.string=hr(e)}const dt=(e,r)=>{var t=E();let n=e;r!==void 0&&(e=e<32?-((r<<5)+e):(r<<5)+e,t.highByte=r);let i=$[e];return i&&i.isShared&&(($.restoreStructures||($.restoreStructures=[]))[e]=i),$[e]=t,t.read=Rr(t,n),t.read()};var tn=typeof self=="object"?self:global;V[0]=()=>{};V[0].noBuffer=!0;V[101]=()=>{let e=E();return(tn[e[0]]||Error)(e[1])};V[105]=e=>{let r=A.getUint32(a-4);te||(te=new Map);let t=h[a],n;t>=144&&t<160||t==220||t==221?n=[]:n={};let i={target:n};te.set(r,i);let s=E();return i.used?Object.assign(n,s):(i.target=s,s)};V[112]=e=>{let r=A.getUint32(a-4),t=te.get(r);return t.used=!0,t.target};V[115]=()=>new Set(E());const nn=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");V[116]=e=>{let r=e[0],t=nn[r];if(!t)throw new Error("Could not find typed array for code "+r);return new tn[t](Uint8Array.prototype.slice.call(e,1).buffer)};V[120]=()=>{let e=E();return new RegExp(e[0],e[1])};const es=[];V[98]=e=>{let r=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],t=a;return a+=r-e.length,L=es,L=[lt(),lt()],L.position0=0,L.position1=0,L.postBundlePosition=a,a=t,E()};V[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function sn(e){let r=ue,t=a,n=H,i=X,s=oe,f=te,x=L,p=new Uint8Array(h.slice(0,ue)),_=$,S=$.slice(0,$.length),b=N,M=Oe,T=e();return ue=r,a=t,H=n,X=i,oe=s,te=f,L=x,h=p,Oe=M,$=_,$.splice(0,$.length,...S),N=b,A=new DataView(h.buffer,h.byteOffset,h.byteLength),T}function xr(){h=null,te=null,$=null}const Wr=new Array(147);for(let e=0;e<256;e++)Wr[e]=+("1e"+Math.floor(45.15-e*.30103));var Qe=new Me({useRecords:!1});const rs=Qe.unpack;Qe.unpackMultiple;Qe.unpack;let ts=new Float32Array(1);new Uint8Array(ts.buffer,0,4);let ze;try{ze=new TextEncoder}catch{}let pr,an;const er=typeof Buffer!="undefined",Be=er?Buffer.allocUnsafeSlow:Uint8Array,on=er?Buffer:Uint8Array,ht=er?4294967296:2144337920;let u,Te,W,o=0,F,z=null;const ns=61440,is=/[\u0080-\uFFFF]/,be=Symbol("record-id");class ss extends Me{constructor(r){super(r),this.offset=0;let t,n,i,s,f=0,x=on.prototype.utf8Write?function(l,m,d){return u.utf8Write(l,m,d)}:ze&&ze.encodeInto?function(l,m){return ze.encodeInto(l,u.subarray(m)).written}:!1,p=this;r||(r={});let _=r&&r.sequential,S=r.structures||r.saveStructures,b=r.maxSharedStructures;if(b==null&&(b=S?32:0),b>8160)throw new Error("Maximum maxSharedStructure is 8160");r.structuredClone&&r.moreTypes==null&&(r.moreTypes=!0);let M=r.maxOwnStructures;M==null&&(M=S?32:64),!this.structures&&r.useRecords!=!1&&(this.structures=[]);let T=b>32||M+b>64,C=b+64,Y=b+M+64;if(Y>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let J=[],de=0,K=0;this.pack=this.encode=function(l,m){if(u||(u=new Be(8192),W=new DataView(u.buffer,0,8192),o=0),F=u.length-10,F-o<2048?(u=new Be(u.length),W=new DataView(u.buffer,0,u.length),F=u.length-10,o=0):o=o+7&2147483640,t=o,s=p.structuredClone?new Map:null,p.bundleStrings&&typeof l!="string"?(z=[],z.size=1/0):z=null,i=p.structures,i){i.uninitialized&&(i=p._mergeStructures(p.getStructures()));let d=i.sharedLength||0;if(d>b)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let c=0;c<d;c++){let g=i[c];if(!g)continue;let U,O=i.transitions;for(let y=0,I=g.length;y<I;y++){let j=g[y];U=O[j],U||(U=O[j]=Object.create(null)),O=U}O[be]=c+64}f=d}_||(i.nextId=d+64)}n&&(n=!1);try{if(P(l),z&&gt(t,P),p.offset=o,s&&s.idsToInsert){o+=s.idsToInsert.length*6,o>F&&he(o),p.offset=o;let d=os(u.subarray(t,o),s.idsToInsert);return s=null,d}return m&us?(u.start=t,u.end=o,u):u.subarray(t,o)}finally{if(i){K<10&&K++;let d=i.sharedLength||b;if(i.length>d&&(i.length=d),de>1e4)i.transitions=null,K=0,de=0,J.length>0&&(J=[]);else if(J.length>0&&!_){for(let c=0,g=J.length;c<g;c++)J[c][be]=0;J=[]}if(n&&p.saveStructures){let c=u.subarray(t,o);return p.saveStructures(i,f)===!1?(p._mergeStructures(p.getStructures()),p.pack(l)):(f=d,c)}}m&fs&&(o=t)}};const P=l=>{o>F&&(u=he(o));var m=typeof l,d;if(m==="string"){let c=l.length;if(z&&c>=4&&c<4096){if((z.size+=c)>ns){let y,I=(z[0]?z[0].length*3+z[1].length:0)+10;o+I>F&&(u=he(o+I)),z.position?(u[o]=200,o+=3,u[o++]=98,y=o-t,o+=4,gt(t,P),W.setUint16(y+t-3,o-t-y)):(u[o++]=214,u[o++]=98,y=o-t,o+=4),z=["",""],z.size=0,z.position=y}let O=is.test(l);z[O?0:1]+=l,u[o++]=193,P(O?-c:c);return}let g;c<32?g=1:c<256?g=2:c<65536?g=3:g=5;let U=c*3;if(o+U>F&&(u=he(o+U)),c<64||!x){let O,y,I,j=o+g;for(O=0;O<c;O++)y=l.charCodeAt(O),y<128?u[j++]=y:y<2048?(u[j++]=y>>6|192,u[j++]=y&63|128):(y&64512)===55296&&((I=l.charCodeAt(O+1))&64512)===56320?(y=65536+((y&1023)<<10)+(I&1023),O++,u[j++]=y>>18|240,u[j++]=y>>12&63|128,u[j++]=y>>6&63|128,u[j++]=y&63|128):(u[j++]=y>>12|224,u[j++]=y>>6&63|128,u[j++]=y&63|128);d=j-o-g}else d=x(l,o+g,U);d<32?u[o++]=160|d:d<256?(g<2&&u.copyWithin(o+2,o+1,o+1+d),u[o++]=217,u[o++]=d):d<65536?(g<3&&u.copyWithin(o+3,o+2,o+2+d),u[o++]=218,u[o++]=d>>8,u[o++]=d&255):(g<5&&u.copyWithin(o+5,o+3,o+3+d),u[o++]=219,W.setUint32(o,d),o+=4),o+=d}else if(m==="number")if(l>>>0===l)l<64?u[o++]=l:l<256?(u[o++]=204,u[o++]=l):l<65536?(u[o++]=205,u[o++]=l>>8,u[o++]=l&255):(u[o++]=206,W.setUint32(o,l),o+=4);else if(l>>0===l)l>=-32?u[o++]=256+l:l>=-128?(u[o++]=208,u[o++]=l+256):l>=-32768?(u[o++]=209,W.setInt16(o,l),o+=2):(u[o++]=210,W.setInt32(o,l),o+=4);else{let c;if((c=this.useFloat32)>0&&l<4294967296&&l>=-2147483648){u[o++]=202,W.setFloat32(o,l);let g;if(c<4||(g=l*Wr[(u[o]&127)<<1|u[o+1]>>7])>>0===g){o+=4;return}else o--}u[o++]=203,W.setFloat64(o,l),o+=8}else if(m==="object")if(!l)u[o++]=192;else{if(s){let g=s.get(l);if(g){if(!g.id){let U=s.idsToInsert||(s.idsToInsert=[]);g.id=U.push(g)}u[o++]=214,u[o++]=112,W.setUint32(o,g.id),o+=4;return}else s.set(l,{offset:o-t})}let c=l.constructor;if(c===Object)Kr(l,!0);else if(c===Array){d=l.length,d<16?u[o++]=144|d:d<65536?(u[o++]=220,u[o++]=d>>8,u[o++]=d&255):(u[o++]=221,W.setUint32(o,d),o+=4);for(let g=0;g<d;g++)P(l[g])}else if(c===Map){d=l.size,d<16?u[o++]=128|d:d<65536?(u[o++]=222,u[o++]=d>>8,u[o++]=d&255):(u[o++]=223,W.setUint32(o,d),o+=4);for(let[g,U]of l)P(g),P(U)}else{for(let g=0,U=pr.length;g<U;g++){let O=an[g];if(l instanceof O){let y=pr[g];if(y.write){y.type&&(u[o++]=212,u[o++]=y.type,u[o++]=0),P(y.write.call(this,l));return}let I=u,j=W,re=o;u=null;let xe;try{xe=y.pack.call(this,l,ke=>(u=I,I=null,o+=ke,o>F&&he(o),{target:u,targetView:W,position:o-ke}),P)}finally{I&&(u=I,W=j,o=re,F=u.length-10)}xe&&(xe.length+o>F&&he(xe.length+o),o=as(xe,u,o,y.type));return}}Kr(l,!l.hasOwnProperty)}}else if(m==="boolean")u[o++]=l?195:194;else if(m==="bigint"){if(l<BigInt(1)<<BigInt(63)&&l>=-(BigInt(1)<<BigInt(63)))u[o++]=211,W.setBigInt64(o,l);else if(l<BigInt(1)<<BigInt(64)&&l>0)u[o++]=207,W.setBigUint64(o,l);else if(this.largeBigIntToFloat)u[o++]=203,W.setFloat64(o,Number(l));else throw new RangeError(l+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");o+=8}else if(m==="undefined")this.encodeUndefinedAsNil?u[o++]=192:(u[o++]=212,u[o++]=0,u[o++]=0);else if(m==="function")P(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+m)},Kr=this.useRecords===!1?this.variableMapSize?l=>{let m=Object.keys(l),d=m.length;d<16?u[o++]=128|d:d<65536?(u[o++]=222,u[o++]=d>>8,u[o++]=d&255):(u[o++]=223,W.setUint32(o,d),o+=4);let c;for(let g=0;g<d;g++)P(c=m[g]),P(l[c])}:(l,m)=>{u[o++]=222;let d=o-t;o+=2;let c=0;for(let g in l)(m||l.hasOwnProperty(g))&&(P(g),P(l[g]),c++);u[d+++t]=c>>8,u[d+t]=c&255}:r.progressiveRecords&&!T?(l,m)=>{let d,c=i.transitions||(i.transitions=Object.create(null)),g=o++-t,U;for(let O in l)if(m||l.hasOwnProperty(O)){if(d=c[O],d)c=d;else{let y=Object.keys(l),I=c;c=i.transitions;let j=0;for(let re=0,xe=y.length;re<xe;re++){let ke=y[re];d=c[ke],d||(d=c[ke]=Object.create(null),j++),c=d}g+t+1==o?(o--,sr(c,y,j)):Xr(c,y,g,j),U=!0,c=I[O]}P(l[O])}if(!U){let O=c[be];O?u[g+t]=O:Xr(c,Object.keys(l),g,0)}}:(l,m)=>{let d,c=i.transitions||(i.transitions=Object.create(null)),g=0;for(let O in l)(m||l.hasOwnProperty(O))&&(d=c[O],d||(d=c[O]=Object.create(null),g++),c=d);let U=c[be];U?U>=96&&T?(u[o++]=((U-=96)&31)+96,u[o++]=U>>5):u[o++]=U:sr(c,c.__keys__||Object.keys(l),g);for(let O in l)(m||l.hasOwnProperty(O))&&P(l[O])},he=l=>{let m;if(l>16777216){if(l-t>ht)throw new Error("Packed buffer would be larger than maximum buffer size");m=Math.min(ht,Math.round(Math.max((l-t)*(l>67108864?1.25:2),4194304)/4096)*4096)}else m=(Math.max(l-t<<2,u.length-1)>>12)+1<<12;let d=new Be(m);return W=new DataView(d.buffer,0,m),u.copy?u.copy(d,0,t,l):d.set(u.slice(t,l)),o-=t,t=0,F=d.length-10,u=d},sr=(l,m,d)=>{let c=i.nextId;c||(c=64),c<C&&this.shouldShareStructure&&!this.shouldShareStructure(m)?(c=i.nextOwnId,c<Y||(c=C),i.nextOwnId=c+1):(c>=Y&&(c=C),i.nextId=c+1);let g=m.highByte=c>=96&&T?c-96>>5:-1;l[be]=c,l.__keys__=m,i[c-64]=m,c<C?(m.isShared=!0,i.sharedLength=c-63,n=!0,g>=0?(u[o++]=(c&31)+96,u[o++]=g):u[o++]=c):(g>=0?(u[o++]=213,u[o++]=114,u[o++]=(c&31)+96,u[o++]=g):(u[o++]=212,u[o++]=114,u[o++]=c),d&&(de+=K*d),J.length>=M&&(J.shift()[be]=0),J.push(l),P(m))},Xr=(l,m,d,c)=>{let g=u,U=o,O=F,y=t;u=Te,o=0,t=0,u||(Te=u=new Be(8192)),F=u.length-10,sr(l,m,c),Te=u;let I=o;if(u=g,o=U,F=O,t=y,I>1){let j=o+I-1;j>F&&he(j);let re=d+t;u.copyWithin(re+I,re+1,o),u.set(Te.slice(0,I),re),o=j}else u[d+t]=Te[0]}}useBuffer(r){u=r,W=new DataView(u.buffer,u.byteOffset,u.byteLength),o=0}clearSharedData(){this.structures&&(this.structures=[])}}an=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Yt];pr=[{pack(e,r,t){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:i,targetView:s,position:f}=r(6);i[f++]=214,i[f++]=255,s.setUint32(f,n)}else if(n>0&&n<4294967296){let{target:i,targetView:s,position:f}=r(10);i[f++]=215,i[f++]=255,s.setUint32(f,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),s.setUint32(f+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return r(0),t(this.onInvalidDate());let{target:i,targetView:s,position:f}=r(3);i[f++]=212,i[f++]=255,i[f++]=255}else{let{target:i,targetView:s,position:f}=r(15);i[f++]=199,i[f++]=12,i[f++]=255,s.setUint32(f,e.getMilliseconds()*1e6),s.setBigInt64(f+4,BigInt(Math.floor(n)))}}},{pack(e,r,t){let n=Array.from(e),{target:i,position:s}=r(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),t(n)}},{pack(e,r,t){let{target:n,position:i}=r(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=101,n[i++]=0),t([e.name,e.message])}},{pack(e,r,t){let{target:n,position:i}=r(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=120,n[i++]=0),t([e.source,e.flags])}},{pack(e,r){this.moreTypes?xt(e,16,r):pt(er?Buffer.from(e):new Uint8Array(e),r)}},{pack(e,r){let t=e.constructor;t!==on&&this.moreTypes?xt(e,nn.indexOf(t.name),r):pt(e,r)}},{pack(e,r){let{target:t,position:n}=r(1);t[n]=193}}];function xt(e,r,t,n){let i=e.byteLength;if(i+1<256){var{target:s,position:f}=t(4+i);s[f++]=199,s[f++]=i+1}else if(i+1<65536){var{target:s,position:f}=t(5+i);s[f++]=200,s[f++]=i+1>>8,s[f++]=i+1&255}else{var{target:s,position:f,targetView:x}=t(7+i);s[f++]=201,x.setUint32(f,i+1),f+=4}s[f++]=116,s[f++]=r,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),f)}function pt(e,r){let t=e.byteLength;var n,i;if(t<256){var{target:n,position:i}=r(t+2);n[i++]=196,n[i++]=t}else if(t<65536){var{target:n,position:i}=r(t+3);n[i++]=197,n[i++]=t>>8,n[i++]=t&255}else{var{target:n,position:i,targetView:s}=r(t+5);n[i++]=198,s.setUint32(i,t),i+=4}n.set(e,i)}function as(e,r,t,n){let i=e.length;switch(i){case 1:r[t++]=212;break;case 2:r[t++]=213;break;case 4:r[t++]=214;break;case 8:r[t++]=215;break;case 16:r[t++]=216;break;default:i<256?(r[t++]=199,r[t++]=i):i<65536?(r[t++]=200,r[t++]=i>>8,r[t++]=i&255):(r[t++]=201,r[t++]=i>>24,r[t++]=i>>16&255,r[t++]=i>>8&255,r[t++]=i&255)}return r[t++]=n,r.set(e,t),t+=i,t}function os(e,r){let t,n=r.length*6,i=e.length-n;for(r.sort((s,f)=>s.offset>f.offset?1:-1);t=r.pop();){let s=t.offset,f=t.id;e.copyWithin(s+n,s,i),n-=6;let x=s+n;e[x++]=214,e[x++]=105,e[x++]=f>>24,e[x++]=f>>16&255,e[x++]=f>>8&255,e[x++]=f&255,i=s}return e}function gt(e,r){W.setUint32(z.position+e,o-z.position-e);let t=z;z=null,r(t[0]),r(t[1])}let un=new ss({useRecords:!1});un.pack;un.pack;const us=512,fs=1024;var ls="https://izx.dalukuankuan.com/",fn="https://i-desk-ver.izhenxiang.com/",ln,cs=async e=>{var r,t;return e=await e,t=[],r=t.push.bind(t),e.on("data",r),new Promise((n,i)=>(e.on("end",()=>{n(Buffer.concat(t))}),e.on("error",i)))},ds=e=>cs(cn(e));ln=e=>{var r;return r=v.net.request(e),r.end(),new Promise((t,n)=>(r.on("error",i=>{n(i)}),r.on("response",i=>{if(i.statusCode!==200){n(i);return}t(i)})))};var cn=e=>ln(e),Ce={};Ce.version="1.0.0";Ce.encode=function(r){return r.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};Ce.decode=function(r){return r+=Array(5-r.length%4).join("="),r=r.replace(/\-/g,"+").replace(/\_/g,"/"),new Buffer(r,"base64")};Ce.validate=function(r){return/^[A-Za-z0-9\-_]+$/.test(r)};var fr=Ce;var _e,dn,Le,rr,Cr,Ue,Er,hn,xn,Ir,Je,pn,Br,Dr,Ze,gr,tr;xn=oi.promisify(At.brotliDecompress);var hs=()=>(v.app.relaunch(),v.app.exit());_e=q.join($t.ROOT,"v");se.mkdirSync(_e,{recursive:!0});dn="sha512";Ze=void 0;var gn=()=>{ne(Ze),Ze=void 0},wn=()=>{gn(),Ze=ce.update({width:400,height:500,resizable:!1})};Je=e=>ds(fn+e);pn=e=>{var r;return r=ai.createHash(dn),new Promise(t=>se.createReadStream(e).on("data",r.update.bind(r)).on("end",()=>{t(r.digest().slice(0,8))}))};gr=(()=>{var e;return{v:e}=Fe.default,e&&fe.decode(e)})();var zr=()=>fe.PACKAGE_JSON().version,xs=async()=>["desk",await zr(),ge.default.type(),ge.default.release(),ge.default.arch(),"ol"].join(" ");Er=li+"/"+Gi+"/";tr=fe.ver_int(zr());Ue=0;Dr=async()=>{var e,r;e=fe.encode(parseInt(new Date/1e3)),r=Er+"v?"+e;try{Ue=await Je(r)}catch{console.error("❌",r)}return Ue};hn=async e=>{var r,t,n,i,s,f,x,p,_,S,b,M,T,C,Y,J,de,K;if(e||(e=Ue||await Dr()),!!e&&(K=e.readUintBE(0,6),!(tr>=K))){if(n=fe.encode(K),r=q.join(_e,n),se.existsSync(q.join(r,fe.package_json))&&K===gr)return r;for(J=fr.encode(await Je(Er+fr.encode(e))),[t,i,x]=rs(await xn(await Je(J))),M=P=>$e.mkdir(q.join(r,P),{recursive:!0}),await Promise.all(t.map(M)),C=q.dirname(__dirname),T=_=0,S=i.length;_<S;T=++_)if(p=i[T],s=q.join(r,p),f=x[T],Y=async P=>Buffer.compare(f,await pn(P))===0,!(se.existsSync(s)&&await Y(s))){if(await M(q.dirname(p)),b=q.join(C,p),se.existsSync(b)&&await Y(b)){await $e.copyFile(b,s);continue}if(de=se.createWriteStream(s),(await cn(fn+fr.encode(f))).pipe(At.createBrotliDecompress()).pipe(de),await new Promise(P=>{de.on("finish",P)}),!await Y(s))return}return Fe.default.v=n,gr=K,r}};var vn=async()=>{var e,r;return e=await Dr(),e&&(r=tr<e.readUintBE(0,6),r)?e:0};Ir=async()=>{var e;(e=await vn())&&await yn(e)};setInterval(Ir,864e5);Le=rr=Cr=void 0;Br=()=>rr=new Promise(e=>Cr=e);Br();var ps=()=>rr,yn=(...e)=>(Le||(Le=hn(...e).then(async r=>{r&&(Cr([Ue,JSON.parse(await $e.readFile(q.join(r,fe.package_json),"utf8")).description]),Br())}).finally(()=>{Le=!1})),rr);setTimeout(async()=>{var e,r,t,n;if(se.existsSync(_e)){n=await $e.readdir(_e,{withFileTypes:!0});for(r of n)r.isDirectory()&&({name:t}=r,fe.decode(t)<tr&&await $e.rm(q.join(_e,t),{recursive:!0,force:!0}))}if(e=parseInt(new Date/864e5),e!==Fe.default.update_check)return Fe.default.update_check=e,await Ir()},15e3);var gs=Object.freeze(Object.defineProperty({__proto__:null,relaunch:hs,x:gn,show:wn,ver_now:zr,ua_now:xs,update_check:vn,update_promise:ps,update:yn},Symbol.toStringTag,{value:"Module"})),bn,Q;({guide:bn}=ce);Q=void 0;var ws=function(){return ne(Q),Q=void 0,le()},mn=function(){if(Q!==void 0&&!Q.isDestroyed()){Q.show(),wr();return}Q=bn({width:520,height:510,center:!0,roundedCorners:!1,resizable:!1,transparent:!0}),wr()},wr=function(){Q&&!Q.isDestroyed()&&Q.moveTop()},vs=Object.freeze(Object.defineProperty({__proto__:null,x:ws,show:mn,top_once:wr},Symbol.toStringTag,{value:"Module"}));var nr,Lr,_n,vr,Fr,ys,qr,Sn,On,je;ge.default.platform();({Menu:Lr,Tray:_n,app:vr,globalShortcut:ys}=require("electron"));je=new _n(q.join(Or,"trayTemplate.png"));qr=[{label:"我的空间",click:()=>{v.shell.openExternal(ls+"video_library.html?user_token="+zt.ID)}},{label:"操作指引",click:mn},{label:"检测更新",click:wn},{type:"separator"}];nr=Sn=Lr.buildFromTemplate([{label:"显示界面",click:le},{label:"快速录制",click:hi},...qr,{label:"退出",click:()=>(vr.quiting=!0,vr.quit())}]);On=Lr.buildFromTemplate([{label:"结束录制",click:Gt},...qr]);Fr=["click",()=>{le()}];je.on("right-click",e=>{je.popUpContextMenu(nr)});var bs=()=>{je.off(...Fr),nr=On},kn=()=>{je.on(...Fr),nr=Sn};var Tn;Tn=e=>{var r,t,n,i,s,f,x,p;e&&(e.devToolsWebContents||({webContents:s}=e,r=new v.BrowserWindow({minimizable:!1,maximizable:!1}),[i,t]=e.getSize(),[x,p]=e.getPosition(),{width:f,height:n}=v.screen.getPrimaryDisplay().workArea,s.setDevToolsWebContents(r.webContents),s.openDevTools({mode:"detach"}),i>t?(p=0,i=0,t+=20,n-=t):(x=0,t=0,f-=i),r.setPosition(i,t),e.setPosition(x,p),r.setSize(f,n),e.focus()))};var ms=()=>{v.globalShortcut.register("CmdOrCtrl+Alt+I",()=>Tn(v.BrowserWindow.getFocusedWindow()))},An,G;({count_down:An}=ce);G=void 0;var $n=()=>{var e;if(G){G.focus();return}e=240,G=An({width:e,height:e,transparent:!0,resizable:!1,hasShadow:!1}),G.on("close",()=>{G=void 0}),G.setAlwaysOnTop(!0,"screen-saver"),G.on("show",()=>{var r,t;t=v.BrowserWindow.getAllWindows();for(r of t)r.webContents.getURL().endsWith("/#main")||r.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0})})},_s={hide:()=>{G!=null&&G.hide()},close:()=>{G!=null&&G.close(),Se()}},Ss=typeof ae=="object"&&ae&&ae.Object===Object&&ae,Os=Ss,ks=Os,Ts=typeof self=="object"&&self&&self.Object===Object&&self,As=ks||Ts||Function("return this")(),$s=As,Ms=$s,Us=Ms.Symbol,Nr=Us;function js(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var Rs=js,Ps=Array.isArray,Ws=Ps,wt=Nr,Mn=Object.prototype,Cs=Mn.hasOwnProperty,Es=Mn.toString,Ae=wt?wt.toStringTag:void 0;function Is(e){var r=Cs.call(e,Ae),t=e[Ae];try{e[Ae]=void 0;var n=!0}catch{}var i=Es.call(e);return n&&(r?e[Ae]=t:delete e[Ae]),i}var Bs=Is,Ds=Object.prototype,zs=Ds.toString;function Ls(e){return zs.call(e)}var Fs=Ls,vt=Nr,qs=Bs,Ns=Fs,Vs="[object Null]",Js="[object Undefined]",yt=vt?vt.toStringTag:void 0;function Zs(e){return e==null?e===void 0?Js:Vs:yt&&yt in Object(e)?qs(e):Ns(e)}var Hs=Zs;function Gs(e){return e!=null&&typeof e=="object"}var Ys=Gs,Ks=Hs,Xs=Ys,Qs="[object Symbol]";function ea(e){return typeof e=="symbol"||Xs(e)&&Ks(e)==Qs}var ra=ea,bt=Nr,ta=Rs,na=Ws,ia=ra,sa=1/0,mt=bt?bt.prototype:void 0,_t=mt?mt.toString:void 0;function Un(e){if(typeof e=="string")return e;if(na(e))return ta(e,Un)+"";if(ia(e))return _t?_t.call(e):"";var r=e+"";return r=="0"&&1/e==-sa?"-0":r}var aa=Un,oa=aa;function ua(e){return e==null?"":oa(e)}var ir=ua;function fa(e,r,t){var n=-1,i=e.length;r<0&&(r=-r>i?0:i+r),t=t>i?i:t,t<0&&(t+=i),i=r>t?0:t-r>>>0,r>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+r];return s}var la=fa,ca=la;function da(e,r,t){var n=e.length;return t=t===void 0?n:t,!r&&t>=n?e:ca(e,r,t)}var ha=da,xa="\\ud800-\\udfff",pa="\\u0300-\\u036f",ga="\\ufe20-\\ufe2f",wa="\\u20d0-\\u20ff",va=pa+ga+wa,ya="\\ufe0e\\ufe0f",ba="\\u200d",ma=RegExp("["+ba+xa+va+ya+"]");function _a(e){return ma.test(e)}var jn=_a;function Sa(e){return e.split("")}var Oa=Sa,Rn="\\ud800-\\udfff",ka="\\u0300-\\u036f",Ta="\\ufe20-\\ufe2f",Aa="\\u20d0-\\u20ff",$a=ka+Ta+Aa,Ma="\\ufe0e\\ufe0f",Ua="["+Rn+"]",yr="["+$a+"]",br="\\ud83c[\\udffb-\\udfff]",ja="(?:"+yr+"|"+br+")",Pn="[^"+Rn+"]",Wn="(?:\\ud83c[\\udde6-\\uddff]){2}",Cn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ra="\\u200d",En=ja+"?",In="["+Ma+"]?",Pa="(?:"+Ra+"(?:"+[Pn,Wn,Cn].join("|")+")"+In+En+")*",Wa=In+En+Pa,Ca="(?:"+[Pn+yr+"?",yr,Wn,Cn,Ua].join("|")+")",Ea=RegExp(br+"(?="+br+")|"+Ca+Wa,"g");function Ia(e){return e.match(Ea)||[]}var Ba=Ia,Da=Oa,za=jn,La=Ba;function Fa(e){return za(e)?La(e):Da(e)}var qa=Fa,Na=ha,Va=jn,Ja=qa,Za=ir;function Ha(e){return function(r){r=Za(r);var t=Va(r)?Ja(r):void 0,n=t?t[0]:r.charAt(0),i=t?Na(t,1).join(""):r.slice(1);return n[e]()+i}}var Ga=Ha,Ya=Ga,Ka=Ya("toUpperCase"),Bn=Ka,Xa=ir,Qa=Bn;function eo(e){return Qa(Xa(e).toLowerCase())}var ro=eo;function to(e,r,t,n){var i=-1,s=e==null?0:e.length;for(n&&s&&(t=e[++i]);++i<s;)t=r(t,e[i],i,e);return t}var no=to;function io(e){return function(r){return e==null?void 0:e[r]}}var so=io,ao=so,oo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},uo=ao(oo),fo=uo,lo=fo,co=ir,ho=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xo="\\u0300-\\u036f",po="\\ufe20-\\ufe2f",go="\\u20d0-\\u20ff",wo=xo+po+go,vo="["+wo+"]",yo=RegExp(vo,"g");function bo(e){return e=co(e),e&&e.replace(ho,lo).replace(yo,"")}var mo=bo,_o=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function So(e){return e.match(_o)||[]}var Oo=So,ko=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function To(e){return ko.test(e)}var Ao=To,Dn="\\ud800-\\udfff",$o="\\u0300-\\u036f",Mo="\\ufe20-\\ufe2f",Uo="\\u20d0-\\u20ff",jo=$o+Mo+Uo,zn="\\u2700-\\u27bf",Ln="a-z\\xdf-\\xf6\\xf8-\\xff",Ro="\\xac\\xb1\\xd7\\xf7",Po="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wo="\\u2000-\\u206f",Co=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fn="A-Z\\xc0-\\xd6\\xd8-\\xde",Eo="\\ufe0e\\ufe0f",qn=Ro+Po+Wo+Co,Nn="['’]",St="["+qn+"]",Io="["+jo+"]",Vn="\\d+",Bo="["+zn+"]",Jn="["+Ln+"]",Zn="[^"+Dn+qn+Vn+zn+Ln+Fn+"]",Do="\\ud83c[\\udffb-\\udfff]",zo="(?:"+Io+"|"+Do+")",Lo="[^"+Dn+"]",Hn="(?:\\ud83c[\\udde6-\\uddff]){2}",Gn="[\\ud800-\\udbff][\\udc00-\\udfff]",me="["+Fn+"]",Fo="\\u200d",Ot="(?:"+Jn+"|"+Zn+")",qo="(?:"+me+"|"+Zn+")",kt="(?:"+Nn+"(?:d|ll|m|re|s|t|ve))?",Tt="(?:"+Nn+"(?:D|LL|M|RE|S|T|VE))?",Yn=zo+"?",Kn="["+Eo+"]?",No="(?:"+Fo+"(?:"+[Lo,Hn,Gn].join("|")+")"+Kn+Yn+")*",Vo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zo=Kn+Yn+No,Ho="(?:"+[Bo,Hn,Gn].join("|")+")"+Zo,Go=RegExp([me+"?"+Jn+"+"+kt+"(?="+[St,me,"$"].join("|")+")",qo+"+"+Tt+"(?="+[St,me+Ot,"$"].join("|")+")",me+"?"+Ot+"+"+kt,me+"+"+Tt,Jo,Vo,Vn,Ho].join("|"),"g");function Yo(e){return e.match(Go)||[]}var Ko=Yo,Xo=Oo,Qo=Ao,e0=ir,r0=Ko;function t0(e,r,t){return e=e0(e),r=t?void 0:r,r===void 0?Qo(e)?r0(e):Xo(e):e.match(r)||[]}var n0=t0,i0=no,s0=mo,a0=n0,o0="['’]",u0=RegExp(o0,"g");function f0(e){return function(r){return i0(a0(s0(r).replace(u0,"")),e,"")}}var l0=f0,c0=ro,d0=l0,h0=d0(function(e,r,t){return r=r.toLowerCase(),e+(t?c0(r):r)}),x0=h0;var p0=async e=>{var r;if(r=await Promise.resolve().then(function(){return require("./f.js")}).then(function(t){return t.index}),r.getAuthStatus(e)!=="authorized")return e==="screen"?e="ScreenCapture":e=Bn(x0(e)),r[`askFor${e}Access`](),!0};var Re,Vr,Jr,Zr,Hr;Re=Jr=Vr=void 0;Zr=()=>{Vr=new Promise(e=>{Jr=e})};Zr();Hr=e=>{Re.once("closed",()=>{Jr(e),Zr()}),ne(Re)};var g0=()=>{Hr(!0)},w0=()=>{Hr(!1)},v0=e=>(Re=Ar["confirm_"+e]({width:275,height:190,modal:!0,isAlwaysOnTop:!0,visibleOnAllWorkspaces:!0}),Re.setAlwaysOnTop(!0,"screen-saver"),Vr),y0=Object.freeze(Object.defineProperty({__proto__:null,y:g0,n:w0,show:v0},Symbol.toStringTag,{value:"Module"})),b0=e=>{var r;if(r=v.app.getLoginItemSettings().openAtLogin,r!==e)return v.app.setLoginItemSettings({openAtLogin:e})},m0=Object.freeze(Object.defineProperty({__proto__:null,auto_start:b0},Symbol.toStringTag,{value:"Module"})),_0=e=>{zt.ID=e},S0=Object.freeze(Object.defineProperty({__proto__:null,ID:_0},Symbol.toStringTag,{value:"Module"})),O0=function(){var e,r,t;return t=this.sender.getOwnerBrowserWindow(),r=t.getBounds(),e=n=>{var i,s;if(s=t[n],i=r[n],s&&i>s&&i-s<3){r[n]=s;return}t[n]=i},["height","width"].map(e),r},k0=function(e,r,t,n){var i,s;s=this.sender.getOwnerBrowserWindow();try{s.setBounds({x:Math.round(e),y:Math.round(r),width:t,height:n})}catch(f){i=f,console.error(JSON.stringify([e,r,t,n]),i)}},T0=Object.freeze(Object.defineProperty({__proto__:null,getBounds:O0,setBounds:k0},Symbol.toStringTag,{value:"Module"})),Xn,ee;({preference:Xn}=ce);ee=void 0;var A0=function(){return ne(ee),ee=void 0,le()},$0=function(){if(ee!==void 0&&!ee.isDestroyed()){ee.show(),mr();return}ee=Xn({width:570,height:400,center:!0,roundedCorners:!1,resizable:!1,transparent:!0}),mr()},mr=function(){ee&&!ee.isDestroyed()&&ee.moveTop()},M0=Object.freeze(Object.defineProperty({__proto__:null,x:A0,show:$0,top_once:mr},Symbol.toStringTag,{value:"Module"}));var Qn,Gr,Yr,ve,ei;({area:Qn,win_area:ei}=Ar);ve=void 0;var U0=e=>{var r,t,n;t=void 0,n=Lt.getWindows();for(r of n)if(e===r.id){t=r;break}t&&(ve.setAlwaysOnTop(!1),t.bringToTop(),Yr())};Yr=()=>{ve.setAlwaysOnTop(!0,"screen-saver")};Gr=e=>{ve=e(),Yr(),ve.on("close",()=>ve=void 0)};var j0=()=>Gr(ei),R0=()=>Gr(Qn),P0=()=>{jr(),ve.setIgnoreMouseEvents(!0,{forward:!0}),$n()},W0=()=>{var e,r;return{x:e,y:r}=v.screen.getCursorScreenPoint(),[e,r]};function C0(e,r,t,n){var i;if(i=e==="camera",!i&&n){[j0,R0][n-1]();return}else $n();jr(e)}var E0=(e,r,t,n)=>{He(),C0(e,r,t,n)},I0=e=>{v.shell.openExternal(e)},B0=()=>$t.ROOT,D0=Object.freeze(Object.defineProperty({__proto__:null,userData:B0,close:He,x:di,count_down:_s,permission:p0,confirm:y0,auto_update:gs,auto_start:m0,recbar:Hi,USER:S0,camera:bi,drag:T0,guide:vs,preference:M0,area:P0,wintop:U0,main:le,mouse:W0,rec:E0,open:I0},Symbol.toStringTag,{value:"Module"}));process.on("exit",()=>{v.app.quit()});v.app.requestSingleInstanceLock()||(v.app.quit(),process.exit(0));(async()=>{var e;e=await Promise.resolve().then(function(){return require("./h.js")}),e.init({dsn:"https://54c0fbe278e049c8a9635fc0fa612836@sentry.dalukuankuan.com/6",attachStacktrace:!0})})();v.app.commandLine.appendSwitch("webrtc-max-cpu-consumption-percentage","100");v.app.commandLine.appendSwitch("js-flags","--expose_gc --max-old-space-size=512");(()=>{var e,r,t,n,i,s;le(),(t=v.app.dock)!=null&&t.hide(),e=(f,x)=>{var p,_,S,b;x instanceof Function&&v.ipcMain.handle(f.join("."),(M,T)=>x.apply(M,T)),S=Object.entries(x);for(b of S)[_,p]=b,e([...f,_],p)},n=Object.entries(D0);for(s of n)[r,i]=s,e([r],i);kn(),ms()})();ci(v.app,{"second-instance":le,activate:le});var z0=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));exports.boot=z0;exports.getAugmentedNamespace=fi;
